2023-02-20 10:09:47,925 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 10:09:47,946 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 26649 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 10:09:47,947 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 10:09:48,315 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 10:09:48,346 [INFO] [main] Finished Spring Data repository scanning in 27 ms. Found 3 JPA repository interfaces.
2023-02-20 10:09:48,675 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 10:09:48,681 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 10:09:48,682 [INFO] [main] Starting service [Tomcat]
2023-02-20 10:09:48,682 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 10:09:48,734 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 10:09:48,734 [INFO] [main] Root WebApplicationContext: initialization completed in 758 ms
2023-02-20 10:09:48,857 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 10:09:49,046 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 10:09:49,120 [INFO] [main] Set default schema name to public
2023-02-20 10:09:49,194 [INFO] [main] Successfully acquired change log lock
2023-02-20 10:09:49,232 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 10:09:49,239 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 10:09:49,240 [INFO] [main] Reading resource: db/changelog/changes/v0003.sql
2023-02-20 10:09:49,302 [INFO] [main] Reading from public.databasechangelog
2023-02-20 10:09:49,334 [INFO] [main] Successfully released change log lock
2023-02-20 10:09:49,380 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 10:09:49,403 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 10:09:49,470 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 10:09:49,516 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 10:09:49,823 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 10:09:49,826 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:09:50,159 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 10:09:50,253 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@445f6aa7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a4238ff, org.springframework.security.web.context.SecurityContextPersistenceFilter@6de4071b, org.springframework.security.web.header.HeaderWriterFilter@217009bd, org.springframework.web.filter.CorsFilter@2b98c310, org.springframework.security.web.authentication.logout.LogoutFilter@139b3a29, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@c931728, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3fe3ebb3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22a1d77b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19834eb7, org.springframework.security.web.session.SessionManagementFilter@689ea211, org.springframework.security.web.access.ExceptionTranslationFilter@29ddaa8e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5bfeb9ba]
2023-02-20 10:09:50,362 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 10:09:50,369 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 10:09:50,376 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.72 seconds (JVM running for 2.923)
2023-02-20 10:09:59,727 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 10:09:59,727 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 10:09:59,728 [INFO] [http-nio-8080-exec-2] Completed initialization in 1 ms
2023-02-20 10:10:49,557 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:10:49,558 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 10:10:49,562 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 10:10:51,461 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 10:10:51,482 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 27102 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 10:10:51,483 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 10:10:51,844 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 10:10:51,874 [INFO] [main] Finished Spring Data repository scanning in 26 ms. Found 3 JPA repository interfaces.
2023-02-20 10:10:52,213 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 10:10:52,220 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 10:10:52,220 [INFO] [main] Starting service [Tomcat]
2023-02-20 10:10:52,220 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 10:10:52,270 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 10:10:52,270 [INFO] [main] Root WebApplicationContext: initialization completed in 758 ms
2023-02-20 10:10:52,388 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 10:10:52,573 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 10:10:52,645 [INFO] [main] Set default schema name to public
2023-02-20 10:10:52,712 [INFO] [main] Successfully acquired change log lock
2023-02-20 10:10:52,749 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 10:10:52,755 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 10:10:52,756 [INFO] [main] Reading resource: db/changelog/changes/v0003.sql
2023-02-20 10:10:52,820 [INFO] [main] Reading from public.databasechangelog
2023-02-20 10:10:52,856 [INFO] [main] Successfully released change log lock
2023-02-20 10:10:52,913 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 10:10:52,938 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 10:10:53,019 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 10:10:53,067 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 10:10:53,376 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 10:10:53,380 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:10:53,737 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 10:10:53,864 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@26361572, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5dc8448b, org.springframework.security.web.context.SecurityContextPersistenceFilter@470866d1, org.springframework.security.web.header.HeaderWriterFilter@1c24639e, org.springframework.web.filter.CorsFilter@30259c61, org.springframework.security.web.authentication.logout.LogoutFilter@78e59b04, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@79982bcc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@118c1faa, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@da5b46f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@33d08a24, org.springframework.security.web.session.SessionManagementFilter@22fe90df, org.springframework.security.web.access.ExceptionTranslationFilter@5b49b1df, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6a4238ff]
2023-02-20 10:10:54,003 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 10:10:54,013 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 10:10:54,021 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.819 seconds (JVM running for 3.011)
2023-02-20 10:10:54,634 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 10:10:54,634 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 10:10:54,635 [INFO] [http-nio-8080-exec-2] Completed initialization in 1 ms
2023-02-20 10:11:22,627 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:11:22,628 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 10:11:22,632 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 10:11:24,682 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 10:11:24,707 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 27283 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 10:11:24,708 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 10:11:25,084 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 10:11:25,114 [INFO] [main] Finished Spring Data repository scanning in 26 ms. Found 3 JPA repository interfaces.
2023-02-20 10:11:25,440 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 10:11:25,446 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 10:11:25,447 [INFO] [main] Starting service [Tomcat]
2023-02-20 10:11:25,447 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 10:11:25,495 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 10:11:25,496 [INFO] [main] Root WebApplicationContext: initialization completed in 756 ms
2023-02-20 10:11:25,617 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 10:11:25,801 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 10:11:25,877 [INFO] [main] Set default schema name to public
2023-02-20 10:11:25,944 [INFO] [main] Successfully acquired change log lock
2023-02-20 10:11:25,991 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 10:11:25,997 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 10:11:25,998 [INFO] [main] Reading resource: db/changelog/changes/v0003.sql
2023-02-20 10:11:26,067 [INFO] [main] Reading from public.databasechangelog
2023-02-20 10:11:26,098 [INFO] [main] Successfully released change log lock
2023-02-20 10:11:26,142 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 10:11:26,165 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 10:11:26,233 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 10:11:26,275 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 10:11:26,568 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 10:11:26,572 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:11:26,923 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 10:11:27,023 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4e3c0627, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@57f6fc09, org.springframework.security.web.context.SecurityContextPersistenceFilter@6046fba0, org.springframework.security.web.header.HeaderWriterFilter@712213ed, org.springframework.web.filter.CorsFilter@ae5d544, org.springframework.security.web.authentication.logout.LogoutFilter@7827cdfc, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@48301bfe, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54cce500, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@755033c5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5aec151b, org.springframework.security.web.session.SessionManagementFilter@29ddaa8e, org.springframework.security.web.access.ExceptionTranslationFilter@6413eeb7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3615f8d9]
2023-02-20 10:11:27,141 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 10:11:27,150 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 10:11:27,157 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.731 seconds (JVM running for 2.921)
2023-02-20 10:11:30,991 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 10:11:30,991 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 10:11:30,992 [INFO] [http-nio-8080-exec-2] Completed initialization in 1 ms
2023-02-20 10:11:31,023 [ERROR] [http-nio-8080-exec-2] JWT token is expired: JWT expired at 2023-02-20T10:11:31Z. Current time: 2023-02-20T10:11:31Z, a difference of 23 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 10:11:35,300 [ERROR] [http-nio-8080-exec-3] JWT token is expired: JWT expired at 2023-02-20T10:11:31Z. Current time: 2023-02-20T10:11:35Z, a difference of 4300 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 10:14:42,838 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:14:42,839 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 10:14:42,842 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 10:14:44,878 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 10:14:44,901 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 28034 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 10:14:44,902 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 10:14:45,250 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 10:14:45,282 [INFO] [main] Finished Spring Data repository scanning in 27 ms. Found 3 JPA repository interfaces.
2023-02-20 10:14:45,604 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 10:14:45,610 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 10:14:45,611 [INFO] [main] Starting service [Tomcat]
2023-02-20 10:14:45,611 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 10:14:45,661 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 10:14:45,661 [INFO] [main] Root WebApplicationContext: initialization completed in 733 ms
2023-02-20 10:14:45,778 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 10:14:45,961 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 10:14:46,033 [INFO] [main] Set default schema name to public
2023-02-20 10:14:46,097 [INFO] [main] Successfully acquired change log lock
2023-02-20 10:14:46,132 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 10:14:46,138 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 10:14:46,139 [INFO] [main] Reading resource: db/changelog/changes/v0003.sql
2023-02-20 10:14:46,192 [INFO] [main] Reading from public.databasechangelog
2023-02-20 10:14:46,221 [INFO] [main] Successfully released change log lock
2023-02-20 10:14:46,260 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 10:14:46,288 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 10:14:46,371 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 10:14:46,422 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 10:14:46,731 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 10:14:46,735 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:14:47,062 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 10:14:47,164 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@11a0c708, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@30bfdcc5, org.springframework.security.web.context.SecurityContextPersistenceFilter@6046fba0, org.springframework.security.web.header.HeaderWriterFilter@712213ed, org.springframework.web.filter.CorsFilter@1e9b0c92, org.springframework.security.web.authentication.logout.LogoutFilter@7827cdfc, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@48301bfe, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54cce500, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@755033c5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5bfeb9ba, org.springframework.security.web.session.SessionManagementFilter@29ddaa8e, org.springframework.security.web.access.ExceptionTranslationFilter@6413eeb7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@784c74e]
2023-02-20 10:14:47,278 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 10:14:47,286 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 10:14:47,294 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.677 seconds (JVM running for 2.886)
2023-02-20 10:14:49,319 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 10:14:49,319 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 10:14:49,320 [INFO] [http-nio-8080-exec-1] Completed initialization in 0 ms
2023-02-20 10:14:49,350 [ERROR] [http-nio-8080-exec-1] JWT token is expired: JWT expired at 2023-02-20T10:12:35Z. Current time: 2023-02-20T10:14:49Z, a difference of 134349 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 10:14:49,362 [ERROR] [http-nio-8080-exec-1] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ClassCastException: class java.lang.String cannot be cast to class ru.bogdanov.SpringBootsecurityjwt.security.service.UserDetailsImpl (java.lang.String is in module java.base of loader 'bootstrap'; ru.bogdanov.SpringBootsecurityjwt.security.service.UserDetailsImpl is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class ru.bogdanov.SpringBootsecurityjwt.security.service.UserDetailsImpl (java.lang.String is in module java.base of loader 'bootstrap'; ru.bogdanov.SpringBootsecurityjwt.security.service.UserDetailsImpl is in unnamed module of loader 'app')
	at ru.bogdanov.SpringBootsecurityjwt.controller.CurrentUserController.getCurrentUser(CurrentUserController.java:23)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-02-20 10:15:01,107 [ERROR] [http-nio-8080-exec-4] JWT token is expired: JWT expired at 2023-02-20T10:12:35Z. Current time: 2023-02-20T10:15:01Z, a difference of 146106 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 10:17:04,343 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:17:04,344 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 10:17:04,349 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 10:17:06,335 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 10:17:06,359 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 28425 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 10:17:06,360 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 10:17:06,732 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 10:17:06,765 [INFO] [main] Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.
2023-02-20 10:17:07,122 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 10:17:07,128 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 10:17:07,129 [INFO] [main] Starting service [Tomcat]
2023-02-20 10:17:07,129 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 10:17:07,182 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 10:17:07,182 [INFO] [main] Root WebApplicationContext: initialization completed in 791 ms
2023-02-20 10:17:07,309 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 10:17:07,493 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 10:17:07,571 [INFO] [main] Set default schema name to public
2023-02-20 10:17:07,645 [INFO] [main] Successfully acquired change log lock
2023-02-20 10:17:07,689 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 10:17:07,695 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 10:17:07,696 [INFO] [main] Reading resource: db/changelog/changes/v0003.sql
2023-02-20 10:17:07,760 [INFO] [main] Reading from public.databasechangelog
2023-02-20 10:17:07,795 [INFO] [main] Successfully released change log lock
2023-02-20 10:17:07,839 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 10:17:07,860 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 10:17:07,929 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 10:17:07,974 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 10:17:08,280 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 10:17:08,284 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:17:08,607 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 10:17:08,707 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5aec151b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@74cf2d5f, org.springframework.security.web.context.SecurityContextPersistenceFilter@571903ff, org.springframework.security.web.header.HeaderWriterFilter@d7c00de, org.springframework.web.filter.CorsFilter@14b9817b, org.springframework.security.web.authentication.logout.LogoutFilter@125ba798, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@19542115, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3f1e18b1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@727de450, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3052395d, org.springframework.security.web.session.SessionManagementFilter@1c24639e, org.springframework.security.web.access.ExceptionTranslationFilter@68ea1eb5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4e3c0627]
2023-02-20 10:17:08,825 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 10:17:08,834 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 10:17:08,841 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.772 seconds (JVM running for 2.991)
2023-02-20 10:17:10,455 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 10:17:10,455 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 10:17:10,456 [INFO] [http-nio-8080-exec-1] Completed initialization in 0 ms
2023-02-20 10:17:10,487 [ERROR] [http-nio-8080-exec-1] JWT token is expired: JWT expired at 2023-02-20T10:16:01Z. Current time: 2023-02-20T10:17:10Z, a difference of 69487 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 10:17:13,040 [ERROR] [http-nio-8080-exec-3] JWT token is expired: JWT expired at 2023-02-20T10:16:01Z. Current time: 2023-02-20T10:17:13Z, a difference of 72039 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 10:17:13,770 [ERROR] [http-nio-8080-exec-4] JWT token is expired: JWT expired at 2023-02-20T10:16:01Z. Current time: 2023-02-20T10:17:13Z, a difference of 72770 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 10:17:28,628 [ERROR] [http-nio-8080-exec-5] JWT token is expired: JWT expired at 2023-02-20T10:16:01Z. Current time: 2023-02-20T10:17:28Z, a difference of 87628 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 10:18:10,738 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:18:10,739 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 10:18:10,743 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 10:18:12,733 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 10:18:12,756 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 28679 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 10:18:12,757 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 10:18:13,176 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 10:18:13,210 [INFO] [main] Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
2023-02-20 10:18:13,541 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 10:18:13,548 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 10:18:13,548 [INFO] [main] Starting service [Tomcat]
2023-02-20 10:18:13,548 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 10:18:13,602 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 10:18:13,603 [INFO] [main] Root WebApplicationContext: initialization completed in 817 ms
2023-02-20 10:18:13,729 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 10:18:13,907 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 10:18:13,976 [INFO] [main] Set default schema name to public
2023-02-20 10:18:14,032 [INFO] [main] Successfully acquired change log lock
2023-02-20 10:18:14,069 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 10:18:14,076 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 10:18:14,077 [INFO] [main] Reading resource: db/changelog/changes/v0003.sql
2023-02-20 10:18:14,139 [INFO] [main] Reading from public.databasechangelog
2023-02-20 10:18:14,174 [INFO] [main] Successfully released change log lock
2023-02-20 10:18:14,224 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 10:18:14,246 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 10:18:14,318 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 10:18:14,366 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 10:18:14,665 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 10:18:14,669 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:18:15,015 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 10:18:15,115 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@26361572, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5dc8448b, org.springframework.security.web.context.SecurityContextPersistenceFilter@99f75e4, org.springframework.security.web.header.HeaderWriterFilter@689ea211, org.springframework.web.filter.CorsFilter@30259c61, org.springframework.security.web.authentication.logout.LogoutFilter@3ad9fea, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@37f7ce20, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5aefdb9e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7a491a60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@33d08a24, org.springframework.security.web.session.SessionManagementFilter@11267e87, org.springframework.security.web.access.ExceptionTranslationFilter@4ac0fdc7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6a4238ff]
2023-02-20 10:18:15,247 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 10:18:15,255 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 10:18:15,262 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.787 seconds (JVM running for 2.978)
2023-02-20 10:18:16,440 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 10:18:16,440 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 10:18:16,441 [INFO] [http-nio-8080-exec-2] Completed initialization in 1 ms
2023-02-20 10:19:15,583 [ERROR] [http-nio-8080-exec-5] JWT token is expired: JWT expired at 2023-02-20T10:18:53Z. Current time: 2023-02-20T10:19:15Z, a difference of 22583 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 10:19:29,838 [ERROR] [http-nio-8080-exec-6] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 10:19:39,622 [ERROR] [http-nio-8080-exec-7] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 10:19:53,825 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:19:53,827 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 10:19:53,831 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 10:19:55,833 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 10:19:55,857 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 29073 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 10:19:55,858 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 10:19:56,240 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 10:19:56,271 [INFO] [main] Finished Spring Data repository scanning in 26 ms. Found 3 JPA repository interfaces.
2023-02-20 10:19:56,618 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 10:19:56,624 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 10:19:56,625 [INFO] [main] Starting service [Tomcat]
2023-02-20 10:19:56,625 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 10:19:56,678 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 10:19:56,679 [INFO] [main] Root WebApplicationContext: initialization completed in 786 ms
2023-02-20 10:19:56,804 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 10:19:56,983 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 10:19:57,054 [INFO] [main] Set default schema name to public
2023-02-20 10:19:57,117 [INFO] [main] Successfully acquired change log lock
2023-02-20 10:19:57,163 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 10:19:57,171 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 10:19:57,172 [INFO] [main] Reading resource: db/changelog/changes/v0003.sql
2023-02-20 10:19:57,241 [INFO] [main] Reading from public.databasechangelog
2023-02-20 10:19:57,279 [INFO] [main] Successfully released change log lock
2023-02-20 10:19:57,336 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 10:19:57,365 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 10:19:57,440 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 10:19:57,486 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 10:19:57,801 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 10:19:57,804 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:19:58,140 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 10:19:58,275 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@68c3aa38, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1196537d, org.springframework.security.web.context.SecurityContextPersistenceFilter@99f75e4, org.springframework.security.web.header.HeaderWriterFilter@689ea211, org.springframework.web.filter.CorsFilter@267a8777, org.springframework.security.web.authentication.logout.LogoutFilter@3ad9fea, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@37f7ce20, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5aefdb9e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7a491a60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@175c26ff, org.springframework.security.web.session.SessionManagementFilter@11267e87, org.springframework.security.web.access.ExceptionTranslationFilter@4ac0fdc7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3a286095]
2023-02-20 10:19:58,445 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 10:19:58,457 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 10:19:58,466 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.921 seconds (JVM running for 3.123)
2023-02-20 10:19:59,536 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 10:19:59,536 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 10:19:59,537 [INFO] [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-02-20 10:19:59,551 [ERROR] [http-nio-8080-exec-1] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 10:20:01,392 [ERROR] [http-nio-8080-exec-3] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 10:20:11,609 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:20:11,610 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 10:20:11,614 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 10:20:13,661 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 10:20:13,685 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 29267 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 10:20:13,685 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 10:20:14,067 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 10:20:14,100 [INFO] [main] Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.
2023-02-20 10:20:14,438 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 10:20:14,444 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 10:20:14,445 [INFO] [main] Starting service [Tomcat]
2023-02-20 10:20:14,445 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 10:20:14,508 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 10:20:14,509 [INFO] [main] Root WebApplicationContext: initialization completed in 796 ms
2023-02-20 10:20:14,629 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 10:20:14,810 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 10:20:14,884 [INFO] [main] Set default schema name to public
2023-02-20 10:20:14,936 [INFO] [main] Successfully acquired change log lock
2023-02-20 10:20:14,970 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 10:20:14,975 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 10:20:14,977 [INFO] [main] Reading resource: db/changelog/changes/v0003.sql
2023-02-20 10:20:15,027 [INFO] [main] Reading from public.databasechangelog
2023-02-20 10:20:15,058 [INFO] [main] Successfully released change log lock
2023-02-20 10:20:15,098 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 10:20:15,120 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 10:20:15,188 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 10:20:15,231 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 10:20:15,532 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 10:20:15,536 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:20:15,879 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 10:20:15,977 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@26361572, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5dc8448b, org.springframework.security.web.context.SecurityContextPersistenceFilter@99f75e4, org.springframework.security.web.header.HeaderWriterFilter@689ea211, org.springframework.web.filter.CorsFilter@30259c61, org.springframework.security.web.authentication.logout.LogoutFilter@3ad9fea, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@37f7ce20, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5aefdb9e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7a491a60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@33d08a24, org.springframework.security.web.session.SessionManagementFilter@11267e87, org.springframework.security.web.access.ExceptionTranslationFilter@4ac0fdc7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6a4238ff]
2023-02-20 10:20:16,105 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 10:20:16,114 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 10:20:16,122 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.721 seconds (JVM running for 2.93)
2023-02-20 10:20:17,824 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 10:20:17,824 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 10:20:17,825 [INFO] [http-nio-8080-exec-2] Completed initialization in 1 ms
2023-02-20 10:20:17,840 [ERROR] [http-nio-8080-exec-2] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 10:20:17,853 [ERROR] [http-nio-8080-exec-2] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ClassCastException: class java.lang.String cannot be cast to class ru.bogdanov.SpringBootsecurityjwt.security.service.UserDetailsImpl (java.lang.String is in module java.base of loader 'bootstrap'; ru.bogdanov.SpringBootsecurityjwt.security.service.UserDetailsImpl is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class ru.bogdanov.SpringBootsecurityjwt.security.service.UserDetailsImpl (java.lang.String is in module java.base of loader 'bootstrap'; ru.bogdanov.SpringBootsecurityjwt.security.service.UserDetailsImpl is in unnamed module of loader 'app')
	at ru.bogdanov.SpringBootsecurityjwt.controller.CurrentUserController.getCurrentUser(CurrentUserController.java:27)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-02-20 10:20:24,617 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:20:24,618 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 10:20:24,623 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 10:20:26,594 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 10:20:26,617 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 29450 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 10:20:26,618 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 10:20:27,011 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 10:20:27,042 [INFO] [main] Finished Spring Data repository scanning in 27 ms. Found 3 JPA repository interfaces.
2023-02-20 10:20:27,395 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 10:20:27,402 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 10:20:27,403 [INFO] [main] Starting service [Tomcat]
2023-02-20 10:20:27,403 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 10:20:27,459 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 10:20:27,460 [INFO] [main] Root WebApplicationContext: initialization completed in 811 ms
2023-02-20 10:20:27,590 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 10:20:27,764 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 10:20:27,836 [INFO] [main] Set default schema name to public
2023-02-20 10:20:27,893 [INFO] [main] Successfully acquired change log lock
2023-02-20 10:20:27,927 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 10:20:27,932 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 10:20:27,933 [INFO] [main] Reading resource: db/changelog/changes/v0003.sql
2023-02-20 10:20:27,993 [INFO] [main] Reading from public.databasechangelog
2023-02-20 10:20:28,028 [INFO] [main] Successfully released change log lock
2023-02-20 10:20:28,067 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 10:20:28,088 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 10:20:28,157 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 10:20:28,202 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 10:20:28,508 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 10:20:28,511 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:20:28,842 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 10:20:28,932 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3052395d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a2ca681, org.springframework.security.web.context.SecurityContextPersistenceFilter@689ea211, org.springframework.security.web.header.HeaderWriterFilter@11fa11b2, org.springframework.web.filter.CorsFilter@784c74e, org.springframework.security.web.authentication.logout.LogoutFilter@3458be63, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@54ddd7e4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@727de450, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6de4071b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5fee3c9c, org.springframework.security.web.session.SessionManagementFilter@5c9168c3, org.springframework.security.web.access.ExceptionTranslationFilter@2e096ac0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5aec151b]
2023-02-20 10:20:29,046 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 10:20:29,054 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 10:20:29,061 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.731 seconds (JVM running for 2.93)
2023-02-20 10:20:29,558 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 10:20:29,558 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 10:20:29,559 [INFO] [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-02-20 10:20:29,573 [ERROR] [http-nio-8080-exec-1] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 10:20:31,041 [ERROR] [http-nio-8080-exec-3] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 10:20:31,678 [ERROR] [http-nio-8080-exec-4] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 10:20:32,169 [ERROR] [http-nio-8080-exec-5] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 10:20:33,667 [ERROR] [http-nio-8080-exec-6] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 10:20:54,402 [ERROR] [http-nio-8080-exec-2] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 10:35:05,758 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:35:05,760 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 10:35:05,764 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 10:35:07,729 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 10:35:07,751 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 30902 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 10:35:07,752 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 10:35:08,128 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 10:35:08,161 [INFO] [main] Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.
2023-02-20 10:35:08,513 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 10:35:08,519 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 10:35:08,519 [INFO] [main] Starting service [Tomcat]
2023-02-20 10:35:08,520 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 10:35:08,574 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 10:35:08,574 [INFO] [main] Root WebApplicationContext: initialization completed in 791 ms
2023-02-20 10:35:08,701 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 10:35:08,885 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 10:35:08,961 [INFO] [main] Set default schema name to public
2023-02-20 10:35:09,030 [INFO] [main] Successfully acquired change log lock
2023-02-20 10:35:09,073 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 10:35:09,080 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 10:35:09,082 [INFO] [main] Reading resource: db/changelog/changes/v0003.sql
2023-02-20 10:35:09,154 [INFO] [main] Reading from public.databasechangelog
2023-02-20 10:35:09,197 [INFO] [main] Successfully released change log lock
2023-02-20 10:35:09,245 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 10:35:09,269 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 10:35:09,337 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 10:35:09,382 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 10:35:09,683 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 10:35:09,687 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:35:10,000 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 10:35:10,102 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@623bdc46, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@411576c7, org.springframework.security.web.context.SecurityContextPersistenceFilter@3fe3ebb3, org.springframework.security.web.header.HeaderWriterFilter@248ba4fc, org.springframework.web.filter.CorsFilter@332610ad, org.springframework.security.web.authentication.logout.LogoutFilter@31daf094, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@7da6d695, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6f30d0eb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22fe90df, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45bbb3e8, org.springframework.security.web.session.SessionManagementFilter@727de450, org.springframework.security.web.access.ExceptionTranslationFilter@217009bd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1196537d]
2023-02-20 10:35:10,212 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 10:35:10,220 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 10:35:10,227 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.761 seconds (JVM running for 2.975)
2023-02-20 10:35:12,342 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 10:35:12,342 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 10:35:12,343 [INFO] [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-02-20 10:35:12,357 [ERROR] [http-nio-8080-exec-1] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 10:38:58,361 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:38:58,362 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 10:38:58,365 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 10:39:33,340 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 10:39:33,361 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 31865 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 10:39:33,362 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 10:39:33,755 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 10:39:33,789 [INFO] [main] Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
2023-02-20 10:39:34,154 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 10:39:34,160 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 10:39:34,161 [INFO] [main] Starting service [Tomcat]
2023-02-20 10:39:34,161 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 10:39:34,216 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 10:39:34,217 [INFO] [main] Root WebApplicationContext: initialization completed in 825 ms
2023-02-20 10:39:34,334 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 10:39:34,508 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 10:39:34,576 [INFO] [main] Set default schema name to public
2023-02-20 10:39:34,656 [INFO] [main] Successfully acquired change log lock
2023-02-20 10:39:34,689 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 10:39:34,694 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 10:39:34,708 [INFO] [main] Creating database history table with name: public.databasechangelog
2023-02-20 10:39:34,718 [INFO] [main] Reading from public.databasechangelog
2023-02-20 10:39:34,791 [INFO] [main] Custom SQL executed
2023-02-20 10:39:34,795 [INFO] [main] ChangeSet db/changelog/changes/v0001.sql::raw::includeAll ran successfully in 43ms
2023-02-20 10:39:34,819 [INFO] [main] Custom SQL executed
2023-02-20 10:39:34,822 [INFO] [main] ChangeSet db/changelog/changes/v0002.sql::raw::includeAll ran successfully in 9ms
2023-02-20 10:39:34,827 [INFO] [main] Successfully released change log lock
2023-02-20 10:39:34,870 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 10:39:34,891 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 10:39:34,959 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 10:39:35,004 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 10:39:35,313 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 10:39:35,317 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:39:35,664 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 10:39:35,770 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@714d7c7b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@72ad577b, org.springframework.security.web.context.SecurityContextPersistenceFilter@77604a86, org.springframework.security.web.header.HeaderWriterFilter@54f62ac6, org.springframework.web.filter.CorsFilter@99948fe, org.springframework.security.web.authentication.logout.LogoutFilter@438a65a7, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@7983a5d5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3a6409ec, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4779df3d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c31b6c2, org.springframework.security.web.session.SessionManagementFilter@5f596a1a, org.springframework.security.web.access.ExceptionTranslationFilter@4936fbc6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6fc1a1d5]
2023-02-20 10:39:35,888 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 10:39:35,896 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 10:39:35,903 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.82 seconds (JVM running for 3.021)
2023-02-20 10:40:35,376 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:40:35,377 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 10:40:35,381 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 10:40:37,354 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 10:40:37,374 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 32161 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 10:40:37,374 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 10:40:37,731 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 10:40:37,762 [INFO] [main] Finished Spring Data repository scanning in 27 ms. Found 3 JPA repository interfaces.
2023-02-20 10:40:38,089 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 10:40:38,096 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 10:40:38,097 [INFO] [main] Starting service [Tomcat]
2023-02-20 10:40:38,097 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 10:40:38,152 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 10:40:38,152 [INFO] [main] Root WebApplicationContext: initialization completed in 750 ms
2023-02-20 10:40:38,276 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 10:40:38,456 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 10:40:38,525 [INFO] [main] Set default schema name to public
2023-02-20 10:40:38,583 [INFO] [main] Successfully acquired change log lock
2023-02-20 10:40:38,617 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 10:40:38,624 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 10:40:38,700 [INFO] [main] Reading from public.databasechangelog
2023-02-20 10:40:38,739 [INFO] [main] Successfully released change log lock
2023-02-20 10:40:38,788 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 10:40:38,811 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 10:40:38,884 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 10:40:38,930 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 10:40:39,228 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 10:40:39,231 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:40:39,585 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 10:40:39,742 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2b98c310, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@19834eb7, org.springframework.security.web.context.SecurityContextPersistenceFilter@22fe90df, org.springframework.security.web.header.HeaderWriterFilter@229c4d34, org.springframework.web.filter.CorsFilter@26361572, org.springframework.security.web.authentication.logout.LogoutFilter@55a07f97, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@54ddd7e4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2e564c78, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@470866d1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5dc8448b, org.springframework.security.web.session.SessionManagementFilter@3fe3ebb3, org.springframework.security.web.access.ExceptionTranslationFilter@54cce500, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@26619e5]
2023-02-20 10:40:39,877 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 10:40:39,886 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 10:40:39,893 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.804 seconds (JVM running for 3.023)
2023-02-20 10:40:46,171 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 10:40:46,171 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 10:40:46,172 [INFO] [http-nio-8080-exec-2] Completed initialization in 0 ms
2023-02-20 10:40:46,203 [ERROR] [http-nio-8080-exec-2] JWT token is expired: JWT expired at 2023-02-20T10:36:12Z. Current time: 2023-02-20T10:40:46Z, a difference of 274203 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 10:41:40,029 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:41:40,031 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 10:41:40,035 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 10:41:43,307 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 10:41:43,327 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 32455 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 10:41:43,328 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 10:41:43,679 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 10:41:43,711 [INFO] [main] Finished Spring Data repository scanning in 27 ms. Found 3 JPA repository interfaces.
2023-02-20 10:41:44,054 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 10:41:44,060 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 10:41:44,060 [INFO] [main] Starting service [Tomcat]
2023-02-20 10:41:44,060 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 10:41:44,112 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 10:41:44,112 [INFO] [main] Root WebApplicationContext: initialization completed in 757 ms
2023-02-20 10:41:44,233 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 10:41:44,411 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 10:41:44,490 [INFO] [main] Set default schema name to public
2023-02-20 10:41:44,554 [INFO] [main] Successfully acquired change log lock
2023-02-20 10:41:44,591 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 10:41:44,598 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 10:41:44,667 [INFO] [main] Reading from public.databasechangelog
2023-02-20 10:41:44,690 [INFO] [main] Successfully released change log lock
2023-02-20 10:41:44,693 [ERROR] [main] Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'webSecurityConfig': Unsatisfied dependency expressed through field 'userDetailsService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDetailsServiceImpl': Unsatisfied dependency expressed through field 'userRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in ru.bogdanov.SpringBootsecurityjwt.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#41ad373' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#41ad373': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          db/changelog/changes/v0001.sql::raw::includeAll was: 8:f7a50dc5964767175cba642ea3f0911d but is now: 8:6aeada3f4c09b0c11335eb1d431a6958

2023-02-20 10:41:44,708 [INFO] [main] Stopping service [Tomcat]
2023-02-20 10:41:44,711 [WARN] [main] The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@18.0.2-ea/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@18.0.2-ea/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)
 java.base@18.0.2-ea/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)
 java.base@18.0.2-ea/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base@18.0.2-ea/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base@18.0.2-ea/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)
 java.base@18.0.2-ea/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
 java.base@18.0.2-ea/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
 java.base@18.0.2-ea/java.lang.Thread.run(Thread.java:833)
2023-02-20 10:41:44,711 [WARN] [main] The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@18.0.2-ea/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@18.0.2-ea/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)
 java.base@18.0.2-ea/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)
 java.base@18.0.2-ea/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base@18.0.2-ea/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1061)
 java.base@18.0.2-ea/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
 java.base@18.0.2-ea/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
 java.base@18.0.2-ea/java.lang.Thread.run(Thread.java:833)
2023-02-20 10:41:44,713 [WARN] [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
2023-02-20 10:41:44,713 [INFO] [main] HikariPool-1 - Shutdown initiated...
2023-02-20 10:41:44,718 [INFO] [main] HikariPool-1 - Shutdown completed.
2023-02-20 10:41:44,726 [INFO] [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-20 10:41:44,740 [ERROR] [main] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at ru.bogdanov.SpringBootsecurityjwt.SpringBootSecurityJwtApplication.main(SpringBootSecurityJwtApplication.java:10)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:104)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:479)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:184)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webSecurityConfig': Unsatisfied dependency expressed through field 'userDetailsService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDetailsServiceImpl': Unsatisfied dependency expressed through field 'userRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in ru.bogdanov.SpringBootsecurityjwt.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#41ad373' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#41ad373': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          db/changelog/changes/v0001.sql::raw::includeAll was: 8:f7a50dc5964767175cba642ea3f0911d but is now: 8:6aeada3f4c09b0c11335eb1d431a6958

	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:660)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:410)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:212)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:175)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:170)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:155)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:87)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:262)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:236)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:53)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5211)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1393)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1383)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1393)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1383)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:265)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:430)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDetailsServiceImpl': Unsatisfied dependency expressed through field 'userRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in ru.bogdanov.SpringBootsecurityjwt.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#41ad373' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#41ad373': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          db/changelog/changes/v0001.sql::raw::includeAll was: 8:f7a50dc5964767175cba642ea3f0911d but is now: 8:6aeada3f4c09b0c11335eb1d431a6958

	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:660)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657)
	... 64 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in ru.bogdanov.SpringBootsecurityjwt.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#41ad373' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#41ad373': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          db/changelog/changes/v0001.sql::raw::includeAll was: 8:f7a50dc5964767175cba642ea3f0911d but is now: 8:6aeada3f4c09b0c11335eb1d431a6958

	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:389)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:134)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1707)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1452)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657)
	... 78 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#41ad373': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          db/changelog/changes/v0001.sql::raw::includeAll was: 8:f7a50dc5964767175cba642ea3f0911d but is now: 8:6aeada3f4c09b0c11335eb1d431a6958

	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:510)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:374)
	... 91 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          db/changelog/changes/v0001.sql::raw::includeAll was: 8:f7a50dc5964767175cba642ea3f0911d but is now: 8:6aeada3f4c09b0c11335eb1d431a6958

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330)
	... 99 common frames omitted
Caused by: liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          db/changelog/changes/v0001.sql::raw::includeAll was: 8:f7a50dc5964767175cba642ea3f0911d but is now: 8:6aeada3f4c09b0c11335eb1d431a6958

	at liquibase.changelog.DatabaseChangeLog.validate(DatabaseChangeLog.java:296)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:231)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 108 common frames omitted
2023-02-20 10:43:40,256 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 10:43:40,276 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 33437 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 10:43:40,277 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 10:43:40,666 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 10:43:40,704 [INFO] [main] Finished Spring Data repository scanning in 33 ms. Found 3 JPA repository interfaces.
2023-02-20 10:43:41,107 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 10:43:41,113 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 10:43:41,113 [INFO] [main] Starting service [Tomcat]
2023-02-20 10:43:41,114 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 10:43:41,163 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 10:43:41,163 [INFO] [main] Root WebApplicationContext: initialization completed in 859 ms
2023-02-20 10:43:41,277 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 10:43:41,460 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 10:43:41,531 [INFO] [main] Set default schema name to public
2023-02-20 10:43:41,615 [INFO] [main] Successfully acquired change log lock
2023-02-20 10:43:41,647 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 10:43:41,652 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 10:43:41,667 [INFO] [main] Creating database history table with name: public.databasechangelog
2023-02-20 10:43:41,676 [INFO] [main] Reading from public.databasechangelog
2023-02-20 10:43:41,746 [INFO] [main] Custom SQL executed
2023-02-20 10:43:41,749 [INFO] [main] ChangeSet db/changelog/changes/v0001.sql::raw::includeAll ran successfully in 41ms
2023-02-20 10:43:41,769 [INFO] [main] Custom SQL executed
2023-02-20 10:43:41,771 [INFO] [main] ChangeSet db/changelog/changes/v0002.sql::raw::includeAll ran successfully in 8ms
2023-02-20 10:43:41,776 [INFO] [main] Successfully released change log lock
2023-02-20 10:43:41,811 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 10:43:41,832 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 10:43:41,907 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 10:43:41,958 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 10:43:42,265 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 10:43:42,269 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:43:42,607 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 10:43:42,732 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2530baf6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1e7797db, org.springframework.security.web.context.SecurityContextPersistenceFilter@4bc39640, org.springframework.security.web.header.HeaderWriterFilter@222a7429, org.springframework.web.filter.CorsFilter@4402ed61, org.springframework.security.web.authentication.logout.LogoutFilter@38213efa, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@6d84ab90, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1659d7d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6892d403, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6fc1a1d5, org.springframework.security.web.session.SessionManagementFilter@2d4f1ddd, org.springframework.security.web.access.ExceptionTranslationFilter@85eba52, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@ad6255e]
2023-02-20 10:43:42,858 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 10:43:42,868 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 10:43:42,874 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.885 seconds (JVM running for 3.119)
2023-02-20 10:43:55,696 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 10:43:55,696 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 10:43:55,697 [INFO] [http-nio-8080-exec-2] Completed initialization in 1 ms
2023-02-20 10:43:55,728 [ERROR] [http-nio-8080-exec-2] JWT token is expired: JWT expired at 2023-02-20T10:41:46Z. Current time: 2023-02-20T10:43:55Z, a difference of 129728 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 10:45:51,599 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:45:51,600 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 10:45:51,604 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 10:45:54,188 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 10:45:54,206 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 33885 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 10:45:54,207 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 10:45:54,590 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 10:45:54,622 [INFO] [main] Finished Spring Data repository scanning in 27 ms. Found 3 JPA repository interfaces.
2023-02-20 10:45:54,970 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 10:45:54,976 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 10:45:54,977 [INFO] [main] Starting service [Tomcat]
2023-02-20 10:45:54,977 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 10:45:55,030 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 10:45:55,030 [INFO] [main] Root WebApplicationContext: initialization completed in 791 ms
2023-02-20 10:45:55,162 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 10:45:55,348 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 10:45:55,423 [INFO] [main] Set default schema name to public
2023-02-20 10:45:55,479 [INFO] [main] Successfully acquired change log lock
2023-02-20 10:45:55,516 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 10:45:55,524 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 10:45:55,612 [INFO] [main] Reading from public.databasechangelog
2023-02-20 10:45:55,644 [INFO] [main] Successfully released change log lock
2023-02-20 10:45:55,685 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 10:45:55,708 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 10:45:55,778 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 10:45:55,823 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 10:45:56,130 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 10:45:56,134 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:45:56,469 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 10:45:56,569 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@54e3cba2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4f1aa2bc, org.springframework.security.web.context.SecurityContextPersistenceFilter@2b6ff016, org.springframework.security.web.header.HeaderWriterFilter@3f1e18b1, org.springframework.web.filter.CorsFilter@13e5c53c, org.springframework.security.web.authentication.logout.LogoutFilter@556e4588, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@79982bcc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a491a60, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@80b6098, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d03df76, org.springframework.security.web.session.SessionManagementFilter@118c1faa, org.springframework.security.web.access.ExceptionTranslationFilter@571903ff, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4f2a9903]
2023-02-20 10:45:56,686 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 10:45:56,694 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 10:45:56,702 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.767 seconds (JVM running for 2.979)
2023-02-20 10:45:57,818 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 10:45:57,818 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 10:45:57,819 [INFO] [http-nio-8080-exec-2] Completed initialization in 1 ms
2023-02-20 10:45:57,851 [ERROR] [http-nio-8080-exec-2] JWT token is expired: JWT expired at 2023-02-20T10:44:55Z. Current time: 2023-02-20T10:45:57Z, a difference of 62851 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 10:47:52,070 [ERROR] [http-nio-8080-exec-7] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 10:48:30,529 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:48:30,531 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 10:48:30,535 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 10:48:32,675 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 10:48:32,695 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 34302 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 10:48:32,696 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 10:48:33,069 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 10:48:33,102 [INFO] [main] Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
2023-02-20 10:48:33,441 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 10:48:33,448 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 10:48:33,449 [INFO] [main] Starting service [Tomcat]
2023-02-20 10:48:33,449 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 10:48:33,504 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 10:48:33,504 [INFO] [main] Root WebApplicationContext: initialization completed in 770 ms
2023-02-20 10:48:33,645 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 10:48:33,828 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 10:48:33,900 [INFO] [main] Set default schema name to public
2023-02-20 10:48:33,971 [INFO] [main] Successfully acquired change log lock
2023-02-20 10:48:34,012 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 10:48:34,020 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 10:48:34,089 [INFO] [main] Reading from public.databasechangelog
2023-02-20 10:48:34,126 [INFO] [main] Successfully released change log lock
2023-02-20 10:48:34,169 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 10:48:34,191 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 10:48:34,262 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 10:48:34,307 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 10:48:34,623 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 10:48:34,627 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:48:34,965 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 10:48:35,072 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@a2ca681, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@784c74e, org.springframework.security.web.context.SecurityContextPersistenceFilter@689ea211, org.springframework.security.web.header.HeaderWriterFilter@11fa11b2, org.springframework.web.filter.CorsFilter@5fee3c9c, org.springframework.security.web.authentication.logout.LogoutFilter@3458be63, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@7e58b0f6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@727de450, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6de4071b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e577eed, org.springframework.security.web.session.SessionManagementFilter@5c9168c3, org.springframework.security.web.access.ExceptionTranslationFilter@2e096ac0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@74cf2d5f]
2023-02-20 10:48:35,198 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 10:48:35,209 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 10:48:35,217 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.822 seconds (JVM running for 3.034)
2023-02-20 10:48:36,709 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 10:48:36,709 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 10:48:36,710 [INFO] [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-02-20 10:51:34,438 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:51:34,439 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 10:51:34,443 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 10:51:36,463 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 10:51:36,485 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 35021 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 10:51:36,486 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 10:51:36,858 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 10:51:36,889 [INFO] [main] Finished Spring Data repository scanning in 27 ms. Found 3 JPA repository interfaces.
2023-02-20 10:51:37,224 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 10:51:37,230 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 10:51:37,231 [INFO] [main] Starting service [Tomcat]
2023-02-20 10:51:37,231 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 10:51:37,286 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 10:51:37,287 [INFO] [main] Root WebApplicationContext: initialization completed in 772 ms
2023-02-20 10:51:37,407 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 10:51:37,584 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 10:51:37,654 [INFO] [main] Set default schema name to public
2023-02-20 10:51:37,724 [INFO] [main] Successfully acquired change log lock
2023-02-20 10:51:37,758 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 10:51:37,763 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 10:51:37,829 [INFO] [main] Reading from public.databasechangelog
2023-02-20 10:51:37,866 [INFO] [main] Successfully released change log lock
2023-02-20 10:51:37,928 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 10:51:37,959 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 10:51:38,042 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 10:51:38,088 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 10:51:38,392 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 10:51:38,395 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:51:38,726 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 10:51:38,824 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5fee3c9c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7e577eed, org.springframework.security.web.context.SecurityContextPersistenceFilter@689ea211, org.springframework.security.web.header.HeaderWriterFilter@11fa11b2, org.springframework.web.filter.CorsFilter@11a0c708, org.springframework.security.web.authentication.logout.LogoutFilter@3458be63, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@7e58b0f6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@727de450, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6de4071b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@30bfdcc5, org.springframework.security.web.session.SessionManagementFilter@5c9168c3, org.springframework.security.web.access.ExceptionTranslationFilter@2e096ac0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3052395d]
2023-02-20 10:51:38,945 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 10:51:38,953 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 10:51:38,960 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.774 seconds (JVM running for 2.98)
2023-02-20 10:51:44,138 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 10:51:44,138 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 10:51:44,139 [INFO] [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-02-20 10:51:44,170 [ERROR] [http-nio-8080-exec-1] JWT token is expired: JWT expired at 2023-02-20T10:49:36Z. Current time: 2023-02-20T10:51:44Z, a difference of 128169 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 10:56:49,136 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:56:49,137 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 10:56:49,141 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 10:56:51,242 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 10:56:51,264 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 36114 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 10:56:51,265 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 10:56:51,679 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 10:56:51,716 [INFO] [main] Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
2023-02-20 10:56:52,051 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 10:56:52,058 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 10:56:52,058 [INFO] [main] Starting service [Tomcat]
2023-02-20 10:56:52,058 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 10:56:52,108 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 10:56:52,109 [INFO] [main] Root WebApplicationContext: initialization completed in 814 ms
2023-02-20 10:56:52,225 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 10:56:52,412 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 10:56:52,490 [INFO] [main] Set default schema name to public
2023-02-20 10:56:52,560 [INFO] [main] Successfully acquired change log lock
2023-02-20 10:56:52,606 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 10:56:52,614 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 10:56:52,686 [INFO] [main] Reading from public.databasechangelog
2023-02-20 10:56:52,718 [INFO] [main] Successfully released change log lock
2023-02-20 10:56:52,760 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 10:56:52,785 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 10:56:52,865 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 10:56:52,914 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 10:56:53,222 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 10:56:53,225 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:56:53,552 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 10:56:53,653 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4f2a9903, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@294ebdae, org.springframework.security.web.context.SecurityContextPersistenceFilter@3fe3ebb3, org.springframework.security.web.header.HeaderWriterFilter@248ba4fc, org.springframework.web.filter.CorsFilter@e280006, org.springframework.security.web.authentication.logout.LogoutFilter@31daf094, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@37f7ce20, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6f30d0eb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22fe90df, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@54e3cba2, org.springframework.security.web.session.SessionManagementFilter@727de450, org.springframework.security.web.access.ExceptionTranslationFilter@217009bd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2eb91767]
2023-02-20 10:56:53,774 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 10:56:53,784 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 10:56:53,793 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.82 seconds (JVM running for 3.009)
2023-02-20 10:57:03,270 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 10:57:03,270 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 10:57:03,271 [INFO] [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-02-20 10:57:03,302 [ERROR] [http-nio-8080-exec-1] JWT token is expired: JWT expired at 2023-02-20T10:52:44Z. Current time: 2023-02-20T10:57:03Z, a difference of 259301 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 10:57:07,183 [ERROR] [http-nio-8080-exec-3] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 10:57:25,790 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:57:25,791 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 10:57:25,796 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 10:57:27,954 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 10:57:27,969 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 36397 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 10:57:27,970 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 10:57:28,338 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 10:57:28,371 [INFO] [main] Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.
2023-02-20 10:57:28,711 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 10:57:28,717 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 10:57:28,718 [INFO] [main] Starting service [Tomcat]
2023-02-20 10:57:28,718 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 10:57:28,770 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 10:57:28,771 [INFO] [main] Root WebApplicationContext: initialization completed in 771 ms
2023-02-20 10:57:28,904 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 10:57:29,098 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 10:57:29,168 [INFO] [main] Set default schema name to public
2023-02-20 10:57:29,227 [INFO] [main] Successfully acquired change log lock
2023-02-20 10:57:29,276 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 10:57:29,281 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 10:57:29,340 [INFO] [main] Reading from public.databasechangelog
2023-02-20 10:57:29,368 [INFO] [main] Successfully released change log lock
2023-02-20 10:57:29,422 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 10:57:29,448 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 10:57:29,521 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 10:57:29,564 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 10:57:29,860 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 10:57:29,864 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:57:30,215 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 10:57:30,325 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2b98c310, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@19834eb7, org.springframework.security.web.context.SecurityContextPersistenceFilter@22fe90df, org.springframework.security.web.header.HeaderWriterFilter@229c4d34, org.springframework.web.filter.CorsFilter@26361572, org.springframework.security.web.authentication.logout.LogoutFilter@55a07f97, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@54ddd7e4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2e564c78, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@470866d1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5dc8448b, org.springframework.security.web.session.SessionManagementFilter@3fe3ebb3, org.springframework.security.web.access.ExceptionTranslationFilter@54cce500, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@26619e5]
2023-02-20 10:57:30,444 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 10:57:30,457 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 10:57:30,464 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.823 seconds (JVM running for 3.037)
2023-02-20 10:57:36,001 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 10:57:36,002 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 10:57:36,002 [INFO] [http-nio-8080-exec-2] Completed initialization in 0 ms
2023-02-20 10:58:23,173 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:58:23,174 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 10:58:23,178 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 10:58:25,291 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 10:58:25,318 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 36721 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 10:58:25,318 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 10:58:25,693 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 10:58:25,726 [INFO] [main] Finished Spring Data repository scanning in 27 ms. Found 3 JPA repository interfaces.
2023-02-20 10:58:26,067 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 10:58:26,073 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 10:58:26,074 [INFO] [main] Starting service [Tomcat]
2023-02-20 10:58:26,074 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 10:58:26,129 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 10:58:26,129 [INFO] [main] Root WebApplicationContext: initialization completed in 781 ms
2023-02-20 10:58:26,251 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 10:58:26,433 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 10:58:26,506 [INFO] [main] Set default schema name to public
2023-02-20 10:58:26,572 [INFO] [main] Successfully acquired change log lock
2023-02-20 10:58:26,612 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 10:58:26,618 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 10:58:26,673 [INFO] [main] Reading from public.databasechangelog
2023-02-20 10:58:26,703 [INFO] [main] Successfully released change log lock
2023-02-20 10:58:26,743 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 10:58:26,765 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 10:58:26,837 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 10:58:26,884 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 10:58:27,190 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 10:58:27,194 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:58:27,536 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 10:58:27,643 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@30259c61, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33d08a24, org.springframework.security.web.context.SecurityContextPersistenceFilter@7077ae9c, org.springframework.security.web.header.HeaderWriterFilter@6046fba0, org.springframework.web.filter.CorsFilter@255b84a9, org.springframework.security.web.authentication.logout.LogoutFilter@62c1259f, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@6097f225, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@22a1d77b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f30d0eb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a286095, org.springframework.security.web.session.SessionManagementFilter@3f1e18b1, org.springframework.security.web.access.ExceptionTranslationFilter@4c678a1f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@19834eb7]
2023-02-20 10:58:27,752 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 10:58:27,761 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 10:58:27,768 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.734 seconds (JVM running for 2.938)
2023-02-20 10:58:32,275 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 10:58:32,276 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 10:58:32,276 [INFO] [http-nio-8080-exec-2] Completed initialization in 0 ms
2023-02-20 10:58:32,597 [ERROR] [http-nio-8080-exec-2] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.time.zone.ZoneRulesException: Unknown time-zone ID: Europe/Yekaterinburg] with root cause
java.time.zone.ZoneRulesException: Unknown time-zone ID: Europe/Yekaterinburg
	at java.base/java.time.zone.ZoneRulesProvider.getProvider(ZoneRulesProvider.java:281)
	at java.base/java.time.zone.ZoneRulesProvider.getRules(ZoneRulesProvider.java:236)
	at java.base/java.time.ZoneRegion.ofId(ZoneRegion.java:121)
	at java.base/java.time.ZoneId.of(ZoneId.java:410)
	at java.base/java.time.ZoneId.of(ZoneId.java:358)
	at ru.bogdanov.SpringBootsecurityjwt.security.service.RefreshTokenService.createRefreshToken(RefreshTokenService.java:39)
	at ru.bogdanov.SpringBootsecurityjwt.security.service.RefreshTokenService$$FastClassBySpringCGLIB$$cdec8d3b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704)
	at ru.bogdanov.SpringBootsecurityjwt.security.service.RefreshTokenService$$EnhancerBySpringCGLIB$$45b0d67c.createRefreshToken(<generated>)
	at ru.bogdanov.SpringBootsecurityjwt.controller.SingInController.authenticateUser(SingInController.java:50)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:696)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-02-20 10:58:58,189 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:58:58,190 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 10:58:58,194 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 10:59:00,244 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 10:59:00,269 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 36967 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 10:59:00,270 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 10:59:00,685 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 10:59:00,721 [INFO] [main] Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
2023-02-20 10:59:01,049 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 10:59:01,056 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 10:59:01,056 [INFO] [main] Starting service [Tomcat]
2023-02-20 10:59:01,057 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 10:59:01,110 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 10:59:01,110 [INFO] [main] Root WebApplicationContext: initialization completed in 811 ms
2023-02-20 10:59:01,240 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 10:59:01,421 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 10:59:01,493 [INFO] [main] Set default schema name to public
2023-02-20 10:59:01,563 [INFO] [main] Successfully acquired change log lock
2023-02-20 10:59:01,606 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 10:59:01,614 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 10:59:01,697 [INFO] [main] Reading from public.databasechangelog
2023-02-20 10:59:01,731 [INFO] [main] Successfully released change log lock
2023-02-20 10:59:01,773 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 10:59:01,796 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 10:59:01,864 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 10:59:01,908 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 10:59:02,220 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 10:59:02,223 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 10:59:02,570 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 10:59:02,701 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@30259c61, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33d08a24, org.springframework.security.web.context.SecurityContextPersistenceFilter@7077ae9c, org.springframework.security.web.header.HeaderWriterFilter@6046fba0, org.springframework.web.filter.CorsFilter@255b84a9, org.springframework.security.web.authentication.logout.LogoutFilter@62c1259f, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@6097f225, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@22a1d77b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f30d0eb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a286095, org.springframework.security.web.session.SessionManagementFilter@3f1e18b1, org.springframework.security.web.access.ExceptionTranslationFilter@4c678a1f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@19834eb7]
2023-02-20 10:59:02,840 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 10:59:02,847 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 10:59:02,854 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.899 seconds (JVM running for 3.097)
2023-02-20 10:59:04,020 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 10:59:04,020 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 10:59:04,021 [INFO] [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-02-20 10:59:04,060 [ERROR] [http-nio-8080-exec-1] JWT token is expired: JWT expired at 2023-02-20T10:58:36Z. Current time: 2023-02-20T10:59:04Z, a difference of 28060 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:02:48,387 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:02:48,388 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 11:02:48,392 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 11:02:50,452 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 11:02:50,478 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 37454 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 11:02:50,479 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 11:02:50,868 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 11:02:50,903 [INFO] [main] Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
2023-02-20 11:02:51,239 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 11:02:51,245 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 11:02:51,246 [INFO] [main] Starting service [Tomcat]
2023-02-20 11:02:51,246 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 11:02:51,300 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 11:02:51,300 [INFO] [main] Root WebApplicationContext: initialization completed in 784 ms
2023-02-20 11:02:51,441 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 11:02:51,639 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 11:02:51,709 [INFO] [main] Set default schema name to public
2023-02-20 11:02:51,762 [INFO] [main] Successfully acquired change log lock
2023-02-20 11:02:51,796 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 11:02:51,802 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 11:02:51,857 [INFO] [main] Reading from public.databasechangelog
2023-02-20 11:02:51,887 [INFO] [main] Successfully released change log lock
2023-02-20 11:02:51,933 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 11:02:51,959 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 11:02:52,034 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 11:02:52,083 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 11:02:52,389 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 11:02:52,392 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:02:52,740 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 11:02:52,843 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@26619e5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@445f6aa7, org.springframework.security.web.context.SecurityContextPersistenceFilter@2e564c78, org.springframework.security.web.header.HeaderWriterFilter@689eab53, org.springframework.web.filter.CorsFilter@6a4238ff, org.springframework.security.web.authentication.logout.LogoutFilter@748fa354, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@74a991cf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@11267e87, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@118c1faa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2b98c310, org.springframework.security.web.session.SessionManagementFilter@6f30d0eb, org.springframework.security.web.access.ExceptionTranslationFilter@229c4d34, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1e9b0c92]
2023-02-20 11:02:52,959 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 11:02:52,968 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 11:02:52,975 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.794 seconds (JVM running for 3.0)
2023-02-20 11:02:54,367 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 11:02:54,368 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 11:02:54,368 [INFO] [http-nio-8080-exec-1] Completed initialization in 0 ms
2023-02-20 11:02:54,400 [ERROR] [http-nio-8080-exec-1] JWT token is expired: JWT expired at 2023-02-20T11:00:04Z. Current time: 2023-02-20T11:02:54Z, a difference of 170399 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:03:25,459 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:03:25,461 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 11:03:25,464 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 11:03:27,898 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 11:03:27,914 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 37730 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 11:03:27,915 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 11:03:28,306 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 11:03:28,349 [INFO] [main] Finished Spring Data repository scanning in 38 ms. Found 3 JPA repository interfaces.
2023-02-20 11:03:28,747 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 11:03:28,755 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 11:03:28,756 [INFO] [main] Starting service [Tomcat]
2023-02-20 11:03:28,756 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 11:03:28,824 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 11:03:28,825 [INFO] [main] Root WebApplicationContext: initialization completed in 883 ms
2023-02-20 11:03:28,978 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 11:03:29,173 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 11:03:29,250 [INFO] [main] Set default schema name to public
2023-02-20 11:03:29,326 [INFO] [main] Successfully acquired change log lock
2023-02-20 11:03:29,367 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 11:03:29,373 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 11:03:29,444 [INFO] [main] Reading from public.databasechangelog
2023-02-20 11:03:29,484 [INFO] [main] Successfully released change log lock
2023-02-20 11:03:29,544 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 11:03:29,569 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 11:03:29,652 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 11:03:29,707 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 11:03:30,065 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 11:03:30,069 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:03:30,428 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 11:03:30,551 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@d164938, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4cd079fe, org.springframework.security.web.context.SecurityContextPersistenceFilter@63fde7ca, org.springframework.security.web.header.HeaderWriterFilter@7be86438, org.springframework.web.filter.CorsFilter@37823482, org.springframework.security.web.authentication.logout.LogoutFilter@543c887, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@66576bd2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4779df3d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@32b8992e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@202b5293, org.springframework.security.web.session.SessionManagementFilter@62977afb, org.springframework.security.web.access.ExceptionTranslationFilter@b4c89b6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4c31b6c2]
2023-02-20 11:03:30,680 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 11:03:30,689 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 11:03:30,696 [INFO] [main] Started SpringBootSecurityJwtApplication in 3.088 seconds (JVM running for 3.556)
2023-02-20 11:03:39,552 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 11:03:39,552 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 11:03:39,553 [INFO] [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-02-20 11:04:43,933 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:04:43,934 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 11:04:43,938 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 11:04:45,807 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 11:04:45,830 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 37968 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 11:04:45,831 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 11:04:46,195 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 11:04:46,227 [INFO] [main] Finished Spring Data repository scanning in 27 ms. Found 3 JPA repository interfaces.
2023-02-20 11:04:46,574 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 11:04:46,581 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 11:04:46,582 [INFO] [main] Starting service [Tomcat]
2023-02-20 11:04:46,583 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 11:04:46,641 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 11:04:46,642 [INFO] [main] Root WebApplicationContext: initialization completed in 779 ms
2023-02-20 11:04:46,792 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 11:04:46,972 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 11:04:47,043 [INFO] [main] Set default schema name to public
2023-02-20 11:04:47,119 [INFO] [main] Successfully acquired change log lock
2023-02-20 11:04:47,157 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 11:04:47,162 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 11:04:47,224 [INFO] [main] Reading from public.databasechangelog
2023-02-20 11:04:47,253 [INFO] [main] Successfully released change log lock
2023-02-20 11:04:47,291 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 11:04:47,312 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 11:04:47,381 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 11:04:47,425 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 11:04:47,731 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 11:04:47,735 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:04:48,079 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 11:04:48,180 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@175c26ff, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@623bdc46, org.springframework.security.web.context.SecurityContextPersistenceFilter@7077ae9c, org.springframework.security.web.header.HeaderWriterFilter@6046fba0, org.springframework.web.filter.CorsFilter@411576c7, org.springframework.security.web.authentication.logout.LogoutFilter@62c1259f, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@54ddd7e4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@22a1d77b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f30d0eb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@332610ad, org.springframework.security.web.session.SessionManagementFilter@3f1e18b1, org.springframework.security.web.access.ExceptionTranslationFilter@4c678a1f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@68c3aa38]
2023-02-20 11:04:48,282 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 11:04:48,290 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 11:04:48,297 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.754 seconds (JVM running for 2.966)
2023-02-20 11:04:50,691 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 11:04:50,691 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 11:04:50,692 [INFO] [http-nio-8080-exec-2] Completed initialization in 1 ms
2023-02-20 11:04:50,723 [ERROR] [http-nio-8080-exec-2] JWT token is expired: JWT expired at 2023-02-20T11:04:39Z. Current time: 2023-02-20T11:04:50Z, a difference of 11722 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:06:40,403 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:06:40,405 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 11:06:40,408 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 11:06:42,451 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 11:06:42,472 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 38341 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 11:06:42,473 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 11:06:42,857 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 11:06:42,889 [INFO] [main] Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.
2023-02-20 11:06:43,251 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 11:06:43,258 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 11:06:43,258 [INFO] [main] Starting service [Tomcat]
2023-02-20 11:06:43,258 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 11:06:43,311 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 11:06:43,311 [INFO] [main] Root WebApplicationContext: initialization completed in 807 ms
2023-02-20 11:06:43,437 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 11:06:43,621 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 11:06:43,690 [INFO] [main] Set default schema name to public
2023-02-20 11:06:43,764 [INFO] [main] Successfully acquired change log lock
2023-02-20 11:06:43,800 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 11:06:43,806 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 11:06:43,869 [INFO] [main] Reading from public.databasechangelog
2023-02-20 11:06:43,905 [INFO] [main] Successfully released change log lock
2023-02-20 11:06:43,952 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 11:06:43,972 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 11:06:44,043 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 11:06:44,088 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 11:06:44,388 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 11:06:44,391 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:06:44,725 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 11:06:44,850 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2b98c310, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@19834eb7, org.springframework.security.web.context.SecurityContextPersistenceFilter@22fe90df, org.springframework.security.web.header.HeaderWriterFilter@229c4d34, org.springframework.web.filter.CorsFilter@26361572, org.springframework.security.web.authentication.logout.LogoutFilter@55a07f97, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@54ddd7e4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2e564c78, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@470866d1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5dc8448b, org.springframework.security.web.session.SessionManagementFilter@3fe3ebb3, org.springframework.security.web.access.ExceptionTranslationFilter@54cce500, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@26619e5]
2023-02-20 11:06:44,991 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 11:06:45,003 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 11:06:45,012 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.833 seconds (JVM running for 3.043)
2023-02-20 11:06:54,915 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 11:06:54,915 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 11:06:54,916 [INFO] [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-02-20 11:06:54,947 [ERROR] [http-nio-8080-exec-1] JWT token is expired: JWT expired at 2023-02-20T11:05:50Z. Current time: 2023-02-20T11:06:54Z, a difference of 64947 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:10:42,546 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:10:42,547 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 11:10:42,551 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 11:10:45,138 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 11:10:45,163 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 39181 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 11:10:45,164 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 11:10:45,523 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 11:10:45,557 [INFO] [main] Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
2023-02-20 11:10:45,902 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 11:10:45,908 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 11:10:45,909 [INFO] [main] Starting service [Tomcat]
2023-02-20 11:10:45,909 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 11:10:45,964 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 11:10:45,964 [INFO] [main] Root WebApplicationContext: initialization completed in 769 ms
2023-02-20 11:10:46,123 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 11:10:46,302 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 11:10:46,377 [INFO] [main] Set default schema name to public
2023-02-20 11:10:46,438 [INFO] [main] Successfully acquired change log lock
2023-02-20 11:10:46,475 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 11:10:46,481 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 11:10:46,538 [INFO] [main] Reading from public.databasechangelog
2023-02-20 11:10:46,573 [INFO] [main] Successfully released change log lock
2023-02-20 11:10:46,616 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 11:10:46,639 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 11:10:46,715 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 11:10:46,769 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 11:10:47,072 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 11:10:47,076 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:10:47,397 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 11:10:47,498 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@a2ca681, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@784c74e, org.springframework.security.web.context.SecurityContextPersistenceFilter@7077ae9c, org.springframework.security.web.header.HeaderWriterFilter@6046fba0, org.springframework.web.filter.CorsFilter@5fee3c9c, org.springframework.security.web.authentication.logout.LogoutFilter@62c1259f, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@6097f225, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@22a1d77b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f30d0eb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e577eed, org.springframework.security.web.session.SessionManagementFilter@3f1e18b1, org.springframework.security.web.access.ExceptionTranslationFilter@4c678a1f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@74cf2d5f]
2023-02-20 11:10:47,607 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 11:10:47,616 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 11:10:47,623 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.773 seconds (JVM running for 2.983)
2023-02-20 11:10:50,308 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 11:10:50,308 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 11:10:50,309 [INFO] [http-nio-8080-exec-2] Completed initialization in 0 ms
2023-02-20 11:10:50,341 [ERROR] [http-nio-8080-exec-2] JWT token is expired: JWT expired at 2023-02-20T11:07:55Z. Current time: 2023-02-20T11:10:50Z, a difference of 175341 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:19:49,875 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:19:49,877 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 11:19:49,880 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 11:19:52,125 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 11:19:52,147 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 40151 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 11:19:52,148 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 11:19:52,526 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 11:19:52,556 [INFO] [main] Finished Spring Data repository scanning in 26 ms. Found 3 JPA repository interfaces.
2023-02-20 11:19:52,892 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 11:19:52,899 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 11:19:52,899 [INFO] [main] Starting service [Tomcat]
2023-02-20 11:19:52,899 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 11:19:52,952 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 11:19:52,952 [INFO] [main] Root WebApplicationContext: initialization completed in 772 ms
2023-02-20 11:19:53,084 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 11:19:53,263 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 11:19:53,336 [INFO] [main] Set default schema name to public
2023-02-20 11:19:53,400 [INFO] [main] Successfully acquired change log lock
2023-02-20 11:19:53,442 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 11:19:53,447 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 11:19:53,520 [INFO] [main] Reading from public.databasechangelog
2023-02-20 11:19:53,550 [INFO] [main] Successfully released change log lock
2023-02-20 11:19:53,589 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 11:19:53,611 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 11:19:53,681 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 11:19:53,723 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 11:19:54,028 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 11:19:54,032 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:19:54,385 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 11:19:54,507 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@175c26ff, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@623bdc46, org.springframework.security.web.context.SecurityContextPersistenceFilter@19d3f4fb, org.springframework.security.web.header.HeaderWriterFilter@22fe90df, org.springframework.web.filter.CorsFilter@411576c7, org.springframework.security.web.authentication.logout.LogoutFilter@53b9952f, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@2b9bbaa8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5c1ea00, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@356ab368, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@332610ad, org.springframework.security.web.session.SessionManagementFilter@5c30decf, org.springframework.security.web.access.ExceptionTranslationFilter@22a1d77b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@68c3aa38]
2023-02-20 11:19:54,623 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 11:19:54,632 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 11:19:54,639 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.767 seconds (JVM running for 2.967)
2023-02-20 11:19:58,561 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 11:19:58,561 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 11:19:58,562 [INFO] [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-02-20 11:19:58,593 [ERROR] [http-nio-8080-exec-1] JWT token is expired: JWT expired at 2023-02-20T11:11:50Z. Current time: 2023-02-20T11:19:58Z, a difference of 488592 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:20:01,220 [ERROR] [http-nio-8080-exec-3] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 8; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 8] with root cause
javax.persistence.NonUniqueResultException: query did not return a unique result: 8
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128)
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1672)
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy131.findByUser(Unknown Source)
	at ru.bogdanov.SpringBootsecurityjwt.security.service.RefreshTokenService.findByUser(RefreshTokenService.java:63)
	at ru.bogdanov.SpringBootsecurityjwt.security.service.RefreshTokenService$$FastClassBySpringCGLIB$$cdec8d3b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704)
	at ru.bogdanov.SpringBootsecurityjwt.security.service.RefreshTokenService$$EnhancerBySpringCGLIB$$f7d417bd.findByUser(<generated>)
	at ru.bogdanov.SpringBootsecurityjwt.controller.CurrentUserController.getCurrentUser(CurrentUserController.java:43)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-02-20 11:21:23,370 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:21:23,371 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 11:21:23,376 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 11:21:25,405 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 11:21:25,426 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 40835 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 11:21:25,427 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 11:21:25,802 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 11:21:25,835 [INFO] [main] Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.
2023-02-20 11:21:26,178 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 11:21:26,184 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 11:21:26,184 [INFO] [main] Starting service [Tomcat]
2023-02-20 11:21:26,185 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 11:21:26,243 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 11:21:26,243 [INFO] [main] Root WebApplicationContext: initialization completed in 788 ms
2023-02-20 11:21:26,367 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 11:21:26,547 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 11:21:26,625 [INFO] [main] Set default schema name to public
2023-02-20 11:21:26,686 [INFO] [main] Successfully acquired change log lock
2023-02-20 11:21:26,722 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 11:21:26,730 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 11:21:26,790 [INFO] [main] Reading from public.databasechangelog
2023-02-20 11:21:26,826 [INFO] [main] Successfully released change log lock
2023-02-20 11:21:26,874 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 11:21:26,898 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 11:21:26,970 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 11:21:27,016 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 11:21:27,318 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 11:21:27,322 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:21:27,684 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 11:21:27,810 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2b98c310, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@19834eb7, org.springframework.security.web.context.SecurityContextPersistenceFilter@19d3f4fb, org.springframework.security.web.header.HeaderWriterFilter@22fe90df, org.springframework.web.filter.CorsFilter@26361572, org.springframework.security.web.authentication.logout.LogoutFilter@53b9952f, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@2b9bbaa8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5c1ea00, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@356ab368, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5dc8448b, org.springframework.security.web.session.SessionManagementFilter@5c30decf, org.springframework.security.web.access.ExceptionTranslationFilter@22a1d77b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@26619e5]
2023-02-20 11:21:27,917 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 11:21:27,926 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 11:21:27,933 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.795 seconds (JVM running for 3.008)
2023-02-20 11:21:28,798 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 11:21:28,798 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 11:21:28,799 [INFO] [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-02-20 11:21:28,829 [ERROR] [http-nio-8080-exec-1] JWT token is expired: JWT expired at 2023-02-20T11:20:58Z. Current time: 2023-02-20T11:21:28Z, a difference of 30829 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:21:30,541 [ERROR] [http-nio-8080-exec-3] JWT token is expired: JWT expired at 2023-02-20T11:20:58Z. Current time: 2023-02-20T11:21:30Z, a difference of 32541 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:21:32,153 [ERROR] [http-nio-8080-exec-4] JWT token is expired: JWT expired at 2023-02-20T11:20:58Z. Current time: 2023-02-20T11:21:32Z, a difference of 34153 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:22:49,315 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:22:49,316 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 11:22:49,319 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 11:23:00,739 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 11:23:00,760 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 41255 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 11:23:00,760 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 11:23:01,135 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 11:23:01,166 [INFO] [main] Finished Spring Data repository scanning in 27 ms. Found 3 JPA repository interfaces.
2023-02-20 11:23:01,527 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 11:23:01,533 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 11:23:01,534 [INFO] [main] Starting service [Tomcat]
2023-02-20 11:23:01,534 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 11:23:01,588 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 11:23:01,588 [INFO] [main] Root WebApplicationContext: initialization completed in 798 ms
2023-02-20 11:23:01,707 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 11:23:01,885 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 11:23:01,952 [INFO] [main] Set default schema name to public
2023-02-20 11:23:02,016 [INFO] [main] Successfully acquired change log lock
2023-02-20 11:23:02,057 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 11:23:02,063 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 11:23:02,132 [INFO] [main] Reading from public.databasechangelog
2023-02-20 11:23:02,168 [INFO] [main] Successfully released change log lock
2023-02-20 11:23:02,221 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 11:23:02,250 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 11:23:02,321 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 11:23:02,366 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 11:23:02,664 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 11:23:02,667 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:23:02,998 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 11:23:03,101 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2eb91767, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@520eb9f8, org.springframework.security.web.context.SecurityContextPersistenceFilter@31daf094, org.springframework.security.web.header.HeaderWriterFilter@4a0f4282, org.springframework.web.filter.CorsFilter@3ecc9baa, org.springframework.security.web.authentication.logout.LogoutFilter@22a2e581, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@477e5b69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e265811, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@55a07f97, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4f2a9903, org.springframework.security.web.session.SessionManagementFilter@5cb32140, org.springframework.security.web.access.ExceptionTranslationFilter@5c30decf, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@294ab038]
2023-02-20 11:23:03,211 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 11:23:03,219 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 11:23:03,225 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.749 seconds (JVM running for 2.955)
2023-02-20 11:23:06,791 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 11:23:06,791 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 11:23:06,792 [INFO] [http-nio-8080-exec-2] Completed initialization in 1 ms
2023-02-20 11:23:06,827 [ERROR] [http-nio-8080-exec-2] JWT token is expired: JWT expired at 2023-02-20T11:22:32Z. Current time: 2023-02-20T11:23:06Z, a difference of 34827 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:23:08,788 [ERROR] [http-nio-8080-exec-3] JWT token is expired: JWT expired at 2023-02-20T11:22:32Z. Current time: 2023-02-20T11:23:08Z, a difference of 36788 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:23:26,377 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:23:26,378 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 11:23:26,382 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 11:23:28,435 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 11:23:28,456 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 41462 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 11:23:28,456 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 11:23:28,828 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 11:23:28,859 [INFO] [main] Finished Spring Data repository scanning in 27 ms. Found 3 JPA repository interfaces.
2023-02-20 11:23:29,202 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 11:23:29,210 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 11:23:29,210 [INFO] [main] Starting service [Tomcat]
2023-02-20 11:23:29,210 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 11:23:29,268 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 11:23:29,268 [INFO] [main] Root WebApplicationContext: initialization completed in 785 ms
2023-02-20 11:23:29,385 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 11:23:29,561 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 11:23:29,633 [INFO] [main] Set default schema name to public
2023-02-20 11:23:29,701 [INFO] [main] Successfully acquired change log lock
2023-02-20 11:23:29,739 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 11:23:29,746 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 11:23:29,819 [INFO] [main] Reading from public.databasechangelog
2023-02-20 11:23:29,848 [INFO] [main] Successfully released change log lock
2023-02-20 11:23:29,890 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 11:23:29,914 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 11:23:29,993 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 11:23:30,044 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 11:23:30,373 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 11:23:30,377 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:23:30,700 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 11:23:30,801 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3a286095, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26723525, org.springframework.security.web.context.SecurityContextPersistenceFilter@5aefdb9e, org.springframework.security.web.header.HeaderWriterFilter@727de450, org.springframework.web.filter.CorsFilter@11c40a65, org.springframework.security.web.authentication.logout.LogoutFilter@4f5df012, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@48301bfe, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@80b6098, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5c30decf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@68c3aa38, org.springframework.security.web.session.SessionManagementFilter@da5b46f, org.springframework.security.web.access.ExceptionTranslationFilter@689ea211, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@30259c61]
2023-02-20 11:23:30,913 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 11:23:30,921 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 11:23:30,928 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.753 seconds (JVM running for 2.957)
2023-02-20 11:23:32,041 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 11:23:32,041 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 11:23:32,042 [INFO] [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-02-20 11:23:56,594 [ERROR] [http-nio-8080-exec-6] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 11:23:59,028 [ERROR] [http-nio-8080-exec-7] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 11:24:04,410 [ERROR] [http-nio-8080-exec-9] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 11:24:51,239 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:24:51,240 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 11:24:51,243 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 11:24:53,250 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 11:24:53,271 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 41921 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 11:24:53,271 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 11:24:53,647 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 11:24:53,679 [INFO] [main] Finished Spring Data repository scanning in 27 ms. Found 3 JPA repository interfaces.
2023-02-20 11:24:54,023 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 11:24:54,029 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 11:24:54,030 [INFO] [main] Starting service [Tomcat]
2023-02-20 11:24:54,030 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 11:24:54,082 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 11:24:54,083 [INFO] [main] Root WebApplicationContext: initialization completed in 784 ms
2023-02-20 11:24:54,214 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 11:24:54,391 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 11:24:54,459 [INFO] [main] Set default schema name to public
2023-02-20 11:24:54,511 [INFO] [main] Successfully acquired change log lock
2023-02-20 11:24:54,546 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 11:24:54,552 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 11:24:54,615 [INFO] [main] Reading from public.databasechangelog
2023-02-20 11:24:54,652 [INFO] [main] Successfully released change log lock
2023-02-20 11:24:54,703 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 11:24:54,731 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 11:24:54,802 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 11:24:54,846 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 11:24:55,143 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 11:24:55,147 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:24:55,482 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 11:24:55,575 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3a286095, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26723525, org.springframework.security.web.context.SecurityContextPersistenceFilter@5aefdb9e, org.springframework.security.web.header.HeaderWriterFilter@727de450, org.springframework.web.filter.CorsFilter@11c40a65, org.springframework.security.web.authentication.logout.LogoutFilter@4f5df012, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@48301bfe, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@80b6098, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5c30decf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@68c3aa38, org.springframework.security.web.session.SessionManagementFilter@da5b46f, org.springframework.security.web.access.ExceptionTranslationFilter@689ea211, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@30259c61]
2023-02-20 11:24:55,671 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 11:24:55,678 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 11:24:55,685 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.684 seconds (JVM running for 2.881)
2023-02-20 11:24:57,144 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 11:24:57,144 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 11:24:57,145 [INFO] [http-nio-8080-exec-2] Completed initialization in 1 ms
2023-02-20 11:26:05,621 [ERROR] [http-nio-8080-exec-7] JWT token is expired: JWT expired at 2023-02-20T11:25:04Z. Current time: 2023-02-20T11:26:05Z, a difference of 61621 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:26:19,515 [ERROR] [http-nio-8080-exec-8] JWT token is expired: JWT expired at 2023-02-20T11:25:04Z. Current time: 2023-02-20T11:26:19Z, a difference of 75515 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:26:20,118 [ERROR] [http-nio-8080-exec-9] JWT token is expired: JWT expired at 2023-02-20T11:25:04Z. Current time: 2023-02-20T11:26:20Z, a difference of 76118 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:26:30,500 [ERROR] [http-nio-8080-exec-10] JWT token is expired: JWT expired at 2023-02-20T11:25:04Z. Current time: 2023-02-20T11:26:30Z, a difference of 86500 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:27:41,238 [ERROR] [http-nio-8080-exec-6] JWT token is expired: JWT expired at 2023-02-20T11:27:30Z. Current time: 2023-02-20T11:27:41Z, a difference of 11238 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:27:42,038 [ERROR] [http-nio-8080-exec-7] JWT token is expired: JWT expired at 2023-02-20T11:27:30Z. Current time: 2023-02-20T11:27:42Z, a difference of 12038 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:27:45,102 [ERROR] [http-nio-8080-exec-8] JWT token is expired: JWT expired at 2023-02-20T11:27:30Z. Current time: 2023-02-20T11:27:45Z, a difference of 15102 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:27:47,030 [ERROR] [http-nio-8080-exec-9] JWT token is expired: JWT expired at 2023-02-20T11:27:30Z. Current time: 2023-02-20T11:27:47Z, a difference of 17030 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:29:54,346 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:29:54,347 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 11:29:54,352 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 11:29:56,469 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 11:29:56,485 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 42604 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 11:29:56,486 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 11:29:56,908 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 11:29:56,945 [INFO] [main] Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
2023-02-20 11:29:57,291 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 11:29:57,298 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 11:29:57,298 [INFO] [main] Starting service [Tomcat]
2023-02-20 11:29:57,299 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 11:29:57,351 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 11:29:57,351 [INFO] [main] Root WebApplicationContext: initialization completed in 836 ms
2023-02-20 11:29:57,479 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 11:29:57,664 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 11:29:57,738 [INFO] [main] Set default schema name to public
2023-02-20 11:29:57,814 [INFO] [main] Successfully acquired change log lock
2023-02-20 11:29:57,859 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 11:29:57,866 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 11:29:57,932 [INFO] [main] Reading from public.databasechangelog
2023-02-20 11:29:57,961 [INFO] [main] Successfully released change log lock
2023-02-20 11:29:58,004 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 11:29:58,029 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 11:29:58,106 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 11:29:58,151 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 11:29:58,464 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 11:29:58,467 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:29:58,810 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 11:29:58,907 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@175c26ff, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@623bdc46, org.springframework.security.web.context.SecurityContextPersistenceFilter@4a0f4282, org.springframework.security.web.header.HeaderWriterFilter@6f30d0eb, org.springframework.web.filter.CorsFilter@411576c7, org.springframework.security.web.authentication.logout.LogoutFilter@765eb801, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@477e5b69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43cf97a8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5c1ea00, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@332610ad, org.springframework.security.web.session.SessionManagementFilter@80b6098, org.springframework.security.web.access.ExceptionTranslationFilter@3fe3ebb3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@68c3aa38]
2023-02-20 11:29:59,026 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 11:29:59,036 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 11:29:59,045 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.838 seconds (JVM running for 3.038)
2023-02-20 11:30:01,357 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 11:30:01,357 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 11:30:01,358 [INFO] [http-nio-8080-exec-2] Completed initialization in 0 ms
2023-02-20 11:30:01,390 [ERROR] [http-nio-8080-exec-2] JWT token is expired: JWT expired at 2023-02-20T11:27:30Z. Current time: 2023-02-20T11:30:01Z, a difference of 151389 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:30:03,795 [ERROR] [http-nio-8080-exec-3] JWT token is expired: JWT expired at 2023-02-20T11:27:30Z. Current time: 2023-02-20T11:30:03Z, a difference of 153795 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:31:08,820 [ERROR] [http-nio-8080-exec-6] JWT token is expired: JWT expired at 2023-02-20T11:27:30Z. Current time: 2023-02-20T11:31:08Z, a difference of 218820 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:31:17,001 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:31:17,003 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 11:31:17,006 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 11:31:19,095 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 11:31:19,116 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 42868 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 11:31:19,117 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 11:31:19,468 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 11:31:19,498 [INFO] [main] Finished Spring Data repository scanning in 26 ms. Found 3 JPA repository interfaces.
2023-02-20 11:31:19,822 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 11:31:19,829 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 11:31:19,829 [INFO] [main] Starting service [Tomcat]
2023-02-20 11:31:19,829 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 11:31:19,884 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 11:31:19,884 [INFO] [main] Root WebApplicationContext: initialization completed in 740 ms
2023-02-20 11:31:20,022 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 11:31:20,207 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 11:31:20,281 [INFO] [main] Set default schema name to public
2023-02-20 11:31:20,357 [INFO] [main] Successfully acquired change log lock
2023-02-20 11:31:20,403 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 11:31:20,410 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 11:31:20,483 [INFO] [main] Reading from public.databasechangelog
2023-02-20 11:31:20,520 [INFO] [main] Successfully released change log lock
2023-02-20 11:31:20,561 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 11:31:20,587 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 11:31:20,663 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 11:31:20,709 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 11:31:21,057 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 11:31:21,061 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:31:21,417 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 11:31:21,512 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1196537d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@267a8777, org.springframework.security.web.context.SecurityContextPersistenceFilter@5c30decf, org.springframework.security.web.header.HeaderWriterFilter@3fe3ebb3, org.springframework.web.filter.CorsFilter@175c26ff, org.springframework.security.web.authentication.logout.LogoutFilter@70ab1ce0, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@37f7ce20, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4a0f4282, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@19d3f4fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@623bdc46, org.springframework.security.web.session.SessionManagementFilter@5aefdb9e, org.springframework.security.web.access.ExceptionTranslationFilter@6de4071b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@26723525]
2023-02-20 11:31:21,629 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 11:31:21,637 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 11:31:21,644 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.803 seconds (JVM running for 3.021)
2023-02-20 11:31:22,096 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 11:31:22,096 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 11:31:22,097 [INFO] [http-nio-8080-exec-2] Completed initialization in 0 ms
2023-02-20 11:31:22,127 [ERROR] [http-nio-8080-exec-2] JWT token is expired: JWT expired at 2023-02-20T11:27:30Z. Current time: 2023-02-20T11:31:22Z, a difference of 232127 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:31:47,209 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:31:47,211 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 11:31:47,214 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 11:31:49,294 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 11:31:49,311 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 43030 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 11:31:49,312 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 11:31:49,695 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 11:31:49,727 [INFO] [main] Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.
2023-02-20 11:31:50,066 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 11:31:50,072 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 11:31:50,073 [INFO] [main] Starting service [Tomcat]
2023-02-20 11:31:50,073 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 11:31:50,125 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 11:31:50,125 [INFO] [main] Root WebApplicationContext: initialization completed in 781 ms
2023-02-20 11:31:50,243 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 11:31:50,413 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 11:31:50,482 [INFO] [main] Set default schema name to public
2023-02-20 11:31:50,544 [INFO] [main] Successfully acquired change log lock
2023-02-20 11:31:50,586 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 11:31:50,591 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 11:31:50,646 [INFO] [main] Reading from public.databasechangelog
2023-02-20 11:31:50,674 [INFO] [main] Successfully released change log lock
2023-02-20 11:31:50,710 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 11:31:50,732 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 11:31:50,804 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 11:31:50,850 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 11:31:51,152 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 11:31:51,156 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:31:51,491 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 11:31:51,598 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2eb91767, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@520eb9f8, org.springframework.security.web.context.SecurityContextPersistenceFilter@31daf094, org.springframework.security.web.header.HeaderWriterFilter@4a0f4282, org.springframework.web.filter.CorsFilter@3ecc9baa, org.springframework.security.web.authentication.logout.LogoutFilter@22a2e581, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@477e5b69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e265811, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@55a07f97, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4f2a9903, org.springframework.security.web.session.SessionManagementFilter@5cb32140, org.springframework.security.web.access.ExceptionTranslationFilter@5c30decf, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@294ab038]
2023-02-20 11:31:51,705 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 11:31:51,715 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 11:31:51,724 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.696 seconds (JVM running for 2.895)
2023-02-20 11:31:52,966 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 11:31:52,966 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 11:31:52,967 [INFO] [http-nio-8080-exec-1] Completed initialization in 0 ms
2023-02-20 11:33:46,368 [ERROR] [http-nio-8080-exec-2] JWT token is expired: JWT expired at 2023-02-20T11:32:22Z. Current time: 2023-02-20T11:33:46Z, a difference of 84367 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:33:46,371 [ERROR] [http-nio-8080-exec-2] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ClassCastException: class java.lang.String cannot be cast to class ru.bogdanov.SpringBootsecurityjwt.security.service.UserDetailsImpl (java.lang.String is in module java.base of loader 'bootstrap'; ru.bogdanov.SpringBootsecurityjwt.security.service.UserDetailsImpl is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class ru.bogdanov.SpringBootsecurityjwt.security.service.UserDetailsImpl (java.lang.String is in module java.base of loader 'bootstrap'; ru.bogdanov.SpringBootsecurityjwt.security.service.UserDetailsImpl is in unnamed module of loader 'app')
	at ru.bogdanov.SpringBootsecurityjwt.controller.CurrentUserController.getCurrentUser(CurrentUserController.java:39)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-02-20 11:34:40,111 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:34:40,112 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 11:34:40,116 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 11:34:42,123 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 11:34:42,143 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 43461 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 11:34:42,144 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 11:34:42,517 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 11:34:42,553 [INFO] [main] Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
2023-02-20 11:34:42,921 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 11:34:42,927 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 11:34:42,928 [INFO] [main] Starting service [Tomcat]
2023-02-20 11:34:42,928 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 11:34:42,979 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 11:34:42,979 [INFO] [main] Root WebApplicationContext: initialization completed in 807 ms
2023-02-20 11:34:43,103 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 11:34:43,279 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 11:34:43,349 [INFO] [main] Set default schema name to public
2023-02-20 11:34:43,417 [INFO] [main] Successfully acquired change log lock
2023-02-20 11:34:43,452 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 11:34:43,459 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 11:34:43,517 [INFO] [main] Reading from public.databasechangelog
2023-02-20 11:34:43,552 [INFO] [main] Successfully released change log lock
2023-02-20 11:34:43,593 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 11:34:43,614 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 11:34:43,688 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 11:34:43,731 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 11:34:44,039 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 11:34:44,043 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:34:44,391 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 11:34:44,494 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@175c26ff, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@623bdc46, org.springframework.security.web.context.SecurityContextPersistenceFilter@7827cdfc, org.springframework.security.web.header.HeaderWriterFilter@22a1d77b, org.springframework.web.filter.CorsFilter@411576c7, org.springframework.security.web.authentication.logout.LogoutFilter@50d6af87, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@37f7ce20, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19d3f4fb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@43cf97a8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@332610ad, org.springframework.security.web.session.SessionManagementFilter@7a491a60, org.springframework.security.web.access.ExceptionTranslationFilter@7077ae9c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@68c3aa38]
2023-02-20 11:34:44,606 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 11:34:44,614 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 11:34:44,621 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.771 seconds (JVM running for 2.988)
2023-02-20 11:34:47,548 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 11:34:47,548 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 11:34:47,549 [INFO] [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-02-20 11:34:47,586 [ERROR] [http-nio-8080-exec-1] JWT token is expired: JWT expired at 2023-02-20T11:32:22Z. Current time: 2023-02-20T11:34:47Z, a difference of 145586 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:34:47,602 [ERROR] [http-nio-8080-exec-1] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ClassCastException: class java.lang.String cannot be cast to class ru.bogdanov.SpringBootsecurityjwt.security.service.UserDetailsImpl (java.lang.String is in module java.base of loader 'bootstrap'; ru.bogdanov.SpringBootsecurityjwt.security.service.UserDetailsImpl is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class ru.bogdanov.SpringBootsecurityjwt.security.service.UserDetailsImpl (java.lang.String is in module java.base of loader 'bootstrap'; ru.bogdanov.SpringBootsecurityjwt.security.service.UserDetailsImpl is in unnamed module of loader 'app')
	at ru.bogdanov.SpringBootsecurityjwt.controller.CurrentUserController.getCurrentUser(CurrentUserController.java:45)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-02-20 11:35:15,355 [ERROR] [http-nio-8080-exec-4] JWT token is expired: JWT expired at 2023-02-20T11:32:22Z. Current time: 2023-02-20T11:35:15Z, a difference of 173354 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:36:15,998 [ERROR] [http-nio-8080-exec-10] JWT token is expired: JWT expired at 2023-02-20T11:36:15Z. Current time: 2023-02-20T11:36:15Z, a difference of 998 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:36:15,999 [ERROR] [http-nio-8080-exec-10] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ClassCastException: class java.lang.String cannot be cast to class ru.bogdanov.SpringBootsecurityjwt.security.service.UserDetailsImpl (java.lang.String is in module java.base of loader 'bootstrap'; ru.bogdanov.SpringBootsecurityjwt.security.service.UserDetailsImpl is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class ru.bogdanov.SpringBootsecurityjwt.security.service.UserDetailsImpl (java.lang.String is in module java.base of loader 'bootstrap'; ru.bogdanov.SpringBootsecurityjwt.security.service.UserDetailsImpl is in unnamed module of loader 'app')
	at ru.bogdanov.SpringBootsecurityjwt.controller.CurrentUserController.getCurrentUser(CurrentUserController.java:45)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-02-20 11:36:45,429 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:36:45,430 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 11:36:45,434 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 11:36:47,462 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 11:36:47,487 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 43813 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 11:36:47,488 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 11:36:47,871 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 11:36:47,904 [INFO] [main] Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
2023-02-20 11:36:48,266 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 11:36:48,273 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 11:36:48,273 [INFO] [main] Starting service [Tomcat]
2023-02-20 11:36:48,273 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 11:36:48,324 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 11:36:48,324 [INFO] [main] Root WebApplicationContext: initialization completed in 805 ms
2023-02-20 11:36:48,444 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 11:36:48,617 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 11:36:48,687 [INFO] [main] Set default schema name to public
2023-02-20 11:36:48,747 [INFO] [main] Successfully acquired change log lock
2023-02-20 11:36:48,782 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 11:36:48,787 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 11:36:48,840 [INFO] [main] Reading from public.databasechangelog
2023-02-20 11:36:48,868 [INFO] [main] Successfully released change log lock
2023-02-20 11:36:48,904 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 11:36:48,926 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 11:36:48,999 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 11:36:49,042 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 11:36:49,342 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 11:36:49,346 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:36:49,666 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 11:36:49,764 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@30259c61, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33d08a24, org.springframework.security.web.context.SecurityContextPersistenceFilter@5c30decf, org.springframework.security.web.header.HeaderWriterFilter@3fe3ebb3, org.springframework.web.filter.CorsFilter@255b84a9, org.springframework.security.web.authentication.logout.LogoutFilter@70ab1ce0, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@6dd1f239, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4a0f4282, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@19d3f4fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a286095, org.springframework.security.web.session.SessionManagementFilter@5aefdb9e, org.springframework.security.web.access.ExceptionTranslationFilter@6de4071b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@19834eb7]
2023-02-20 11:36:49,888 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 11:36:49,896 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 11:36:49,903 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.696 seconds (JVM running for 2.903)
2023-02-20 11:36:49,990 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 11:36:49,990 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 11:36:49,991 [INFO] [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-02-20 11:36:50,022 [ERROR] [http-nio-8080-exec-1] JWT token is expired: JWT expired at 2023-02-20T11:36:15Z. Current time: 2023-02-20T11:36:50Z, a difference of 35022 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:36:50,037 [ERROR] [http-nio-8080-exec-1] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ClassCastException: class java.lang.String cannot be cast to class ru.bogdanov.SpringBootsecurityjwt.security.service.UserDetailsImpl (java.lang.String is in module java.base of loader 'bootstrap'; ru.bogdanov.SpringBootsecurityjwt.security.service.UserDetailsImpl is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class ru.bogdanov.SpringBootsecurityjwt.security.service.UserDetailsImpl (java.lang.String is in module java.base of loader 'bootstrap'; ru.bogdanov.SpringBootsecurityjwt.security.service.UserDetailsImpl is in unnamed module of loader 'app')
	at ru.bogdanov.SpringBootsecurityjwt.controller.CurrentUserController.getCurrentUser(CurrentUserController.java:43)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-02-20 11:38:05,933 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:38:05,934 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 11:38:05,938 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 11:38:07,999 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 11:38:08,023 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 44098 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 11:38:08,024 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 11:38:08,411 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 11:38:08,444 [INFO] [main] Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
2023-02-20 11:38:08,784 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 11:38:08,790 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 11:38:08,790 [INFO] [main] Starting service [Tomcat]
2023-02-20 11:38:08,790 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 11:38:08,842 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 11:38:08,842 [INFO] [main] Root WebApplicationContext: initialization completed in 788 ms
2023-02-20 11:38:08,963 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 11:38:09,141 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 11:38:09,214 [INFO] [main] Set default schema name to public
2023-02-20 11:38:09,271 [INFO] [main] Successfully acquired change log lock
2023-02-20 11:38:09,304 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 11:38:09,311 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 11:38:09,375 [INFO] [main] Reading from public.databasechangelog
2023-02-20 11:38:09,409 [INFO] [main] Successfully released change log lock
2023-02-20 11:38:09,466 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 11:38:09,496 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 11:38:09,569 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 11:38:09,617 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 11:38:09,920 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 11:38:09,923 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:38:10,265 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 11:38:10,387 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@e280006, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54e3cba2, org.springframework.security.web.context.SecurityContextPersistenceFilter@574413bd, org.springframework.security.web.header.HeaderWriterFilter@125ba798, org.springframework.web.filter.CorsFilter@4f1aa2bc, org.springframework.security.web.authentication.logout.LogoutFilter@22ba30b0, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@2b9bbaa8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@556e4588, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f5df012, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@13e5c53c, org.springframework.security.web.session.SessionManagementFilter@78e59b04, org.springframework.security.web.access.ExceptionTranslationFilter@64e247e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3ecc9baa]
2023-02-20 11:38:10,503 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 11:38:10,514 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 11:38:10,523 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.791 seconds (JVM running for 3.0)
2023-02-20 11:38:10,634 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 11:38:10,634 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 11:38:10,636 [INFO] [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-02-20 11:38:10,669 [ERROR] [http-nio-8080-exec-1] JWT token is expired: JWT expired at 2023-02-20T11:36:15Z. Current time: 2023-02-20T11:38:10Z, a difference of 115669 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:38:10,682 [ERROR] [http-nio-8080-exec-1] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ClassCastException: class java.lang.String cannot be cast to class ru.bogdanov.SpringBootsecurityjwt.security.service.UserDetailsImpl (java.lang.String is in module java.base of loader 'bootstrap'; ru.bogdanov.SpringBootsecurityjwt.security.service.UserDetailsImpl is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.lang.String cannot be cast to class ru.bogdanov.SpringBootsecurityjwt.security.service.UserDetailsImpl (java.lang.String is in module java.base of loader 'bootstrap'; ru.bogdanov.SpringBootsecurityjwt.security.service.UserDetailsImpl is in unnamed module of loader 'app')
	at ru.bogdanov.SpringBootsecurityjwt.controller.CurrentUserController.getCurrentUser(CurrentUserController.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-02-20 11:38:39,924 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:38:39,926 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 11:38:39,929 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 11:38:50,110 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 11:38:50,125 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 44353 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 11:38:50,126 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 11:38:50,508 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 11:38:50,541 [INFO] [main] Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
2023-02-20 11:38:50,883 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 11:38:50,890 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 11:38:50,890 [INFO] [main] Starting service [Tomcat]
2023-02-20 11:38:50,890 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 11:38:50,947 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 11:38:50,947 [INFO] [main] Root WebApplicationContext: initialization completed in 790 ms
2023-02-20 11:38:51,097 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 11:38:51,279 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 11:38:51,350 [INFO] [main] Set default schema name to public
2023-02-20 11:38:51,404 [INFO] [main] Successfully acquired change log lock
2023-02-20 11:38:51,441 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 11:38:51,446 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 11:38:51,503 [INFO] [main] Reading from public.databasechangelog
2023-02-20 11:38:51,539 [INFO] [main] Successfully released change log lock
2023-02-20 11:38:51,594 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 11:38:51,615 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 11:38:51,685 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 11:38:51,733 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 11:38:52,035 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 11:38:52,039 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:38:52,419 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 11:38:52,525 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@c76762, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5318731f, org.springframework.security.web.context.SecurityContextPersistenceFilter@139b3a29, org.springframework.security.web.header.HeaderWriterFilter@5c30decf, org.springframework.web.filter.CorsFilter@2db82155, org.springframework.security.web.authentication.logout.LogoutFilter@7674f9d4, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@c931728, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@31daf094, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@74267ece, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@128d397c, org.springframework.security.web.session.SessionManagementFilter@3458be63, org.springframework.security.web.access.ExceptionTranslationFilter@7a491a60, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@80b70fd]
2023-02-20 11:38:52,672 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 11:38:52,682 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 11:38:52,691 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.859 seconds (JVM running for 3.066)
2023-02-20 11:38:53,862 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 11:38:53,862 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 11:38:53,863 [INFO] [http-nio-8080-exec-2] Completed initialization in 0 ms
2023-02-20 11:38:53,893 [ERROR] [http-nio-8080-exec-2] JWT token is expired: JWT expired at 2023-02-20T11:36:15Z. Current time: 2023-02-20T11:38:53Z, a difference of 158893 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:38:55,121 [ERROR] [http-nio-8080-exec-3] JWT token is expired: JWT expired at 2023-02-20T11:36:15Z. Current time: 2023-02-20T11:38:55Z, a difference of 160121 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:38:56,080 [ERROR] [http-nio-8080-exec-4] JWT token is expired: JWT expired at 2023-02-20T11:36:15Z. Current time: 2023-02-20T11:38:56Z, a difference of 161080 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:38:59,567 [ERROR] [http-nio-8080-exec-5] JWT token is expired: JWT expired at 2023-02-20T11:36:15Z. Current time: 2023-02-20T11:38:59Z, a difference of 164567 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:39:15,732 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:39:15,733 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 11:39:15,736 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 11:39:17,720 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 11:39:17,742 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 44566 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 11:39:17,743 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 11:39:18,092 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 11:39:18,122 [INFO] [main] Finished Spring Data repository scanning in 26 ms. Found 3 JPA repository interfaces.
2023-02-20 11:39:18,440 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 11:39:18,446 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 11:39:18,446 [INFO] [main] Starting service [Tomcat]
2023-02-20 11:39:18,446 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 11:39:18,497 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 11:39:18,497 [INFO] [main] Root WebApplicationContext: initialization completed in 729 ms
2023-02-20 11:39:18,631 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 11:39:18,807 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 11:39:18,879 [INFO] [main] Set default schema name to public
2023-02-20 11:39:18,947 [INFO] [main] Successfully acquired change log lock
2023-02-20 11:39:18,981 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 11:39:18,987 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 11:39:19,044 [INFO] [main] Reading from public.databasechangelog
2023-02-20 11:39:19,078 [INFO] [main] Successfully released change log lock
2023-02-20 11:39:19,122 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 11:39:19,143 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 11:39:19,211 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 11:39:19,264 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 11:39:19,576 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 11:39:19,579 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:39:19,940 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 11:39:20,059 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@332610ad, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@45bbb3e8, org.springframework.security.web.context.SecurityContextPersistenceFilter@4a0f4282, org.springframework.security.web.header.HeaderWriterFilter@6f30d0eb, org.springframework.web.filter.CorsFilter@795e8ef5, org.springframework.security.web.authentication.logout.LogoutFilter@765eb801, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@6dd1f239, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43cf97a8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5c1ea00, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@13976c57, org.springframework.security.web.session.SessionManagementFilter@80b6098, org.springframework.security.web.access.ExceptionTranslationFilter@3fe3ebb3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@175c26ff]
2023-02-20 11:39:20,197 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 11:39:20,209 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 11:39:20,217 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.75 seconds (JVM running for 2.961)
2023-02-20 11:39:21,082 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 11:39:21,082 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 11:39:21,083 [INFO] [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-02-20 11:41:14,639 [ERROR] [http-nio-8080-exec-6] JWT token is expired: JWT expired at 2023-02-20T11:39:59Z. Current time: 2023-02-20T11:41:14Z, a difference of 75639 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:41:16,945 [ERROR] [http-nio-8080-exec-7] JWT token is expired: JWT expired at 2023-02-20T11:39:59Z. Current time: 2023-02-20T11:41:16Z, a difference of 77945 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:41:18,961 [ERROR] [http-nio-8080-exec-8] JWT token is expired: JWT expired at 2023-02-20T11:39:59Z. Current time: 2023-02-20T11:41:18Z, a difference of 79961 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:41:26,727 [ERROR] [http-nio-8080-exec-9] JWT token is expired: JWT expired at 2023-02-20T11:39:59Z. Current time: 2023-02-20T11:41:26Z, a difference of 87726 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:41:27,988 [ERROR] [http-nio-8080-exec-10] JWT token is expired: JWT expired at 2023-02-20T11:39:59Z. Current time: 2023-02-20T11:41:27Z, a difference of 88988 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:41:29,007 [ERROR] [http-nio-8080-exec-2] JWT token is expired: JWT expired at 2023-02-20T11:39:59Z. Current time: 2023-02-20T11:41:29Z, a difference of 90007 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:41:30,484 [ERROR] [http-nio-8080-exec-1] JWT token is expired: JWT expired at 2023-02-20T11:39:59Z. Current time: 2023-02-20T11:41:30Z, a difference of 91484 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:41:31,826 [ERROR] [http-nio-8080-exec-3] JWT token is expired: JWT expired at 2023-02-20T11:39:59Z. Current time: 2023-02-20T11:41:31Z, a difference of 92826 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:41:34,528 [ERROR] [http-nio-8080-exec-4] JWT token is expired: JWT expired at 2023-02-20T11:39:59Z. Current time: 2023-02-20T11:41:34Z, a difference of 95528 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:44:41,648 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:44:41,649 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 11:44:41,653 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 11:44:43,758 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 11:44:43,781 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 45641 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 11:44:43,781 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 11:44:44,160 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 11:44:44,190 [INFO] [main] Finished Spring Data repository scanning in 26 ms. Found 3 JPA repository interfaces.
2023-02-20 11:44:44,568 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 11:44:44,576 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 11:44:44,576 [INFO] [main] Starting service [Tomcat]
2023-02-20 11:44:44,577 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 11:44:44,640 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 11:44:44,640 [INFO] [main] Root WebApplicationContext: initialization completed in 827 ms
2023-02-20 11:44:44,766 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 11:44:44,947 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 11:44:45,023 [INFO] [main] Set default schema name to public
2023-02-20 11:44:45,092 [INFO] [main] Successfully acquired change log lock
2023-02-20 11:44:45,132 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 11:44:45,139 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 11:44:45,207 [INFO] [main] Reading from public.databasechangelog
2023-02-20 11:44:45,239 [INFO] [main] Successfully released change log lock
2023-02-20 11:44:45,280 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 11:44:45,301 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 11:44:45,370 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 11:44:45,414 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 11:44:45,717 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 11:44:45,721 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:44:46,054 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 11:44:46,164 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2db82155, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@128d397c, org.springframework.security.web.context.SecurityContextPersistenceFilter@5c1ea00, org.springframework.security.web.header.HeaderWriterFilter@2e564c78, org.springframework.web.filter.CorsFilter@294ab038, org.springframework.security.web.authentication.logout.LogoutFilter@1e12fdcf, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@477e5b69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3398ed12, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c555e1e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@395abe85, org.springframework.security.web.session.SessionManagementFilter@4a0f4282, org.springframework.security.web.access.ExceptionTranslationFilter@22fe90df, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2df24f19]
2023-02-20 11:44:46,288 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 11:44:46,297 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 11:44:46,304 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.814 seconds (JVM running for 3.017)
2023-02-20 11:44:47,527 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 11:44:47,528 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 11:44:47,529 [INFO] [http-nio-8080-exec-2] Completed initialization in 1 ms
2023-02-20 11:44:47,567 [ERROR] [http-nio-8080-exec-2] JWT token is expired: JWT expired at 2023-02-20T11:39:59Z. Current time: 2023-02-20T11:44:47Z, a difference of 288566 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:44:49,842 [ERROR] [http-nio-8080-exec-3] JWT token is expired: JWT expired at 2023-02-20T11:39:59Z. Current time: 2023-02-20T11:44:49Z, a difference of 290842 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:44:52,712 [ERROR] [http-nio-8080-exec-4] JWT token is expired: JWT expired at 2023-02-20T11:39:59Z. Current time: 2023-02-20T11:44:52Z, a difference of 293712 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:45:25,231 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:45:25,232 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 11:45:25,235 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 11:45:27,316 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 11:45:27,336 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 45884 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 11:45:27,337 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 11:45:27,705 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 11:45:27,737 [INFO] [main] Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.
2023-02-20 11:45:28,088 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 11:45:28,095 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 11:45:28,095 [INFO] [main] Starting service [Tomcat]
2023-02-20 11:45:28,095 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 11:45:28,148 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 11:45:28,148 [INFO] [main] Root WebApplicationContext: initialization completed in 781 ms
2023-02-20 11:45:28,271 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 11:45:28,458 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 11:45:28,532 [INFO] [main] Set default schema name to public
2023-02-20 11:45:28,605 [INFO] [main] Successfully acquired change log lock
2023-02-20 11:45:28,641 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 11:45:28,647 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 11:45:28,709 [INFO] [main] Reading from public.databasechangelog
2023-02-20 11:45:28,740 [INFO] [main] Successfully released change log lock
2023-02-20 11:45:28,782 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 11:45:28,805 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 11:45:28,880 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 11:45:28,926 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 11:45:29,228 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 11:45:29,232 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:45:29,560 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 11:45:29,660 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@73a88711, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5978ba12, org.springframework.security.web.context.SecurityContextPersistenceFilter@3e265811, org.springframework.security.web.header.HeaderWriterFilter@43cf97a8, org.springframework.web.filter.CorsFilter@43f5b014, org.springframework.security.web.authentication.logout.LogoutFilter@2dc319cf, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@2b9bbaa8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@33986be7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@748fa354, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6b7e4db6, org.springframework.security.web.session.SessionManagementFilter@62c1259f, org.springframework.security.web.access.ExceptionTranslationFilter@4a0f4282, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@17f7a1af]
2023-02-20 11:45:29,770 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 11:45:29,778 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 11:45:29,784 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.725 seconds (JVM running for 2.93)
2023-02-20 11:45:31,537 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 11:45:31,537 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 11:45:31,538 [INFO] [http-nio-8080-exec-2] Completed initialization in 1 ms
2023-02-20 11:46:11,591 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:46:11,592 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 11:46:11,595 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 11:46:13,685 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 11:46:13,713 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 46076 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 11:46:13,714 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 11:46:14,071 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 11:46:14,103 [INFO] [main] Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.
2023-02-20 11:46:14,439 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 11:46:14,446 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 11:46:14,447 [INFO] [main] Starting service [Tomcat]
2023-02-20 11:46:14,447 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 11:46:14,502 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 11:46:14,503 [INFO] [main] Root WebApplicationContext: initialization completed in 757 ms
2023-02-20 11:46:14,633 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 11:46:14,818 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 11:46:14,890 [INFO] [main] Set default schema name to public
2023-02-20 11:46:14,948 [INFO] [main] Successfully acquired change log lock
2023-02-20 11:46:14,985 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 11:46:14,992 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 11:46:15,058 [INFO] [main] Reading from public.databasechangelog
2023-02-20 11:46:15,089 [INFO] [main] Successfully released change log lock
2023-02-20 11:46:15,129 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 11:46:15,153 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 11:46:15,241 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 11:46:15,300 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 11:46:15,607 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 11:46:15,611 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:46:15,952 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 11:46:16,070 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@25c98637, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@fbdba1c, org.springframework.security.web.context.SecurityContextPersistenceFilter@53b9952f, org.springframework.security.web.header.HeaderWriterFilter@55a07f97, org.springframework.web.filter.CorsFilter@108fd5d5, org.springframework.security.web.authentication.logout.LogoutFilter@11ec2b2f, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@2b9bbaa8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e12fdcf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1d0fc0bc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4125bc3c, org.springframework.security.web.session.SessionManagementFilter@70ab1ce0, org.springframework.security.web.access.ExceptionTranslationFilter@74267ece, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@40ed4674]
2023-02-20 11:46:16,177 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 11:46:16,186 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 11:46:16,193 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.782 seconds (JVM running for 2.99)
2023-02-20 11:46:16,391 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 11:46:16,391 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 11:46:16,392 [INFO] [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-02-20 11:46:30,270 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:46:30,271 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 11:46:30,275 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 11:46:32,314 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 11:46:32,336 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 46241 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 11:46:32,337 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 11:46:32,691 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 11:46:32,724 [INFO] [main] Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.
2023-02-20 11:46:33,051 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 11:46:33,058 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 11:46:33,058 [INFO] [main] Starting service [Tomcat]
2023-02-20 11:46:33,058 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 11:46:33,110 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 11:46:33,111 [INFO] [main] Root WebApplicationContext: initialization completed in 748 ms
2023-02-20 11:46:33,236 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 11:46:33,405 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 11:46:33,478 [INFO] [main] Set default schema name to public
2023-02-20 11:46:33,551 [INFO] [main] Successfully acquired change log lock
2023-02-20 11:46:33,587 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 11:46:33,594 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 11:46:33,651 [INFO] [main] Reading from public.databasechangelog
2023-02-20 11:46:33,683 [INFO] [main] Successfully released change log lock
2023-02-20 11:46:33,731 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 11:46:33,753 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 11:46:33,823 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 11:46:33,869 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 11:46:34,169 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 11:46:34,173 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:46:34,499 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 11:46:34,588 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@19834eb7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26361572, org.springframework.security.web.context.SecurityContextPersistenceFilter@118c1faa, org.springframework.security.web.header.HeaderWriterFilter@4ac0fdc7, org.springframework.web.filter.CorsFilter@5dc8448b, org.springframework.security.web.authentication.logout.LogoutFilter@5ed88e31, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@37f7ce20, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@99f75e4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b6ff016, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@30259c61, org.springframework.security.web.session.SessionManagementFilter@2e564c78, org.springframework.security.web.access.ExceptionTranslationFilter@1c24639e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@445f6aa7]
2023-02-20 11:46:34,712 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 11:46:34,720 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 11:46:34,729 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.676 seconds (JVM running for 2.865)
2023-02-20 11:46:34,974 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 11:46:34,974 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 11:46:34,976 [INFO] [http-nio-8080-exec-2] Completed initialization in 1 ms
2023-02-20 11:46:35,011 [ERROR] [http-nio-8080-exec-2] JWT token is expired: JWT expired at 2023-02-20T11:46:35Z. Current time: 2023-02-20T11:46:35Z, a difference of 11 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:46:36,606 [ERROR] [http-nio-8080-exec-3] JWT token is expired: JWT expired at 2023-02-20T11:46:35Z. Current time: 2023-02-20T11:46:36Z, a difference of 1606 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:46:51,765 [ERROR] [http-nio-8080-exec-4] JWT token is expired: JWT expired at 2023-02-20T11:46:35Z. Current time: 2023-02-20T11:46:51Z, a difference of 16765 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:47:49,458 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:47:49,459 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 11:47:49,463 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 11:47:51,549 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 11:47:51,571 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 46493 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 11:47:51,571 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 11:47:51,941 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 11:47:51,972 [INFO] [main] Finished Spring Data repository scanning in 27 ms. Found 3 JPA repository interfaces.
2023-02-20 11:47:52,302 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 11:47:52,309 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 11:47:52,309 [INFO] [main] Starting service [Tomcat]
2023-02-20 11:47:52,310 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 11:47:52,363 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 11:47:52,363 [INFO] [main] Root WebApplicationContext: initialization completed in 761 ms
2023-02-20 11:47:52,485 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 11:47:52,658 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 11:47:52,731 [INFO] [main] Set default schema name to public
2023-02-20 11:47:52,798 [INFO] [main] Successfully acquired change log lock
2023-02-20 11:47:52,842 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 11:47:52,848 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 11:47:52,908 [INFO] [main] Reading from public.databasechangelog
2023-02-20 11:47:52,942 [INFO] [main] Successfully released change log lock
2023-02-20 11:47:52,986 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 11:47:53,007 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 11:47:53,076 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 11:47:53,125 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 11:47:53,426 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 11:47:53,429 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:47:53,768 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 11:47:53,870 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@128d397c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@294ab038, org.springframework.security.web.context.SecurityContextPersistenceFilter@43c20142, org.springframework.security.web.header.HeaderWriterFilter@7a491a60, org.springframework.web.filter.CorsFilter@395abe85, org.springframework.security.web.authentication.logout.LogoutFilter@5cd6a827, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@6dd1f239, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@139b3a29, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@62c1259f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55849272, org.springframework.security.web.session.SessionManagementFilter@66df362c, org.springframework.security.web.access.ExceptionTranslationFilter@2b6ff016, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@c76762]
2023-02-20 11:47:53,979 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 11:47:53,987 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 11:47:53,993 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.713 seconds (JVM running for 2.918)
2023-02-20 11:47:56,653 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 11:47:56,653 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 11:47:56,654 [INFO] [http-nio-8080-exec-2] Completed initialization in 1 ms
2023-02-20 11:47:56,685 [ERROR] [http-nio-8080-exec-2] JWT token is expired: JWT expired at 2023-02-20T11:47:52Z. Current time: 2023-02-20T11:47:56Z, a difference of 4684 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:47:58,901 [ERROR] [http-nio-8080-exec-3] JWT token is expired: JWT expired at 2023-02-20T11:47:52Z. Current time: 2023-02-20T11:47:58Z, a difference of 6900 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:48:01,810 [ERROR] [http-nio-8080-exec-4] JWT token is expired: JWT expired at 2023-02-20T11:47:52Z. Current time: 2023-02-20T11:48:01Z, a difference of 9810 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:48:17,124 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:48:17,126 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 11:48:17,130 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 11:48:19,168 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 11:48:19,190 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 46701 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 11:48:19,191 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 11:48:19,552 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 11:48:19,585 [INFO] [main] Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
2023-02-20 11:48:19,943 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 11:48:19,949 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 11:48:19,949 [INFO] [main] Starting service [Tomcat]
2023-02-20 11:48:19,949 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 11:48:20,003 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 11:48:20,003 [INFO] [main] Root WebApplicationContext: initialization completed in 784 ms
2023-02-20 11:48:20,127 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 11:48:20,310 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 11:48:20,379 [INFO] [main] Set default schema name to public
2023-02-20 11:48:20,435 [INFO] [main] Successfully acquired change log lock
2023-02-20 11:48:20,468 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 11:48:20,475 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 11:48:20,534 [INFO] [main] Reading from public.databasechangelog
2023-02-20 11:48:20,568 [INFO] [main] Successfully released change log lock
2023-02-20 11:48:20,615 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 11:48:20,638 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 11:48:20,713 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 11:48:20,761 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 11:48:21,062 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 11:48:21,066 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:48:21,399 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 11:48:21,510 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@30259c61, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33d08a24, org.springframework.security.web.context.SecurityContextPersistenceFilter@118c1faa, org.springframework.security.web.header.HeaderWriterFilter@4ac0fdc7, org.springframework.web.filter.CorsFilter@255b84a9, org.springframework.security.web.authentication.logout.LogoutFilter@5ed88e31, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@37f7ce20, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@99f75e4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b6ff016, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a286095, org.springframework.security.web.session.SessionManagementFilter@2e564c78, org.springframework.security.web.access.ExceptionTranslationFilter@1c24639e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@19834eb7]
2023-02-20 11:48:21,628 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 11:48:21,636 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 11:48:21,642 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.742 seconds (JVM running for 2.958)
2023-02-20 11:48:24,228 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 11:48:24,228 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 11:48:24,229 [INFO] [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-02-20 11:51:44,091 [ERROR] [http-nio-8080-exec-7] JWT token is expired: JWT expired at 2023-02-20T11:49:27Z. Current time: 2023-02-20T11:51:44Z, a difference of 137091 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:51:46,943 [ERROR] [http-nio-8080-exec-8] JWT token is expired: JWT expired at 2023-02-20T11:49:27Z. Current time: 2023-02-20T11:51:46Z, a difference of 139943 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:51:49,749 [ERROR] [http-nio-8080-exec-9] JWT token is expired: JWT expired at 2023-02-20T11:49:27Z. Current time: 2023-02-20T11:51:49Z, a difference of 142749 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:52:03,293 [ERROR] [http-nio-8080-exec-10] JWT token is expired: JWT expired at 2023-02-20T11:49:27Z. Current time: 2023-02-20T11:52:03Z, a difference of 156293 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:52:03,294 [WARN] [http-nio-8080-exec-10] Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' not supported]
2023-02-20 11:52:08,975 [ERROR] [http-nio-8080-exec-2] JWT token is expired: JWT expired at 2023-02-20T11:49:27Z. Current time: 2023-02-20T11:52:08Z, a difference of 161974 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:52:23,680 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:52:23,681 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 11:52:23,686 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 11:52:25,821 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 11:52:25,842 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 47183 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 11:52:25,843 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 11:52:26,218 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 11:52:26,250 [INFO] [main] Finished Spring Data repository scanning in 27 ms. Found 3 JPA repository interfaces.
2023-02-20 11:52:26,579 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 11:52:26,585 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 11:52:26,586 [INFO] [main] Starting service [Tomcat]
2023-02-20 11:52:26,586 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 11:52:26,636 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 11:52:26,637 [INFO] [main] Root WebApplicationContext: initialization completed in 765 ms
2023-02-20 11:52:26,756 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 11:52:26,930 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 11:52:27,001 [INFO] [main] Set default schema name to public
2023-02-20 11:52:27,078 [INFO] [main] Successfully acquired change log lock
2023-02-20 11:52:27,114 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 11:52:27,119 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 11:52:27,179 [INFO] [main] Reading from public.databasechangelog
2023-02-20 11:52:27,211 [INFO] [main] Successfully released change log lock
2023-02-20 11:52:27,249 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 11:52:27,270 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 11:52:27,337 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 11:52:27,381 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 11:52:27,681 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 11:52:27,686 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:52:28,004 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 11:52:28,104 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@10b7b5f0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@80b70fd, org.springframework.security.web.context.SecurityContextPersistenceFilter@31daf094, org.springframework.security.web.header.HeaderWriterFilter@4a0f4282, org.springframework.web.filter.CorsFilter@5af7e2f, org.springframework.security.web.authentication.logout.LogoutFilter@22a2e581, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@37f7ce20, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e265811, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@55a07f97, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2df24f19, org.springframework.security.web.session.SessionManagementFilter@5cb32140, org.springframework.security.web.access.ExceptionTranslationFilter@5c30decf, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@45bbb3e8]
2023-02-20 11:52:28,217 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 11:52:28,225 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 11:52:28,233 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.677 seconds (JVM running for 2.877)
2023-02-20 11:53:03,176 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 11:53:03,176 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 11:53:03,177 [INFO] [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-02-20 11:53:03,210 [ERROR] [http-nio-8080-exec-1] JWT token is expired: JWT expired at 2023-02-20T11:49:27Z. Current time: 2023-02-20T11:53:03Z, a difference of 216209 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:53:06,200 [ERROR] [http-nio-8080-exec-3] JWT token is expired: JWT expired at 2023-02-20T11:49:27Z. Current time: 2023-02-20T11:53:06Z, a difference of 219200 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:53:28,608 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:53:28,609 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 11:53:28,613 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 11:53:30,551 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 11:53:30,574 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 47434 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 11:53:30,575 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 11:53:30,934 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 11:53:30,966 [INFO] [main] Finished Spring Data repository scanning in 27 ms. Found 3 JPA repository interfaces.
2023-02-20 11:53:31,304 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 11:53:31,310 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 11:53:31,311 [INFO] [main] Starting service [Tomcat]
2023-02-20 11:53:31,311 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 11:53:31,362 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 11:53:31,363 [INFO] [main] Root WebApplicationContext: initialization completed in 756 ms
2023-02-20 11:53:31,483 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 11:53:31,673 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 11:53:31,741 [INFO] [main] Set default schema name to public
2023-02-20 11:53:31,796 [INFO] [main] Successfully acquired change log lock
2023-02-20 11:53:31,838 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 11:53:31,845 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 11:53:31,914 [INFO] [main] Reading from public.databasechangelog
2023-02-20 11:53:31,948 [INFO] [main] Successfully released change log lock
2023-02-20 11:53:32,000 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 11:53:32,030 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 11:53:32,110 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 11:53:32,160 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 11:53:32,463 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 11:53:32,467 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:53:32,826 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 11:53:32,918 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@332610ad, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@45bbb3e8, org.springframework.security.web.context.SecurityContextPersistenceFilter@80b6098, org.springframework.security.web.header.HeaderWriterFilter@7077ae9c, org.springframework.web.filter.CorsFilter@795e8ef5, org.springframework.security.web.authentication.logout.LogoutFilter@574e4184, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@74a991cf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7827cdfc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a0f4282, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@13976c57, org.springframework.security.web.session.SessionManagementFilter@2b6ff016, org.springframework.security.web.access.ExceptionTranslationFilter@727de450, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@175c26ff]
2023-02-20 11:53:33,024 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 11:53:33,033 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 11:53:33,040 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.766 seconds (JVM running for 2.981)
2023-02-20 11:53:35,020 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 11:53:35,021 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 11:53:35,021 [INFO] [http-nio-8080-exec-1] Completed initialization in 0 ms
2023-02-20 11:53:54,249 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:53:54,250 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 11:53:54,255 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 11:53:56,436 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 11:53:56,460 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 47620 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 11:53:56,460 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 11:53:56,854 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 11:53:56,887 [INFO] [main] Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
2023-02-20 11:53:57,220 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 11:53:57,227 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 11:53:57,228 [INFO] [main] Starting service [Tomcat]
2023-02-20 11:53:57,228 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 11:53:57,282 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 11:53:57,282 [INFO] [main] Root WebApplicationContext: initialization completed in 790 ms
2023-02-20 11:53:57,402 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 11:53:57,592 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 11:53:57,663 [INFO] [main] Set default schema name to public
2023-02-20 11:53:57,723 [INFO] [main] Successfully acquired change log lock
2023-02-20 11:53:57,762 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 11:53:57,767 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 11:53:57,828 [INFO] [main] Reading from public.databasechangelog
2023-02-20 11:53:57,862 [INFO] [main] Successfully released change log lock
2023-02-20 11:53:57,912 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 11:53:57,934 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 11:53:58,010 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 11:53:58,063 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 11:53:58,377 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 11:53:58,381 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:53:58,733 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 11:53:58,829 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@43f5b014, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6b7e4db6, org.springframework.security.web.context.SecurityContextPersistenceFilter@7bdddfa4, org.springframework.security.web.header.HeaderWriterFilter@33986be7, org.springframework.web.filter.CorsFilter@5c59dfc7, org.springframework.security.web.authentication.logout.LogoutFilter@a70daf4, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@2b9bbaa8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d0fc0bc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2003edf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@40ed4674, org.springframework.security.web.session.SessionManagementFilter@50d6af87, org.springframework.security.web.access.ExceptionTranslationFilter@3e265811, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3093161a]
2023-02-20 11:53:58,957 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 11:53:58,971 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 11:53:58,979 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.827 seconds (JVM running for 3.037)
2023-02-20 11:53:59,488 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 11:53:59,488 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 11:53:59,488 [INFO] [http-nio-8080-exec-2] Completed initialization in 0 ms
2023-02-20 11:56:09,319 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:56:09,320 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 11:56:09,324 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 11:56:11,480 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 11:56:11,502 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 47937 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 11:56:11,503 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 11:56:11,884 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 11:56:11,915 [INFO] [main] Finished Spring Data repository scanning in 27 ms. Found 3 JPA repository interfaces.
2023-02-20 11:56:12,254 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 11:56:12,261 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 11:56:12,262 [INFO] [main] Starting service [Tomcat]
2023-02-20 11:56:12,262 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 11:56:12,315 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 11:56:12,315 [INFO] [main] Root WebApplicationContext: initialization completed in 781 ms
2023-02-20 11:56:12,453 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 11:56:12,640 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 11:56:12,708 [INFO] [main] Set default schema name to public
2023-02-20 11:56:12,774 [INFO] [main] Successfully acquired change log lock
2023-02-20 11:56:12,811 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 11:56:12,818 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 11:56:12,876 [INFO] [main] Reading from public.databasechangelog
2023-02-20 11:56:12,905 [INFO] [main] Successfully released change log lock
2023-02-20 11:56:12,953 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 11:56:12,977 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 11:56:13,053 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 11:56:13,108 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 11:56:13,399 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 11:56:13,402 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:56:13,753 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 11:56:13,867 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@30259c61, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33d08a24, org.springframework.security.web.context.SecurityContextPersistenceFilter@118c1faa, org.springframework.security.web.header.HeaderWriterFilter@4ac0fdc7, org.springframework.web.filter.CorsFilter@255b84a9, org.springframework.security.web.authentication.logout.LogoutFilter@5ed88e31, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@7054c068, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@99f75e4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b6ff016, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a286095, org.springframework.security.web.session.SessionManagementFilter@2e564c78, org.springframework.security.web.access.ExceptionTranslationFilter@1c24639e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@19834eb7]
2023-02-20 11:56:14,002 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 11:56:14,011 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 11:56:14,018 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.799 seconds (JVM running for 2.992)
2023-02-20 11:56:18,891 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 11:56:18,891 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 11:56:18,892 [INFO] [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-02-20 11:56:18,922 [ERROR] [http-nio-8080-exec-1] JWT token is expired: JWT expired at 2023-02-20T11:55:31Z. Current time: 2023-02-20T11:56:18Z, a difference of 47922 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:56:20,301 [ERROR] [http-nio-8080-exec-3] JWT token is expired: JWT expired at 2023-02-20T11:55:31Z. Current time: 2023-02-20T11:56:20Z, a difference of 49301 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:56:22,185 [ERROR] [http-nio-8080-exec-4] JWT token is expired: JWT expired at 2023-02-20T11:55:31Z. Current time: 2023-02-20T11:56:22Z, a difference of 51185 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 11:56:55,670 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:56:55,672 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 11:56:55,675 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 11:56:57,799 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 11:56:57,819 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 48156 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 11:56:57,819 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 11:56:58,212 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 11:56:58,244 [INFO] [main] Finished Spring Data repository scanning in 27 ms. Found 3 JPA repository interfaces.
2023-02-20 11:56:58,587 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 11:56:58,594 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 11:56:58,594 [INFO] [main] Starting service [Tomcat]
2023-02-20 11:56:58,595 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 11:56:58,649 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 11:56:58,650 [INFO] [main] Root WebApplicationContext: initialization completed in 801 ms
2023-02-20 11:56:58,767 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 11:56:58,959 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 11:56:59,034 [INFO] [main] Set default schema name to public
2023-02-20 11:56:59,090 [INFO] [main] Successfully acquired change log lock
2023-02-20 11:56:59,133 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 11:56:59,140 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 11:56:59,214 [INFO] [main] Reading from public.databasechangelog
2023-02-20 11:56:59,253 [INFO] [main] Successfully released change log lock
2023-02-20 11:56:59,302 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 11:56:59,329 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 11:56:59,434 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 11:56:59,493 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 11:56:59,820 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 11:56:59,824 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:57:00,155 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 11:57:00,280 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5978ba12, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@43f5b014, org.springframework.security.web.context.SecurityContextPersistenceFilter@2e6f1f48, org.springframework.security.web.header.HeaderWriterFilter@7827cdfc, org.springframework.web.filter.CorsFilter@6b7e4db6, org.springframework.security.web.authentication.logout.LogoutFilter@733e3c19, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@50841932, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@574413bd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3ad9fea, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5c59dfc7, org.springframework.security.web.session.SessionManagementFilter@43c20142, org.springframework.security.web.access.ExceptionTranslationFilter@80b6098, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@d62feaf]
2023-02-20 11:57:00,413 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 11:57:00,422 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 11:57:00,430 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.885 seconds (JVM running for 3.075)
2023-02-20 11:57:01,075 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 11:57:01,075 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 11:57:01,076 [INFO] [http-nio-8080-exec-2] Completed initialization in 1 ms
2023-02-20 11:58:21,180 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:58:21,182 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 11:58:21,186 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 11:58:23,337 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 11:58:23,363 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 48426 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 11:58:23,364 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 11:58:23,757 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 11:58:23,789 [INFO] [main] Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.
2023-02-20 11:58:24,131 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 11:58:24,138 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 11:58:24,138 [INFO] [main] Starting service [Tomcat]
2023-02-20 11:58:24,139 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 11:58:24,194 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 11:58:24,194 [INFO] [main] Root WebApplicationContext: initialization completed in 798 ms
2023-02-20 11:58:24,319 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 11:58:24,495 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 11:58:24,563 [INFO] [main] Set default schema name to public
2023-02-20 11:58:24,615 [INFO] [main] Successfully acquired change log lock
2023-02-20 11:58:24,654 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 11:58:24,660 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 11:58:24,724 [INFO] [main] Reading from public.databasechangelog
2023-02-20 11:58:24,759 [INFO] [main] Successfully released change log lock
2023-02-20 11:58:24,810 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 11:58:24,838 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 11:58:24,913 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 11:58:24,963 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 11:58:25,284 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 11:58:25,288 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 11:58:25,646 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 11:58:25,760 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@54e3cba2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4f1aa2bc, org.springframework.security.web.context.SecurityContextPersistenceFilter@748fa354, org.springframework.security.web.header.HeaderWriterFilter@3398ed12, org.springframework.web.filter.CorsFilter@13e5c53c, org.springframework.security.web.authentication.logout.LogoutFilter@fef2768, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@477e5b69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2e6f1f48, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5ed88e31, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d03df76, org.springframework.security.web.session.SessionManagementFilter@3e265811, org.springframework.security.web.access.ExceptionTranslationFilter@5c1ea00, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4f2a9903]
2023-02-20 11:58:25,876 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 11:58:25,884 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 11:58:25,891 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.822 seconds (JVM running for 3.034)
2023-02-20 11:58:27,346 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 11:58:27,346 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 11:58:27,347 [INFO] [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-02-20 11:58:27,383 [ERROR] [http-nio-8080-exec-1] JWT token is expired: JWT expired at 2023-02-20T11:58:25Z. Current time: 2023-02-20T11:58:27Z, a difference of 2383 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 12:36:28,182 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:36:28,184 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 12:36:28,186 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 12:36:30,322 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 12:36:30,349 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 51318 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 12:36:30,350 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 12:36:30,761 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 12:36:30,797 [INFO] [main] Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
2023-02-20 12:36:31,137 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 12:36:31,144 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 12:36:31,144 [INFO] [main] Starting service [Tomcat]
2023-02-20 12:36:31,145 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 12:36:31,196 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 12:36:31,197 [INFO] [main] Root WebApplicationContext: initialization completed in 817 ms
2023-02-20 12:36:31,321 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 12:36:31,496 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 12:36:31,572 [INFO] [main] Set default schema name to public
2023-02-20 12:36:31,636 [INFO] [main] Successfully acquired change log lock
2023-02-20 12:36:31,677 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 12:36:31,684 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 12:36:31,748 [INFO] [main] Reading from public.databasechangelog
2023-02-20 12:36:31,779 [INFO] [main] Successfully released change log lock
2023-02-20 12:36:31,820 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 12:36:31,842 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 12:36:31,912 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 12:36:31,957 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 12:36:32,261 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 12:36:32,265 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:36:32,590 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 12:36:32,697 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@54e3cba2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4f1aa2bc, org.springframework.security.web.context.SecurityContextPersistenceFilter@3ad9fea, org.springframework.security.web.header.HeaderWriterFilter@3458be63, org.springframework.web.filter.CorsFilter@13e5c53c, org.springframework.security.web.authentication.logout.LogoutFilter@22bca04e, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@2b9bbaa8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f5df012, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@38f3dbbf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d03df76, org.springframework.security.web.session.SessionManagementFilter@2e6f1f48, org.springframework.security.web.access.ExceptionTranslationFilter@66df362c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4f2a9903]
2023-02-20 12:36:32,818 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 12:36:32,828 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 12:36:32,837 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.768 seconds (JVM running for 2.969)
2023-02-20 12:36:39,654 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 12:36:39,655 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 12:36:39,655 [INFO] [http-nio-8080-exec-2] Completed initialization in 0 ms
2023-02-20 12:36:39,686 [ERROR] [http-nio-8080-exec-2] JWT token is expired: JWT expired at 2023-02-20T11:58:25Z. Current time: 2023-02-20T12:36:39Z, a difference of 2294685 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 12:36:43,587 [ERROR] [http-nio-8080-exec-3] JWT token is expired: JWT expired at 2023-02-20T11:58:25Z. Current time: 2023-02-20T12:36:43Z, a difference of 2298587 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 12:36:59,923 [ERROR] [http-nio-8080-exec-7] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 12:37:01,236 [ERROR] [http-nio-8080-exec-8] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 12:37:09,277 [ERROR] [http-nio-8080-exec-9] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 12:37:37,209 [ERROR] [http-nio-8080-exec-7] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 12:37:47,630 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:37:47,631 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 12:37:47,635 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 12:37:49,652 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 12:37:49,672 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 51656 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 12:37:49,673 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 12:37:50,051 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 12:37:50,083 [INFO] [main] Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.
2023-02-20 12:37:50,421 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 12:37:50,427 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 12:37:50,427 [INFO] [main] Starting service [Tomcat]
2023-02-20 12:37:50,427 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 12:37:50,480 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 12:37:50,480 [INFO] [main] Root WebApplicationContext: initialization completed in 774 ms
2023-02-20 12:37:50,605 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 12:37:50,788 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 12:37:50,856 [INFO] [main] Set default schema name to public
2023-02-20 12:37:50,913 [INFO] [main] Successfully acquired change log lock
2023-02-20 12:37:50,946 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 12:37:50,952 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 12:37:51,020 [INFO] [main] Reading from public.databasechangelog
2023-02-20 12:37:51,057 [INFO] [main] Successfully released change log lock
2023-02-20 12:37:51,110 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 12:37:51,140 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 12:37:51,221 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 12:37:51,275 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 12:37:51,574 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 12:37:51,580 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:37:51,928 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 12:37:52,051 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4f2a9903, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@294ebdae, org.springframework.security.web.context.SecurityContextPersistenceFilter@55a07f97, org.springframework.security.web.header.HeaderWriterFilter@5c1ea00, org.springframework.web.filter.CorsFilter@e280006, org.springframework.security.web.authentication.logout.LogoutFilter@1690929, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@477e5b69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@748fa354, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@78e59b04, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@54e3cba2, org.springframework.security.web.session.SessionManagementFilter@31daf094, org.springframework.security.web.access.ExceptionTranslationFilter@19d3f4fb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2eb91767]
2023-02-20 12:37:52,173 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 12:37:52,182 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 12:37:52,189 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.816 seconds (JVM running for 3.014)
2023-02-20 12:37:53,818 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 12:37:53,818 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 12:37:53,819 [INFO] [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-02-20 12:37:56,058 [WARN] [http-nio-8080-exec-3] Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2023-02-20 12:38:29,503 [ERROR] [http-nio-8080-exec-10] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 12:39:04,663 [ERROR] [http-nio-8080-exec-4] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 12:39:06,793 [ERROR] [http-nio-8080-exec-5] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 12:39:38,276 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:39:38,278 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 12:39:38,281 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 12:39:40,378 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 12:39:40,403 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 52045 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 12:39:40,404 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 12:39:40,784 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 12:39:40,817 [INFO] [main] Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
2023-02-20 12:39:41,161 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 12:39:41,167 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 12:39:41,168 [INFO] [main] Starting service [Tomcat]
2023-02-20 12:39:41,168 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 12:39:41,221 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 12:39:41,221 [INFO] [main] Root WebApplicationContext: initialization completed in 784 ms
2023-02-20 12:39:41,354 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 12:39:41,543 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 12:39:41,613 [INFO] [main] Set default schema name to public
2023-02-20 12:39:41,667 [INFO] [main] Successfully acquired change log lock
2023-02-20 12:39:41,703 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 12:39:41,710 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 12:39:41,791 [INFO] [main] Reading from public.databasechangelog
2023-02-20 12:39:41,830 [INFO] [main] Successfully released change log lock
2023-02-20 12:39:41,919 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 12:39:41,947 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 12:39:42,043 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 12:39:42,094 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 12:39:42,400 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 12:39:42,404 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:39:42,735 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 12:39:42,835 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@30259c61, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33d08a24, org.springframework.security.web.context.SecurityContextPersistenceFilter@118c1faa, org.springframework.security.web.header.HeaderWriterFilter@4ac0fdc7, org.springframework.web.filter.CorsFilter@255b84a9, org.springframework.security.web.authentication.logout.LogoutFilter@5ed88e31, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@37f7ce20, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@99f75e4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b6ff016, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a286095, org.springframework.security.web.session.SessionManagementFilter@2e564c78, org.springframework.security.web.access.ExceptionTranslationFilter@1c24639e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@19834eb7]
2023-02-20 12:39:42,935 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 12:39:42,943 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 12:39:42,949 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.828 seconds (JVM running for 3.032)
2023-02-20 12:39:45,940 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 12:39:45,940 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 12:39:45,941 [INFO] [http-nio-8080-exec-2] Completed initialization in 0 ms
2023-02-20 12:39:46,056 [WARN] [http-nio-8080-exec-2] Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' not supported]
2023-02-20 12:40:41,419 [ERROR] [http-nio-8080-exec-3] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 12:40:44,828 [ERROR] [http-nio-8080-exec-4] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 12:42:57,785 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:42:57,786 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 12:42:57,789 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 12:42:59,928 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 12:42:59,949 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 52589 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 12:42:59,950 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 12:43:00,359 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 12:43:00,391 [INFO] [main] Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.
2023-02-20 12:43:00,736 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 12:43:00,743 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 12:43:00,743 [INFO] [main] Starting service [Tomcat]
2023-02-20 12:43:00,743 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 12:43:00,794 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 12:43:00,794 [INFO] [main] Root WebApplicationContext: initialization completed in 814 ms
2023-02-20 12:43:00,912 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 12:43:01,088 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 12:43:01,160 [INFO] [main] Set default schema name to public
2023-02-20 12:43:01,225 [INFO] [main] Successfully acquired change log lock
2023-02-20 12:43:01,260 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 12:43:01,265 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 12:43:01,324 [INFO] [main] Reading from public.databasechangelog
2023-02-20 12:43:01,356 [INFO] [main] Successfully released change log lock
2023-02-20 12:43:01,396 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 12:43:01,418 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 12:43:01,487 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 12:43:01,534 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 12:43:01,876 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 12:43:01,880 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:43:02,223 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 12:43:02,324 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@294ebdae, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e280006, org.springframework.security.web.context.SecurityContextPersistenceFilter@55a07f97, org.springframework.security.web.header.HeaderWriterFilter@5c1ea00, org.springframework.web.filter.CorsFilter@54e3cba2, org.springframework.security.web.authentication.logout.LogoutFilter@1690929, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@477e5b69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@748fa354, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@78e59b04, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4f1aa2bc, org.springframework.security.web.session.SessionManagementFilter@31daf094, org.springframework.security.web.access.ExceptionTranslationFilter@19d3f4fb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@520eb9f8]
2023-02-20 12:43:02,435 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 12:43:02,443 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 12:43:02,450 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.801 seconds (JVM running for 3.021)
2023-02-20 12:43:03,348 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 12:43:03,348 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 12:43:03,349 [INFO] [http-nio-8080-exec-2] Completed initialization in 1 ms
2023-02-20 12:43:03,378 [ERROR] [http-nio-8080-exec-2] JWT token is expired: JWT expired at 2023-02-20T12:41:52Z. Current time: 2023-02-20T12:43:03Z, a difference of 71378 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 12:43:04,733 [ERROR] [http-nio-8080-exec-3] JWT token is expired: JWT expired at 2023-02-20T12:41:52Z. Current time: 2023-02-20T12:43:04Z, a difference of 72733 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 12:43:21,888 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:43:21,889 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 12:43:21,892 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 12:43:23,859 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 12:43:23,884 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 52800 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 12:43:23,885 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 12:43:24,282 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 12:43:24,314 [INFO] [main] Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.
2023-02-20 12:43:24,655 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 12:43:24,662 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 12:43:24,662 [INFO] [main] Starting service [Tomcat]
2023-02-20 12:43:24,662 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 12:43:24,714 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 12:43:24,715 [INFO] [main] Root WebApplicationContext: initialization completed in 798 ms
2023-02-20 12:43:24,835 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 12:43:25,006 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 12:43:25,074 [INFO] [main] Set default schema name to public
2023-02-20 12:43:25,141 [INFO] [main] Successfully acquired change log lock
2023-02-20 12:43:25,178 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 12:43:25,183 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 12:43:25,236 [INFO] [main] Reading from public.databasechangelog
2023-02-20 12:43:25,267 [INFO] [main] Successfully released change log lock
2023-02-20 12:43:25,316 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 12:43:25,341 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 12:43:25,416 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 12:43:25,471 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 12:43:25,816 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 12:43:25,820 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:43:26,172 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 12:43:26,279 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@43f5b014, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6b7e4db6, org.springframework.security.web.context.SecurityContextPersistenceFilter@7bdddfa4, org.springframework.security.web.header.HeaderWriterFilter@33986be7, org.springframework.web.filter.CorsFilter@5c59dfc7, org.springframework.security.web.authentication.logout.LogoutFilter@a70daf4, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@2b9bbaa8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d0fc0bc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2003edf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@40ed4674, org.springframework.security.web.session.SessionManagementFilter@50d6af87, org.springframework.security.web.access.ExceptionTranslationFilter@3e265811, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3093161a]
2023-02-20 12:43:26,409 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 12:43:26,417 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 12:43:26,423 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.834 seconds (JVM running for 3.033)
2023-02-20 12:43:27,509 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 12:43:27,510 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 12:43:27,510 [INFO] [http-nio-8080-exec-2] Completed initialization in 0 ms
2023-02-20 12:43:27,540 [ERROR] [http-nio-8080-exec-2] JWT token is expired: JWT expired at 2023-02-20T12:41:52Z. Current time: 2023-02-20T12:43:27Z, a difference of 95540 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 12:43:28,490 [ERROR] [http-nio-8080-exec-3] JWT token is expired: JWT expired at 2023-02-20T12:41:52Z. Current time: 2023-02-20T12:43:28Z, a difference of 96490 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 12:43:29,597 [ERROR] [http-nio-8080-exec-4] JWT token is expired: JWT expired at 2023-02-20T12:41:52Z. Current time: 2023-02-20T12:43:29Z, a difference of 97597 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 12:43:32,922 [ERROR] [http-nio-8080-exec-5] JWT token is expired: JWT expired at 2023-02-20T12:41:52Z. Current time: 2023-02-20T12:43:32Z, a difference of 100922 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 12:43:47,448 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:43:47,450 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 12:43:47,453 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 12:43:49,426 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 12:43:49,452 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 53017 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 12:43:49,453 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 12:43:49,832 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 12:43:49,865 [INFO] [main] Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.
2023-02-20 12:43:50,212 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 12:43:50,219 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 12:43:50,219 [INFO] [main] Starting service [Tomcat]
2023-02-20 12:43:50,220 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 12:43:50,276 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 12:43:50,277 [INFO] [main] Root WebApplicationContext: initialization completed in 795 ms
2023-02-20 12:43:50,407 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 12:43:50,589 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 12:43:50,660 [INFO] [main] Set default schema name to public
2023-02-20 12:43:50,729 [INFO] [main] Successfully acquired change log lock
2023-02-20 12:43:50,765 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 12:43:50,771 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 12:43:50,834 [INFO] [main] Reading from public.databasechangelog
2023-02-20 12:43:50,871 [INFO] [main] Successfully released change log lock
2023-02-20 12:43:50,924 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 12:43:50,949 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 12:43:51,018 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 12:43:51,063 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 12:43:51,365 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 12:43:51,369 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:43:51,716 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 12:43:51,826 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@30259c61, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33d08a24, org.springframework.security.web.context.SecurityContextPersistenceFilter@118c1faa, org.springframework.security.web.header.HeaderWriterFilter@4ac0fdc7, org.springframework.web.filter.CorsFilter@255b84a9, org.springframework.security.web.authentication.logout.LogoutFilter@5ed88e31, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@7054c068, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@99f75e4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b6ff016, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a286095, org.springframework.security.web.session.SessionManagementFilter@2e564c78, org.springframework.security.web.access.ExceptionTranslationFilter@1c24639e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@19834eb7]
2023-02-20 12:43:51,957 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 12:43:51,967 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 12:43:51,975 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.819 seconds (JVM running for 3.015)
2023-02-20 12:43:52,050 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 12:43:52,050 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 12:43:52,051 [INFO] [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-02-20 12:44:19,440 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:44:19,441 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 12:44:19,445 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 12:44:21,441 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 12:44:21,464 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 53189 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 12:44:21,465 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 12:44:21,848 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 12:44:21,880 [INFO] [main] Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.
2023-02-20 12:44:22,224 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 12:44:22,231 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 12:44:22,231 [INFO] [main] Starting service [Tomcat]
2023-02-20 12:44:22,231 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 12:44:22,285 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 12:44:22,285 [INFO] [main] Root WebApplicationContext: initialization completed in 788 ms
2023-02-20 12:44:22,407 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 12:44:22,585 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 12:44:22,654 [INFO] [main] Set default schema name to public
2023-02-20 12:44:22,720 [INFO] [main] Successfully acquired change log lock
2023-02-20 12:44:22,756 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 12:44:22,761 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 12:44:22,825 [INFO] [main] Reading from public.databasechangelog
2023-02-20 12:44:22,856 [INFO] [main] Successfully released change log lock
2023-02-20 12:44:22,900 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 12:44:22,922 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 12:44:22,992 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 12:44:23,039 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 12:44:23,333 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 12:44:23,337 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:44:23,697 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 12:44:23,794 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@45bbb3e8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@795e8ef5, org.springframework.security.web.context.SecurityContextPersistenceFilter@80b6098, org.springframework.security.web.header.HeaderWriterFilter@7077ae9c, org.springframework.web.filter.CorsFilter@13976c57, org.springframework.security.web.authentication.logout.LogoutFilter@574e4184, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@74a991cf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7827cdfc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a0f4282, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10b7b5f0, org.springframework.security.web.session.SessionManagementFilter@2b6ff016, org.springframework.security.web.access.ExceptionTranslationFilter@727de450, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@623bdc46]
2023-02-20 12:44:23,920 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 12:44:23,930 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 12:44:23,939 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.768 seconds (JVM running for 2.97)
2023-02-20 12:44:26,142 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 12:44:26,143 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 12:44:26,144 [INFO] [http-nio-8080-exec-2] Completed initialization in 1 ms
2023-02-20 12:45:15,847 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:45:15,849 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 12:45:15,853 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 12:45:17,951 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 12:45:17,974 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 53414 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 12:45:17,975 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 12:45:18,365 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 12:45:18,399 [INFO] [main] Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
2023-02-20 12:45:18,739 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 12:45:18,744 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 12:45:18,745 [INFO] [main] Starting service [Tomcat]
2023-02-20 12:45:18,745 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 12:45:18,794 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 12:45:18,795 [INFO] [main] Root WebApplicationContext: initialization completed in 788 ms
2023-02-20 12:45:18,912 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 12:45:19,085 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 12:45:19,155 [INFO] [main] Set default schema name to public
2023-02-20 12:45:19,209 [INFO] [main] Successfully acquired change log lock
2023-02-20 12:45:19,241 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 12:45:19,246 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 12:45:19,304 [INFO] [main] Reading from public.databasechangelog
2023-02-20 12:45:19,334 [INFO] [main] Successfully released change log lock
2023-02-20 12:45:19,386 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 12:45:19,410 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 12:45:19,484 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 12:45:19,536 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 12:45:19,842 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 12:45:19,846 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:45:20,190 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 12:45:20,287 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@10b7b5f0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@80b70fd, org.springframework.security.web.context.SecurityContextPersistenceFilter@31daf094, org.springframework.security.web.header.HeaderWriterFilter@4a0f4282, org.springframework.web.filter.CorsFilter@5af7e2f, org.springframework.security.web.authentication.logout.LogoutFilter@22a2e581, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@37f7ce20, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e265811, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@55a07f97, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2df24f19, org.springframework.security.web.session.SessionManagementFilter@5cb32140, org.springframework.security.web.access.ExceptionTranslationFilter@5c30decf, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@45bbb3e8]
2023-02-20 12:45:20,418 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 12:45:20,428 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 12:45:20,435 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.771 seconds (JVM running for 2.988)
2023-02-20 12:45:21,507 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 12:45:21,508 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 12:45:21,508 [INFO] [http-nio-8080-exec-2] Completed initialization in 0 ms
2023-02-20 12:45:21,546 [ERROR] [http-nio-8080-exec-2] JWT token is expired: JWT expired at 2023-02-20T12:44:33Z. Current time: 2023-02-20T12:45:21Z, a difference of 48546 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 12:45:24,854 [ERROR] [http-nio-8080-exec-3] JWT token is expired: JWT expired at 2023-02-20T12:44:33Z. Current time: 2023-02-20T12:45:24Z, a difference of 51854 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 12:45:39,448 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:45:39,449 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 12:45:39,452 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 12:45:41,517 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 12:45:41,539 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 53615 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 12:45:41,541 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 12:45:41,923 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 12:45:41,955 [INFO] [main] Finished Spring Data repository scanning in 27 ms. Found 3 JPA repository interfaces.
2023-02-20 12:45:42,302 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 12:45:42,308 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 12:45:42,309 [INFO] [main] Starting service [Tomcat]
2023-02-20 12:45:42,309 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 12:45:42,362 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 12:45:42,362 [INFO] [main] Root WebApplicationContext: initialization completed in 783 ms
2023-02-20 12:45:42,500 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 12:45:42,677 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 12:45:42,747 [INFO] [main] Set default schema name to public
2023-02-20 12:45:42,817 [INFO] [main] Successfully acquired change log lock
2023-02-20 12:45:42,852 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 12:45:42,859 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 12:45:42,922 [INFO] [main] Reading from public.databasechangelog
2023-02-20 12:45:42,958 [INFO] [main] Successfully released change log lock
2023-02-20 12:45:43,007 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 12:45:43,028 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 12:45:43,098 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 12:45:43,145 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 12:45:43,440 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 12:45:43,443 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:45:43,782 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 12:45:43,879 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@795e8ef5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@13976c57, org.springframework.security.web.context.SecurityContextPersistenceFilter@31daf094, org.springframework.security.web.header.HeaderWriterFilter@4a0f4282, org.springframework.web.filter.CorsFilter@10b7b5f0, org.springframework.security.web.authentication.logout.LogoutFilter@22a2e581, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@37f7ce20, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e265811, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@55a07f97, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@80b70fd, org.springframework.security.web.session.SessionManagementFilter@5cb32140, org.springframework.security.web.access.ExceptionTranslationFilter@5c30decf, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@411576c7]
2023-02-20 12:45:44,004 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 12:45:44,012 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 12:45:44,019 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.811 seconds (JVM running for 3.02)
2023-02-20 12:45:48,468 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 12:45:48,469 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 12:45:48,469 [INFO] [http-nio-8080-exec-2] Completed initialization in 0 ms
2023-02-20 12:45:48,501 [ERROR] [http-nio-8080-exec-2] JWT token is expired: JWT expired at 2023-02-20T12:44:33Z. Current time: 2023-02-20T12:45:48Z, a difference of 75501 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 12:47:25,572 [ERROR] [http-nio-8080-exec-5] JWT token is expired: JWT expired at 2023-02-20T12:44:33Z. Current time: 2023-02-20T12:47:25Z, a difference of 172571 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 12:48:35,392 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:48:35,393 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 12:48:35,397 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 12:48:37,543 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 12:48:37,565 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 54033 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 12:48:37,566 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 12:48:37,937 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 12:48:37,970 [INFO] [main] Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
2023-02-20 12:48:38,320 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 12:48:38,326 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 12:48:38,327 [INFO] [main] Starting service [Tomcat]
2023-02-20 12:48:38,327 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 12:48:38,378 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 12:48:38,379 [INFO] [main] Root WebApplicationContext: initialization completed in 780 ms
2023-02-20 12:48:38,501 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 12:48:38,691 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 12:48:38,763 [INFO] [main] Set default schema name to public
2023-02-20 12:48:38,815 [INFO] [main] Successfully acquired change log lock
2023-02-20 12:48:38,848 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 12:48:38,853 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 12:48:38,916 [INFO] [main] Reading from public.databasechangelog
2023-02-20 12:48:38,955 [INFO] [main] Successfully released change log lock
2023-02-20 12:48:39,014 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 12:48:39,039 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 12:48:39,111 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 12:48:39,161 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 12:48:39,500 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 12:48:39,504 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:48:39,873 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 12:48:39,981 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@43f5b014, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6b7e4db6, org.springframework.security.web.context.SecurityContextPersistenceFilter@7bdddfa4, org.springframework.security.web.header.HeaderWriterFilter@33986be7, org.springframework.web.filter.CorsFilter@5c59dfc7, org.springframework.security.web.authentication.logout.LogoutFilter@a70daf4, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@2b9bbaa8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d0fc0bc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2003edf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@40ed4674, org.springframework.security.web.session.SessionManagementFilter@50d6af87, org.springframework.security.web.access.ExceptionTranslationFilter@3e265811, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3093161a]
2023-02-20 12:48:40,108 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 12:48:40,116 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 12:48:40,123 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.854 seconds (JVM running for 3.049)
2023-02-20 12:48:43,052 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 12:48:43,052 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 12:48:43,053 [INFO] [http-nio-8080-exec-2] Completed initialization in 1 ms
2023-02-20 12:48:43,084 [ERROR] [http-nio-8080-exec-2] JWT token is expired: JWT expired at 2023-02-20T12:48:25Z. Current time: 2023-02-20T12:48:43Z, a difference of 18083 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 12:49:17,304 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:49:17,305 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 12:49:17,310 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 12:49:19,286 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 12:49:19,308 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 54233 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 12:49:19,308 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 12:49:19,686 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 12:49:19,719 [INFO] [main] Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.
2023-02-20 12:49:20,085 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 12:49:20,092 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 12:49:20,093 [INFO] [main] Starting service [Tomcat]
2023-02-20 12:49:20,093 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 12:49:20,154 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 12:49:20,155 [INFO] [main] Root WebApplicationContext: initialization completed in 816 ms
2023-02-20 12:49:20,295 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 12:49:20,474 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 12:49:20,547 [INFO] [main] Set default schema name to public
2023-02-20 12:49:20,619 [INFO] [main] Successfully acquired change log lock
2023-02-20 12:49:20,654 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 12:49:20,660 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 12:49:20,719 [INFO] [main] Reading from public.databasechangelog
2023-02-20 12:49:20,747 [INFO] [main] Successfully released change log lock
2023-02-20 12:49:20,786 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 12:49:20,808 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 12:49:20,882 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 12:49:20,930 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 12:49:21,238 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 12:49:21,242 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:49:21,571 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 12:49:21,691 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5318731f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2db82155, org.springframework.security.web.context.SecurityContextPersistenceFilter@43cf97a8, org.springframework.security.web.header.HeaderWriterFilter@2604940, org.springframework.web.filter.CorsFilter@128d397c, org.springframework.security.web.authentication.logout.LogoutFilter@7bdddfa4, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@477e5b69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@356ab368, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3398ed12, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@294ab038, org.springframework.security.web.session.SessionManagementFilter@7827cdfc, org.springframework.security.web.access.ExceptionTranslationFilter@6f30d0eb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5af7e2f]
2023-02-20 12:49:21,824 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 12:49:21,836 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 12:49:21,846 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.843 seconds (JVM running for 3.054)
2023-02-20 12:49:21,870 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 12:49:21,871 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 12:49:21,872 [INFO] [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-02-20 12:49:21,907 [ERROR] [http-nio-8080-exec-1] JWT token is expired: JWT expired at 2023-02-20T12:48:25Z. Current time: 2023-02-20T12:49:21Z, a difference of 56906 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 12:49:22,973 [ERROR] [http-nio-8080-exec-3] JWT token is expired: JWT expired at 2023-02-20T12:48:25Z. Current time: 2023-02-20T12:49:22Z, a difference of 57973 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 12:49:23,788 [ERROR] [http-nio-8080-exec-4] JWT token is expired: JWT expired at 2023-02-20T12:48:25Z. Current time: 2023-02-20T12:49:23Z, a difference of 58788 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 12:49:28,495 [ERROR] [http-nio-8080-exec-5] JWT token is expired: JWT expired at 2023-02-20T12:48:25Z. Current time: 2023-02-20T12:49:28Z, a difference of 63495 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 12:49:31,017 [ERROR] [http-nio-8080-exec-6] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 12:50:15,934 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:50:15,935 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 12:50:15,939 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 12:50:24,574 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 12:50:24,600 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 54661 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 12:50:24,600 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 12:50:24,974 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 12:50:25,006 [INFO] [main] Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.
2023-02-20 12:50:25,348 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 12:50:25,354 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 12:50:25,354 [INFO] [main] Starting service [Tomcat]
2023-02-20 12:50:25,354 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 12:50:25,407 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 12:50:25,408 [INFO] [main] Root WebApplicationContext: initialization completed in 777 ms
2023-02-20 12:50:25,540 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 12:50:25,726 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 12:50:25,800 [INFO] [main] Set default schema name to public
2023-02-20 12:50:25,859 [INFO] [main] Successfully acquired change log lock
2023-02-20 12:50:25,905 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 12:50:25,913 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 12:50:25,987 [INFO] [main] Reading from public.databasechangelog
2023-02-20 12:50:26,025 [INFO] [main] Successfully released change log lock
2023-02-20 12:50:26,067 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 12:50:26,088 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 12:50:26,162 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 12:50:26,217 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 12:50:26,524 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 12:50:26,528 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:50:26,928 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 12:50:27,055 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7e577eed, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@11a0c708, org.springframework.security.web.context.SecurityContextPersistenceFilter@118c1faa, org.springframework.security.web.header.HeaderWriterFilter@4ac0fdc7, org.springframework.web.filter.CorsFilter@30bfdcc5, org.springframework.security.web.authentication.logout.LogoutFilter@5ed88e31, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@7e58b0f6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@99f75e4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b6ff016, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1e9b0c92, org.springframework.security.web.session.SessionManagementFilter@2e564c78, org.springframework.security.web.access.ExceptionTranslationFilter@1c24639e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@a2ca681]
2023-02-20 12:50:27,173 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 12:50:27,181 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 12:50:27,188 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.871 seconds (JVM running for 3.081)
2023-02-20 12:50:27,656 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 12:50:27,656 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 12:50:27,657 [INFO] [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-02-20 12:50:53,981 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:50:53,982 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 12:50:53,987 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 12:50:56,208 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 12:50:56,223 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 54860 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 12:50:56,224 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 12:50:56,608 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 12:50:56,640 [INFO] [main] Finished Spring Data repository scanning in 27 ms. Found 3 JPA repository interfaces.
2023-02-20 12:50:56,983 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 12:50:56,990 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 12:50:56,990 [INFO] [main] Starting service [Tomcat]
2023-02-20 12:50:56,990 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 12:50:57,045 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 12:50:57,046 [INFO] [main] Root WebApplicationContext: initialization completed in 789 ms
2023-02-20 12:50:57,172 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 12:50:57,359 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 12:50:57,428 [INFO] [main] Set default schema name to public
2023-02-20 12:50:57,483 [INFO] [main] Successfully acquired change log lock
2023-02-20 12:50:57,516 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 12:50:57,521 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 12:50:57,578 [INFO] [main] Reading from public.databasechangelog
2023-02-20 12:50:57,612 [INFO] [main] Successfully released change log lock
2023-02-20 12:50:57,662 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 12:50:57,686 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 12:50:57,758 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 12:50:57,809 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 12:50:58,132 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 12:50:58,136 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:50:58,495 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 12:50:58,593 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@13e5c53c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5d03df76, org.springframework.security.web.context.SecurityContextPersistenceFilter@356ab368, org.springframework.security.web.header.HeaderWriterFilter@470866d1, org.springframework.web.filter.CorsFilter@17f7a1af, org.springframework.security.web.authentication.logout.LogoutFilter@1d0fc0bc, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@c931728, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@c555e1e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@64e247e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@d62feaf, org.springframework.security.web.session.SessionManagementFilter@19d3f4fb, org.springframework.security.web.access.ExceptionTranslationFilter@2604940, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@294ab038]
2023-02-20 12:50:58,722 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 12:50:58,730 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 12:50:58,737 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.791 seconds (JVM running for 2.99)
2023-02-20 12:50:59,030 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 12:50:59,030 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 12:50:59,031 [INFO] [http-nio-8080-exec-2] Completed initialization in 1 ms
2023-02-20 12:50:59,061 [ERROR] [http-nio-8080-exec-2] JWT token is expired: JWT expired at 2023-02-20T12:50:31Z. Current time: 2023-02-20T12:50:59Z, a difference of 28060 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 12:51:00,400 [ERROR] [http-nio-8080-exec-3] JWT token is expired: JWT expired at 2023-02-20T12:50:31Z. Current time: 2023-02-20T12:51:00Z, a difference of 29400 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 12:51:02,944 [ERROR] [http-nio-8080-exec-4] JWT token is expired: JWT expired at 2023-02-20T12:50:31Z. Current time: 2023-02-20T12:51:02Z, a difference of 31944 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 12:51:36,317 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:51:36,318 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 12:51:36,321 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 12:51:37,849 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 12:51:37,870 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 55068 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 12:51:37,870 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 12:51:38,260 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 12:51:38,297 [INFO] [main] Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
2023-02-20 12:51:38,661 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 12:51:38,667 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 12:51:38,667 [INFO] [main] Starting service [Tomcat]
2023-02-20 12:51:38,668 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 12:51:38,719 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 12:51:38,719 [INFO] [main] Root WebApplicationContext: initialization completed in 820 ms
2023-02-20 12:51:38,841 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 12:51:39,013 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 12:51:39,097 [INFO] [main] Set default schema name to public
2023-02-20 12:51:39,163 [INFO] [main] Successfully acquired change log lock
2023-02-20 12:51:39,206 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 12:51:39,213 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 12:51:39,275 [INFO] [main] Reading from public.databasechangelog
2023-02-20 12:51:39,310 [INFO] [main] Successfully released change log lock
2023-02-20 12:51:39,351 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 12:51:39,373 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 12:51:39,464 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 12:51:39,522 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 12:51:39,824 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 12:51:39,828 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:51:40,177 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 12:51:40,279 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@10b7b5f0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@80b70fd, org.springframework.security.web.context.SecurityContextPersistenceFilter@31daf094, org.springframework.security.web.header.HeaderWriterFilter@4a0f4282, org.springframework.web.filter.CorsFilter@5af7e2f, org.springframework.security.web.authentication.logout.LogoutFilter@22a2e581, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@37f7ce20, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e265811, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@55a07f97, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2df24f19, org.springframework.security.web.session.SessionManagementFilter@5cb32140, org.springframework.security.web.access.ExceptionTranslationFilter@5c30decf, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@45bbb3e8]
2023-02-20 12:51:40,403 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 12:51:40,411 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 12:51:40,418 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.855 seconds (JVM running for 3.073)
2023-02-20 12:52:26,968 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:52:26,969 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 12:52:26,973 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 12:52:29,071 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 12:52:29,092 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 55262 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 12:52:29,093 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 12:52:29,465 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 12:52:29,496 [INFO] [main] Finished Spring Data repository scanning in 27 ms. Found 3 JPA repository interfaces.
2023-02-20 12:52:29,852 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 12:52:29,858 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 12:52:29,858 [INFO] [main] Starting service [Tomcat]
2023-02-20 12:52:29,858 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 12:52:29,910 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 12:52:29,910 [INFO] [main] Root WebApplicationContext: initialization completed in 787 ms
2023-02-20 12:52:30,044 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 12:52:30,229 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 12:52:30,302 [INFO] [main] Set default schema name to public
2023-02-20 12:52:30,356 [INFO] [main] Successfully acquired change log lock
2023-02-20 12:52:30,394 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 12:52:30,399 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 12:52:30,460 [INFO] [main] Reading from public.databasechangelog
2023-02-20 12:52:30,495 [INFO] [main] Successfully released change log lock
2023-02-20 12:52:30,541 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 12:52:30,565 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 12:52:30,642 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 12:52:30,693 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 12:52:30,998 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 12:52:31,002 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:52:31,349 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 12:52:31,481 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@11c40a65, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@68c3aa38, org.springframework.security.web.context.SecurityContextPersistenceFilter@80b6098, org.springframework.security.web.header.HeaderWriterFilter@7077ae9c, org.springframework.web.filter.CorsFilter@1196537d, org.springframework.security.web.authentication.logout.LogoutFilter@574e4184, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@74a991cf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7827cdfc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a0f4282, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@267a8777, org.springframework.security.web.session.SessionManagementFilter@2b6ff016, org.springframework.security.web.access.ExceptionTranslationFilter@727de450, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@255b84a9]
2023-02-20 12:52:31,604 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 12:52:31,613 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 12:52:31,620 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.808 seconds (JVM running for 3.018)
2023-02-20 12:52:31,972 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 12:52:31,973 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 12:52:31,973 [INFO] [http-nio-8080-exec-2] Completed initialization in 0 ms
2023-02-20 12:52:37,115 [WARN] [http-nio-8080-exec-4] Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2023-02-20 12:52:42,212 [ERROR] [http-nio-8080-exec-5] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "javax.servlet.http.Cookie.getValue()" because "cookie" is null] with root cause
java.lang.NullPointerException: Cannot invoke "javax.servlet.http.Cookie.getValue()" because "cookie" is null
	at ru.bogdanov.SpringBootsecurityjwt.controller.CurrentUserController.getCurrentUser(CurrentUserController.java:32)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-02-20 12:52:54,906 [ERROR] [http-nio-8080-exec-8] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "javax.servlet.http.Cookie.getValue()" because "cookie" is null] with root cause
java.lang.NullPointerException: Cannot invoke "javax.servlet.http.Cookie.getValue()" because "cookie" is null
	at ru.bogdanov.SpringBootsecurityjwt.controller.CurrentUserController.getCurrentUser(CurrentUserController.java:32)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-02-20 12:53:00,740 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:53:00,741 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 12:53:00,746 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 12:53:02,747 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 12:53:02,766 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 55479 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 12:53:02,767 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 12:53:03,140 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 12:53:03,174 [INFO] [main] Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
2023-02-20 12:53:03,509 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 12:53:03,516 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 12:53:03,516 [INFO] [main] Starting service [Tomcat]
2023-02-20 12:53:03,517 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 12:53:03,570 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 12:53:03,571 [INFO] [main] Root WebApplicationContext: initialization completed in 778 ms
2023-02-20 12:53:03,699 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 12:53:03,882 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 12:53:03,950 [INFO] [main] Set default schema name to public
2023-02-20 12:53:04,023 [INFO] [main] Successfully acquired change log lock
2023-02-20 12:53:04,061 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 12:53:04,067 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 12:53:04,131 [INFO] [main] Reading from public.databasechangelog
2023-02-20 12:53:04,167 [INFO] [main] Successfully released change log lock
2023-02-20 12:53:04,220 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 12:53:04,247 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 12:53:04,325 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 12:53:04,379 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 12:53:04,689 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 12:53:04,692 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:53:05,023 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 12:53:05,120 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@623bdc46, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@411576c7, org.springframework.security.web.context.SecurityContextPersistenceFilter@19d3f4fb, org.springframework.security.web.header.HeaderWriterFilter@22fe90df, org.springframework.web.filter.CorsFilter@332610ad, org.springframework.security.web.authentication.logout.LogoutFilter@53b9952f, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@477e5b69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5c1ea00, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@356ab368, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45bbb3e8, org.springframework.security.web.session.SessionManagementFilter@5c30decf, org.springframework.security.web.access.ExceptionTranslationFilter@22a1d77b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1196537d]
2023-02-20 12:53:05,226 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 12:53:05,234 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 12:53:05,241 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.749 seconds (JVM running for 2.945)
2023-02-20 12:53:05,939 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 12:53:05,939 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 12:53:05,940 [INFO] [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-02-20 12:53:06,060 [WARN] [http-nio-8080-exec-1] Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' not supported]
2023-02-20 12:53:07,158 [WARN] [http-nio-8080-exec-3] Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' not supported]
2023-02-20 12:53:08,258 [WARN] [http-nio-8080-exec-4] Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' not supported]
2023-02-20 12:53:08,930 [WARN] [http-nio-8080-exec-5] Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' not supported]
2023-02-20 12:53:12,022 [ERROR] [http-nio-8080-exec-6] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "javax.servlet.http.Cookie.getValue()" because "cookie" is null] with root cause
java.lang.NullPointerException: Cannot invoke "javax.servlet.http.Cookie.getValue()" because "cookie" is null
	at ru.bogdanov.SpringBootsecurityjwt.controller.CurrentUserController.getCurrentUser(CurrentUserController.java:32)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:696)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-02-20 12:53:33,444 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:53:33,445 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 12:53:33,449 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 12:53:35,508 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 12:53:35,540 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 55676 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 12:53:35,541 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 12:53:35,913 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 12:53:35,945 [INFO] [main] Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.
2023-02-20 12:53:36,286 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 12:53:36,294 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 12:53:36,294 [INFO] [main] Starting service [Tomcat]
2023-02-20 12:53:36,294 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 12:53:36,349 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 12:53:36,349 [INFO] [main] Root WebApplicationContext: initialization completed in 774 ms
2023-02-20 12:53:36,480 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 12:53:36,656 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 12:53:36,727 [INFO] [main] Set default schema name to public
2023-02-20 12:53:36,794 [INFO] [main] Successfully acquired change log lock
2023-02-20 12:53:36,837 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 12:53:36,843 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 12:53:36,906 [INFO] [main] Reading from public.databasechangelog
2023-02-20 12:53:36,941 [INFO] [main] Successfully released change log lock
2023-02-20 12:53:36,994 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 12:53:37,019 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 12:53:37,091 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 12:53:37,143 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 12:53:37,454 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 12:53:37,458 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:53:37,817 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 12:53:37,935 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4f1aa2bc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@13e5c53c, org.springframework.security.web.context.SecurityContextPersistenceFilter@7bdddfa4, org.springframework.security.web.header.HeaderWriterFilter@33986be7, org.springframework.web.filter.CorsFilter@5d03df76, org.springframework.security.web.authentication.logout.LogoutFilter@a70daf4, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@2b9bbaa8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d0fc0bc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2003edf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@17f7a1af, org.springframework.security.web.session.SessionManagementFilter@50d6af87, org.springframework.security.web.access.ExceptionTranslationFilter@3e265811, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@294ebdae]
2023-02-20 12:53:38,055 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 12:53:38,065 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 12:53:38,074 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.828 seconds (JVM running for 3.023)
2023-02-20 12:53:42,374 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 12:53:42,374 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 12:53:42,375 [INFO] [http-nio-8080-exec-2] Completed initialization in 1 ms
2023-02-20 12:53:50,125 [ERROR] [http-nio-8080-exec-4] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 12:54:04,645 [ERROR] [http-nio-8080-exec-8] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "javax.servlet.http.Cookie.getValue()" because "cookie" is null] with root cause
java.lang.NullPointerException: Cannot invoke "javax.servlet.http.Cookie.getValue()" because "cookie" is null
	at ru.bogdanov.SpringBootsecurityjwt.controller.CurrentUserController.getCurrentUser(CurrentUserController.java:32)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:696)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-02-20 12:54:52,283 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:54:52,284 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 12:54:52,287 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 12:54:54,488 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 12:54:54,505 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 55940 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 12:54:54,506 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 12:54:54,878 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 12:54:54,910 [INFO] [main] Finished Spring Data repository scanning in 27 ms. Found 3 JPA repository interfaces.
2023-02-20 12:54:55,247 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 12:54:55,253 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 12:54:55,253 [INFO] [main] Starting service [Tomcat]
2023-02-20 12:54:55,253 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 12:54:55,308 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 12:54:55,308 [INFO] [main] Root WebApplicationContext: initialization completed in 773 ms
2023-02-20 12:54:55,431 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 12:54:55,603 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 12:54:55,678 [INFO] [main] Set default schema name to public
2023-02-20 12:54:55,737 [INFO] [main] Successfully acquired change log lock
2023-02-20 12:54:55,782 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 12:54:55,789 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 12:54:55,863 [INFO] [main] Reading from public.databasechangelog
2023-02-20 12:54:55,895 [INFO] [main] Successfully released change log lock
2023-02-20 12:54:55,939 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 12:54:55,963 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 12:54:56,037 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 12:54:56,087 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 12:54:56,387 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 12:54:56,390 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:54:56,730 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 12:54:56,833 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@445f6aa7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a4238ff, org.springframework.security.web.context.SecurityContextPersistenceFilter@19d3f4fb, org.springframework.security.web.header.HeaderWriterFilter@22fe90df, org.springframework.web.filter.CorsFilter@2b98c310, org.springframework.security.web.authentication.logout.LogoutFilter@53b9952f, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@477e5b69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5c1ea00, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@356ab368, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19834eb7, org.springframework.security.web.session.SessionManagementFilter@5c30decf, org.springframework.security.web.access.ExceptionTranslationFilter@22a1d77b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5bfeb9ba]
2023-02-20 12:54:56,946 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 12:54:56,954 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 12:54:56,961 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.735 seconds (JVM running for 2.945)
2023-02-20 12:54:58,151 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 12:54:58,152 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 12:54:58,152 [INFO] [http-nio-8080-exec-1] Completed initialization in 0 ms
2023-02-20 12:54:58,185 [ERROR] [http-nio-8080-exec-1] JWT token is expired: JWT expired at 2023-02-20T12:54:54Z. Current time: 2023-02-20T12:54:58Z, a difference of 4185 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 12:54:58,200 [ERROR] [http-nio-8080-exec-1] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "javax.servlet.http.Cookie.getValue()" because "cookie" is null] with root cause
java.lang.NullPointerException: Cannot invoke "javax.servlet.http.Cookie.getValue()" because "cookie" is null
	at ru.bogdanov.SpringBootsecurityjwt.controller.CurrentUserController.getCurrentUser(CurrentUserController.java:32)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:696)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-02-20 12:55:05,567 [ERROR] [http-nio-8080-exec-4] JWT token is expired: JWT expired at 2023-02-20T12:54:54Z. Current time: 2023-02-20T12:55:05Z, a difference of 11567 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 12:55:09,380 [ERROR] [http-nio-8080-exec-5] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "javax.servlet.http.Cookie.getValue()" because "cookie" is null] with root cause
java.lang.NullPointerException: Cannot invoke "javax.servlet.http.Cookie.getValue()" because "cookie" is null
	at ru.bogdanov.SpringBootsecurityjwt.controller.CurrentUserController.getCurrentUser(CurrentUserController.java:32)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:696)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-02-20 12:55:18,531 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:55:18,532 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 12:55:18,536 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 12:55:20,469 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 12:55:20,495 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 56156 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 12:55:20,496 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 12:55:20,871 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 12:55:20,904 [INFO] [main] Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
2023-02-20 12:55:21,244 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 12:55:21,251 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 12:55:21,251 [INFO] [main] Starting service [Tomcat]
2023-02-20 12:55:21,252 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 12:55:21,308 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 12:55:21,308 [INFO] [main] Root WebApplicationContext: initialization completed in 783 ms
2023-02-20 12:55:21,453 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 12:55:21,652 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 12:55:21,727 [INFO] [main] Set default schema name to public
2023-02-20 12:55:21,785 [INFO] [main] Successfully acquired change log lock
2023-02-20 12:55:21,828 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 12:55:21,836 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 12:55:21,912 [INFO] [main] Reading from public.databasechangelog
2023-02-20 12:55:21,949 [INFO] [main] Successfully released change log lock
2023-02-20 12:55:21,990 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 12:55:22,013 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 12:55:22,086 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 12:55:22,138 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 12:55:22,444 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 12:55:22,448 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:55:22,787 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 12:55:22,899 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@10b7b5f0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@80b70fd, org.springframework.security.web.context.SecurityContextPersistenceFilter@31daf094, org.springframework.security.web.header.HeaderWriterFilter@4a0f4282, org.springframework.web.filter.CorsFilter@5af7e2f, org.springframework.security.web.authentication.logout.LogoutFilter@22a2e581, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@37f7ce20, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e265811, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@55a07f97, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2df24f19, org.springframework.security.web.session.SessionManagementFilter@5cb32140, org.springframework.security.web.access.ExceptionTranslationFilter@5c30decf, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@45bbb3e8]
2023-02-20 12:55:23,059 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 12:55:23,069 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 12:55:23,076 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.874 seconds (JVM running for 3.084)
2023-02-20 12:55:25,558 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 12:55:25,558 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 12:55:25,559 [INFO] [http-nio-8080-exec-1] Completed initialization in 0 ms
2023-02-20 12:55:25,683 [ERROR] [http-nio-8080-exec-1] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "javax.servlet.http.Cookie.getValue()" because "cookie" is null] with root cause
java.lang.NullPointerException: Cannot invoke "javax.servlet.http.Cookie.getValue()" because "cookie" is null
	at ru.bogdanov.SpringBootsecurityjwt.controller.CurrentUserController.getCurrentUser(CurrentUserController.java:33)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:696)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-02-20 12:55:35,314 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:55:35,316 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 12:55:35,320 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 12:55:37,397 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 12:55:37,421 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 56318 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 12:55:37,421 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 12:55:37,790 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 12:55:37,821 [INFO] [main] Finished Spring Data repository scanning in 27 ms. Found 3 JPA repository interfaces.
2023-02-20 12:55:38,165 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 12:55:38,171 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 12:55:38,172 [INFO] [main] Starting service [Tomcat]
2023-02-20 12:55:38,172 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 12:55:38,226 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 12:55:38,226 [INFO] [main] Root WebApplicationContext: initialization completed in 776 ms
2023-02-20 12:55:38,343 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 12:55:38,514 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 12:55:38,590 [INFO] [main] Set default schema name to public
2023-02-20 12:55:38,647 [INFO] [main] Successfully acquired change log lock
2023-02-20 12:55:38,682 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 12:55:38,687 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 12:55:38,749 [INFO] [main] Reading from public.databasechangelog
2023-02-20 12:55:38,779 [INFO] [main] Successfully released change log lock
2023-02-20 12:55:38,816 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 12:55:38,835 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 12:55:38,901 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 12:55:38,948 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 12:55:39,255 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 12:55:39,258 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:55:39,591 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 12:55:39,689 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@10b7b5f0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@80b70fd, org.springframework.security.web.context.SecurityContextPersistenceFilter@31daf094, org.springframework.security.web.header.HeaderWriterFilter@4a0f4282, org.springframework.web.filter.CorsFilter@5af7e2f, org.springframework.security.web.authentication.logout.LogoutFilter@22a2e581, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@37f7ce20, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e265811, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@55a07f97, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2df24f19, org.springframework.security.web.session.SessionManagementFilter@5cb32140, org.springframework.security.web.access.ExceptionTranslationFilter@5c30decf, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@45bbb3e8]
2023-02-20 12:55:39,796 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 12:55:39,803 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 12:55:39,810 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.68 seconds (JVM running for 2.896)
2023-02-20 12:55:41,196 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 12:55:41,196 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 12:55:41,197 [INFO] [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-02-20 12:55:58,155 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:55:58,156 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 12:55:58,160 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 12:56:00,389 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 12:56:00,421 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 56485 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 12:56:00,422 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 12:56:00,791 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 12:56:00,821 [INFO] [main] Finished Spring Data repository scanning in 26 ms. Found 3 JPA repository interfaces.
2023-02-20 12:56:01,177 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 12:56:01,184 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 12:56:01,184 [INFO] [main] Starting service [Tomcat]
2023-02-20 12:56:01,184 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 12:56:01,236 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 12:56:01,237 [INFO] [main] Root WebApplicationContext: initialization completed in 782 ms
2023-02-20 12:56:01,356 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 12:56:01,556 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 12:56:01,628 [INFO] [main] Set default schema name to public
2023-02-20 12:56:01,688 [INFO] [main] Successfully acquired change log lock
2023-02-20 12:56:01,727 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 12:56:01,733 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 12:56:01,797 [INFO] [main] Reading from public.databasechangelog
2023-02-20 12:56:01,834 [INFO] [main] Successfully released change log lock
2023-02-20 12:56:01,878 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 12:56:01,899 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 12:56:01,972 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 12:56:02,018 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 12:56:02,324 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 12:56:02,327 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:56:02,674 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 12:56:02,766 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@128d397c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@294ab038, org.springframework.security.web.context.SecurityContextPersistenceFilter@43cf97a8, org.springframework.security.web.header.HeaderWriterFilter@2604940, org.springframework.web.filter.CorsFilter@395abe85, org.springframework.security.web.authentication.logout.LogoutFilter@7bdddfa4, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@477e5b69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@356ab368, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3398ed12, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55849272, org.springframework.security.web.session.SessionManagementFilter@7827cdfc, org.springframework.security.web.access.ExceptionTranslationFilter@6f30d0eb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@c76762]
2023-02-20 12:56:02,875 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 12:56:02,885 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 12:56:02,894 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.777 seconds (JVM running for 2.983)
2023-02-20 12:56:03,279 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 12:56:03,279 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 12:56:03,280 [INFO] [http-nio-8080-exec-2] Completed initialization in 1 ms
2023-02-20 12:56:05,319 [ERROR] [http-nio-8080-exec-4] JWT token is expired: JWT expired at 2023-02-20T12:56:05Z. Current time: 2023-02-20T12:56:05Z, a difference of 319 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 12:56:30,809 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:56:30,811 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 12:56:30,815 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 12:56:32,825 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 12:56:32,843 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 56694 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 12:56:32,844 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 12:56:33,222 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 12:56:33,254 [INFO] [main] Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.
2023-02-20 12:56:33,608 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 12:56:33,614 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 12:56:33,614 [INFO] [main] Starting service [Tomcat]
2023-02-20 12:56:33,615 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 12:56:33,663 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 12:56:33,664 [INFO] [main] Root WebApplicationContext: initialization completed in 791 ms
2023-02-20 12:56:33,781 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 12:56:33,946 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 12:56:34,016 [INFO] [main] Set default schema name to public
2023-02-20 12:56:34,069 [INFO] [main] Successfully acquired change log lock
2023-02-20 12:56:34,103 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 12:56:34,108 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 12:56:34,161 [INFO] [main] Reading from public.databasechangelog
2023-02-20 12:56:34,193 [INFO] [main] Successfully released change log lock
2023-02-20 12:56:34,235 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 12:56:34,258 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 12:56:34,333 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 12:56:34,377 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 12:56:34,679 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 12:56:34,682 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:56:35,043 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 12:56:35,146 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@795e8ef5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@13976c57, org.springframework.security.web.context.SecurityContextPersistenceFilter@55a07f97, org.springframework.security.web.header.HeaderWriterFilter@5c1ea00, org.springframework.web.filter.CorsFilter@10b7b5f0, org.springframework.security.web.authentication.logout.LogoutFilter@1690929, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@477e5b69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@748fa354, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@78e59b04, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@80b70fd, org.springframework.security.web.session.SessionManagementFilter@31daf094, org.springframework.security.web.access.ExceptionTranslationFilter@19d3f4fb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@411576c7]
2023-02-20 12:56:35,256 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 12:56:35,265 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 12:56:35,271 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.709 seconds (JVM running for 2.901)
2023-02-20 12:56:35,637 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 12:56:35,637 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 12:56:35,637 [INFO] [http-nio-8080-exec-2] Completed initialization in 0 ms
2023-02-20 12:56:35,668 [ERROR] [http-nio-8080-exec-2] JWT token is expired: JWT expired at 2023-02-20T12:56:05Z. Current time: 2023-02-20T12:56:35Z, a difference of 30668 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 12:56:36,699 [ERROR] [http-nio-8080-exec-3] JWT token is expired: JWT expired at 2023-02-20T12:56:05Z. Current time: 2023-02-20T12:56:36Z, a difference of 31699 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 12:56:53,826 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:56:53,827 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 12:56:53,832 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 12:56:55,858 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 12:56:55,881 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 56862 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 12:56:55,882 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 12:56:56,259 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 12:56:56,292 [INFO] [main] Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.
2023-02-20 12:56:56,621 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 12:56:56,628 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 12:56:56,628 [INFO] [main] Starting service [Tomcat]
2023-02-20 12:56:56,628 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 12:56:56,681 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 12:56:56,682 [INFO] [main] Root WebApplicationContext: initialization completed in 768 ms
2023-02-20 12:56:56,805 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 12:56:56,982 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 12:56:57,055 [INFO] [main] Set default schema name to public
2023-02-20 12:56:57,123 [INFO] [main] Successfully acquired change log lock
2023-02-20 12:56:57,157 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 12:56:57,163 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 12:56:57,219 [INFO] [main] Reading from public.databasechangelog
2023-02-20 12:56:57,252 [INFO] [main] Successfully released change log lock
2023-02-20 12:56:57,292 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 12:56:57,314 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 12:56:57,384 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 12:56:57,430 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 12:56:57,731 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 12:56:57,734 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:56:58,062 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 12:56:58,164 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@520eb9f8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3ecc9baa, org.springframework.security.web.context.SecurityContextPersistenceFilter@55a07f97, org.springframework.security.web.header.HeaderWriterFilter@5c1ea00, org.springframework.web.filter.CorsFilter@4f2a9903, org.springframework.security.web.authentication.logout.LogoutFilter@1690929, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@477e5b69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@748fa354, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@78e59b04, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@294ebdae, org.springframework.security.web.session.SessionManagementFilter@31daf094, org.springframework.security.web.access.ExceptionTranslationFilter@19d3f4fb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@395abe85]
2023-02-20 12:56:58,273 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 12:56:58,282 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 12:56:58,289 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.686 seconds (JVM running for 2.895)
2023-02-20 12:56:58,929 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 12:56:58,929 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 12:56:58,930 [INFO] [http-nio-8080-exec-2] Completed initialization in 1 ms
2023-02-20 12:56:58,961 [ERROR] [http-nio-8080-exec-2] JWT token is expired: JWT expired at 2023-02-20T12:56:05Z. Current time: 2023-02-20T12:56:58Z, a difference of 53961 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 12:57:00,218 [ERROR] [http-nio-8080-exec-3] JWT token is expired: JWT expired at 2023-02-20T12:56:05Z. Current time: 2023-02-20T12:57:00Z, a difference of 55218 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 12:57:45,369 [ERROR] [http-nio-8080-exec-4] JWT token is expired: JWT expired at 2023-02-20T12:56:05Z. Current time: 2023-02-20T12:57:45Z, a difference of 100368 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 12:59:15,619 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:59:15,620 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 12:59:15,626 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 12:59:17,783 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 12:59:17,809 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 57274 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 12:59:17,810 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 12:59:18,158 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 12:59:18,190 [INFO] [main] Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.
2023-02-20 12:59:18,520 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 12:59:18,526 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 12:59:18,526 [INFO] [main] Starting service [Tomcat]
2023-02-20 12:59:18,527 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 12:59:18,575 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 12:59:18,576 [INFO] [main] Root WebApplicationContext: initialization completed in 737 ms
2023-02-20 12:59:18,706 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 12:59:18,889 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 12:59:18,959 [INFO] [main] Set default schema name to public
2023-02-20 12:59:19,015 [INFO] [main] Successfully acquired change log lock
2023-02-20 12:59:19,055 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 12:59:19,061 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 12:59:19,124 [INFO] [main] Reading from public.databasechangelog
2023-02-20 12:59:19,153 [INFO] [main] Successfully released change log lock
2023-02-20 12:59:19,193 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 12:59:19,215 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 12:59:19,292 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 12:59:19,345 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 12:59:19,655 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 12:59:19,659 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 12:59:19,986 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 12:59:20,094 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@255b84a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3a286095, org.springframework.security.web.context.SecurityContextPersistenceFilter@118c1faa, org.springframework.security.web.header.HeaderWriterFilter@4ac0fdc7, org.springframework.web.filter.CorsFilter@26723525, org.springframework.security.web.authentication.logout.LogoutFilter@5ed88e31, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@7e58b0f6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@99f75e4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b6ff016, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@11c40a65, org.springframework.security.web.session.SessionManagementFilter@2e564c78, org.springframework.security.web.access.ExceptionTranslationFilter@1c24639e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5dc8448b]
2023-02-20 12:59:20,213 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 12:59:20,223 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 12:59:20,231 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.707 seconds (JVM running for 2.918)
2023-02-20 12:59:30,001 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 12:59:30,001 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 12:59:30,002 [INFO] [http-nio-8080-exec-2] Completed initialization in 1 ms
2023-02-20 12:59:30,283 [ERROR] [http-nio-8080-exec-2] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: secret key byte array cannot be null or empty.] with root cause
java.lang.IllegalArgumentException: secret key byte array cannot be null or empty.
	at io.jsonwebtoken.lang.Assert.notEmpty(Assert.java:204)
	at io.jsonwebtoken.impl.DefaultJwtBuilder.signWith(DefaultJwtBuilder.java:88)
	at io.jsonwebtoken.impl.DefaultJwtBuilder.signWith(DefaultJwtBuilder.java:100)
	at ru.bogdanov.SpringBootsecurityjwt.security.jwt.JwtUtils.generateTokenFromUsername(JwtUtils.java:91)
	at ru.bogdanov.SpringBootsecurityjwt.security.jwt.JwtUtils.generateJwtCookie(JwtUtils.java:34)
	at ru.bogdanov.SpringBootsecurityjwt.controller.SingInController.authenticateUser(SingInController.java:48)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:696)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-02-20 13:00:01,158 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 13:00:01,160 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 13:00:01,164 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 13:00:02,612 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 13:00:02,632 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 57559 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 13:00:02,633 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 13:00:03,037 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 13:00:03,070 [INFO] [main] Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.
2023-02-20 13:00:03,416 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 13:00:03,422 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 13:00:03,422 [INFO] [main] Starting service [Tomcat]
2023-02-20 13:00:03,423 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 13:00:03,476 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 13:00:03,476 [INFO] [main] Root WebApplicationContext: initialization completed in 812 ms
2023-02-20 13:00:03,596 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 13:00:03,795 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 13:00:03,865 [INFO] [main] Set default schema name to public
2023-02-20 13:00:03,926 [INFO] [main] Successfully acquired change log lock
2023-02-20 13:00:03,965 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 13:00:03,971 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 13:00:04,036 [INFO] [main] Reading from public.databasechangelog
2023-02-20 13:00:04,075 [INFO] [main] Successfully released change log lock
2023-02-20 13:00:04,127 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 13:00:04,151 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 13:00:04,226 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 13:00:04,274 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 13:00:04,591 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 13:00:04,595 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 13:00:04,942 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 13:00:05,036 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4f2a9903, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@294ebdae, org.springframework.security.web.context.SecurityContextPersistenceFilter@55a07f97, org.springframework.security.web.header.HeaderWriterFilter@5c1ea00, org.springframework.web.filter.CorsFilter@e280006, org.springframework.security.web.authentication.logout.LogoutFilter@1690929, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@477e5b69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@748fa354, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@78e59b04, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@54e3cba2, org.springframework.security.web.session.SessionManagementFilter@31daf094, org.springframework.security.web.access.ExceptionTranslationFilter@19d3f4fb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2eb91767]
2023-02-20 13:00:05,158 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 13:00:05,168 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 13:00:05,178 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.835 seconds (JVM running for 3.075)
2023-02-20 13:00:10,066 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 13:00:10,066 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 13:00:10,067 [INFO] [http-nio-8080-exec-2] Completed initialization in 1 ms
2023-02-20 13:00:13,049 [ERROR] [http-nio-8080-exec-3] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:01:14,486 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 13:01:14,488 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 13:01:14,491 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 13:01:16,452 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 13:01:16,475 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 57799 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 13:01:16,476 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 13:01:16,852 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 13:01:16,884 [INFO] [main] Finished Spring Data repository scanning in 27 ms. Found 3 JPA repository interfaces.
2023-02-20 13:01:17,236 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 13:01:17,242 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 13:01:17,243 [INFO] [main] Starting service [Tomcat]
2023-02-20 13:01:17,243 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 13:01:17,297 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 13:01:17,298 [INFO] [main] Root WebApplicationContext: initialization completed in 794 ms
2023-02-20 13:01:17,422 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 13:01:17,609 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 13:01:17,685 [INFO] [main] Set default schema name to public
2023-02-20 13:01:17,745 [INFO] [main] Successfully acquired change log lock
2023-02-20 13:01:17,780 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 13:01:17,785 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 13:01:17,853 [INFO] [main] Reading from public.databasechangelog
2023-02-20 13:01:17,890 [INFO] [main] Successfully released change log lock
2023-02-20 13:01:17,933 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 13:01:17,957 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 13:01:18,036 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 13:01:18,082 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 13:01:18,387 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 13:01:18,391 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 13:01:18,761 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 13:01:18,873 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2db82155, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@128d397c, org.springframework.security.web.context.SecurityContextPersistenceFilter@118c1faa, org.springframework.security.web.header.HeaderWriterFilter@4ac0fdc7, org.springframework.web.filter.CorsFilter@294ab038, org.springframework.security.web.authentication.logout.LogoutFilter@5ed88e31, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@6dd1f239, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@99f75e4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b6ff016, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@395abe85, org.springframework.security.web.session.SessionManagementFilter@2e564c78, org.springframework.security.web.access.ExceptionTranslationFilter@1c24639e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2df24f19]
2023-02-20 13:01:19,001 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 13:01:19,010 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 13:01:19,017 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.829 seconds (JVM running for 3.036)
2023-02-20 13:01:20,066 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 13:01:20,067 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 13:01:20,067 [INFO] [http-nio-8080-exec-1] Completed initialization in 0 ms
2023-02-20 13:01:20,098 [ERROR] [http-nio-8080-exec-1] JWT token is expired: JWT expired at 2023-02-20T13:01:13Z. Current time: 2023-02-20T13:01:20Z, a difference of 7097 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:01:22,694 [ERROR] [http-nio-8080-exec-3] JWT token is expired: JWT expired at 2023-02-20T13:01:13Z. Current time: 2023-02-20T13:01:22Z, a difference of 9694 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:01:28,856 [ERROR] [http-nio-8080-exec-4] JWT token is expired: JWT expired at 2023-02-20T13:01:13Z. Current time: 2023-02-20T13:01:28Z, a difference of 15856 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:02:32,853 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 13:02:32,855 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 13:02:32,859 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 13:02:34,804 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 13:02:34,826 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 58059 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 13:02:34,827 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 13:02:35,200 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 13:02:35,232 [INFO] [main] Finished Spring Data repository scanning in 27 ms. Found 3 JPA repository interfaces.
2023-02-20 13:02:35,559 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 13:02:35,566 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 13:02:35,566 [INFO] [main] Starting service [Tomcat]
2023-02-20 13:02:35,566 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 13:02:35,618 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 13:02:35,618 [INFO] [main] Root WebApplicationContext: initialization completed in 762 ms
2023-02-20 13:02:35,752 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 13:02:35,925 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 13:02:35,999 [INFO] [main] Set default schema name to public
2023-02-20 13:02:36,053 [INFO] [main] Successfully acquired change log lock
2023-02-20 13:02:36,086 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 13:02:36,091 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 13:02:36,151 [INFO] [main] Reading from public.databasechangelog
2023-02-20 13:02:36,182 [INFO] [main] Successfully released change log lock
2023-02-20 13:02:36,228 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 13:02:36,250 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 13:02:36,326 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 13:02:36,375 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 13:02:36,678 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 13:02:36,682 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 13:02:37,033 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 13:02:37,142 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2db82155, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@128d397c, org.springframework.security.web.context.SecurityContextPersistenceFilter@118c1faa, org.springframework.security.web.header.HeaderWriterFilter@4ac0fdc7, org.springframework.web.filter.CorsFilter@294ab038, org.springframework.security.web.authentication.logout.LogoutFilter@5ed88e31, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@6dd1f239, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@99f75e4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b6ff016, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@395abe85, org.springframework.security.web.session.SessionManagementFilter@2e564c78, org.springframework.security.web.access.ExceptionTranslationFilter@1c24639e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2df24f19]
2023-02-20 13:02:37,278 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 13:02:37,291 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 13:02:37,302 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.76 seconds (JVM running for 2.957)
2023-02-20 13:02:40,025 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 13:02:40,025 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 13:02:40,026 [INFO] [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-02-20 13:02:40,057 [ERROR] [http-nio-8080-exec-1] JWT token is expired: JWT expired at 2023-02-20T13:02:37Z. Current time: 2023-02-20T13:02:40Z, a difference of 3057 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:02:46,898 [ERROR] [http-nio-8080-exec-3] JWT token is expired: JWT expired at 2023-02-20T13:02:37Z. Current time: 2023-02-20T13:02:46Z, a difference of 9898 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:02:49,628 [ERROR] [http-nio-8080-exec-4] JWT token is expired: JWT expired at 2023-02-20T13:02:37Z. Current time: 2023-02-20T13:02:49Z, a difference of 12628 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:02:51,763 [ERROR] [http-nio-8080-exec-5] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:04:03,005 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 13:04:03,006 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 13:04:03,009 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 13:04:05,146 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 13:04:05,172 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 58638 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 13:04:05,173 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 13:04:05,557 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 13:04:05,589 [INFO] [main] Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.
2023-02-20 13:04:05,925 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 13:04:05,931 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 13:04:05,931 [INFO] [main] Starting service [Tomcat]
2023-02-20 13:04:05,931 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 13:04:05,983 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 13:04:05,983 [INFO] [main] Root WebApplicationContext: initialization completed in 776 ms
2023-02-20 13:04:06,104 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 13:04:06,278 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 13:04:06,348 [INFO] [main] Set default schema name to public
2023-02-20 13:04:06,427 [INFO] [main] Successfully acquired change log lock
2023-02-20 13:04:06,472 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 13:04:06,478 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 13:04:06,547 [INFO] [main] Reading from public.databasechangelog
2023-02-20 13:04:06,575 [INFO] [main] Successfully released change log lock
2023-02-20 13:04:06,622 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 13:04:06,645 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 13:04:06,713 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 13:04:06,766 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 13:04:07,102 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 13:04:07,106 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 13:04:07,494 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 13:04:07,606 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@784c74e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5fee3c9c, org.springframework.security.web.context.SecurityContextPersistenceFilter@118c1faa, org.springframework.security.web.header.HeaderWriterFilter@4ac0fdc7, org.springframework.web.filter.CorsFilter@7e577eed, org.springframework.security.web.authentication.logout.LogoutFilter@5ed88e31, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@7e58b0f6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@99f75e4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b6ff016, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@11a0c708, org.springframework.security.web.session.SessionManagementFilter@2e564c78, org.springframework.security.web.access.ExceptionTranslationFilter@1c24639e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@14b9817b]
2023-02-20 13:04:07,734 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 13:04:07,742 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 13:04:07,749 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.87 seconds (JVM running for 3.073)
2023-02-20 13:04:08,895 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 13:04:08,896 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 13:04:08,897 [INFO] [http-nio-8080-exec-2] Completed initialization in 1 ms
2023-02-20 13:04:08,922 [ERROR] [http-nio-8080-exec-2] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:04:10,561 [ERROR] [http-nio-8080-exec-3] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:04:12,022 [ERROR] [http-nio-8080-exec-4] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:04:13,712 [ERROR] [http-nio-8080-exec-5] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:04:16,529 [ERROR] [http-nio-8080-exec-6] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:04:18,298 [ERROR] [http-nio-8080-exec-7] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:04:19,503 [ERROR] [http-nio-8080-exec-8] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:04:20,348 [ERROR] [http-nio-8080-exec-9] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:04:21,305 [ERROR] [http-nio-8080-exec-10] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:04:22,279 [ERROR] [http-nio-8080-exec-1] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:04:23,196 [ERROR] [http-nio-8080-exec-2] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:05:18,324 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 13:05:18,325 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 13:05:18,329 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 13:05:20,386 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 13:05:20,406 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 58915 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 13:05:20,407 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 13:05:20,773 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 13:05:20,805 [INFO] [main] Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.
2023-02-20 13:05:21,139 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 13:05:21,145 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 13:05:21,145 [INFO] [main] Starting service [Tomcat]
2023-02-20 13:05:21,146 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 13:05:21,200 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 13:05:21,200 [INFO] [main] Root WebApplicationContext: initialization completed in 765 ms
2023-02-20 13:05:21,325 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 13:05:21,512 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 13:05:21,597 [INFO] [main] Set default schema name to public
2023-02-20 13:05:21,660 [INFO] [main] Successfully acquired change log lock
2023-02-20 13:05:21,702 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 13:05:21,710 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 13:05:21,777 [INFO] [main] Reading from public.databasechangelog
2023-02-20 13:05:21,810 [INFO] [main] Successfully released change log lock
2023-02-20 13:05:21,860 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 13:05:21,883 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 13:05:21,953 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 13:05:21,997 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 13:05:22,304 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 13:05:22,307 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 13:05:22,650 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 13:05:22,765 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5978ba12, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@43f5b014, org.springframework.security.web.context.SecurityContextPersistenceFilter@2e6f1f48, org.springframework.security.web.header.HeaderWriterFilter@7827cdfc, org.springframework.web.filter.CorsFilter@6b7e4db6, org.springframework.security.web.authentication.logout.LogoutFilter@733e3c19, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@50841932, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@574413bd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3ad9fea, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5c59dfc7, org.springframework.security.web.session.SessionManagementFilter@43c20142, org.springframework.security.web.access.ExceptionTranslationFilter@80b6098, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@d62feaf]
2023-02-20 13:05:22,900 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 13:05:22,908 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 13:05:22,915 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.783 seconds (JVM running for 2.991)
2023-02-20 13:05:23,275 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 13:05:23,275 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 13:05:23,276 [INFO] [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-02-20 13:05:23,290 [ERROR] [http-nio-8080-exec-1] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:05:24,400 [ERROR] [http-nio-8080-exec-3] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:05:27,179 [ERROR] [http-nio-8080-exec-4] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:05:30,434 [ERROR] [http-nio-8080-exec-5] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:06:54,643 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 13:06:54,644 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 13:06:54,648 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 13:06:56,825 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 13:06:56,851 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 59242 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 13:06:56,852 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 13:06:57,232 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 13:06:57,264 [INFO] [main] Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.
2023-02-20 13:06:57,635 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 13:06:57,641 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 13:06:57,641 [INFO] [main] Starting service [Tomcat]
2023-02-20 13:06:57,641 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 13:06:57,698 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 13:06:57,698 [INFO] [main] Root WebApplicationContext: initialization completed in 815 ms
2023-02-20 13:06:57,819 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 13:06:58,004 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 13:06:58,077 [INFO] [main] Set default schema name to public
2023-02-20 13:06:58,145 [INFO] [main] Successfully acquired change log lock
2023-02-20 13:06:58,187 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 13:06:58,195 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 13:06:58,256 [INFO] [main] Reading from public.databasechangelog
2023-02-20 13:06:58,294 [INFO] [main] Successfully released change log lock
2023-02-20 13:06:58,339 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 13:06:58,363 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 13:06:58,438 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 13:06:58,483 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 13:06:58,786 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 13:06:58,790 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 13:06:59,129 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 13:06:59,246 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@30259c61, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33d08a24, org.springframework.security.web.context.SecurityContextPersistenceFilter@118c1faa, org.springframework.security.web.header.HeaderWriterFilter@4ac0fdc7, org.springframework.web.filter.CorsFilter@255b84a9, org.springframework.security.web.authentication.logout.LogoutFilter@5ed88e31, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@37f7ce20, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@99f75e4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b6ff016, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a286095, org.springframework.security.web.session.SessionManagementFilter@2e564c78, org.springframework.security.web.access.ExceptionTranslationFilter@1c24639e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@19834eb7]
2023-02-20 13:06:59,367 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 13:06:59,377 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 13:06:59,385 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.84 seconds (JVM running for 3.043)
2023-02-20 13:07:00,578 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 13:07:00,578 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 13:07:00,579 [INFO] [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-02-20 13:07:00,609 [ERROR] [http-nio-8080-exec-1] JWT token is expired: JWT expired at 2023-02-20T13:06:52Z. Current time: 2023-02-20T13:07:00Z, a difference of 8609 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:07:02,147 [ERROR] [http-nio-8080-exec-3] JWT token is expired: JWT expired at 2023-02-20T13:06:52Z. Current time: 2023-02-20T13:07:02Z, a difference of 10146 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:23:29,482 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 13:23:29,484 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 13:23:29,487 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 13:23:32,010 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 13:23:32,031 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 61387 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 13:23:32,032 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 13:23:32,396 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 13:23:32,429 [INFO] [main] Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
2023-02-20 13:23:32,773 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 13:23:32,780 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 13:23:32,781 [INFO] [main] Starting service [Tomcat]
2023-02-20 13:23:32,781 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 13:23:32,833 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 13:23:32,833 [INFO] [main] Root WebApplicationContext: initialization completed in 775 ms
2023-02-20 13:23:32,963 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 13:23:33,148 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 13:23:33,249 [INFO] [main] Set default schema name to public
2023-02-20 13:23:33,320 [INFO] [main] Successfully acquired change log lock
2023-02-20 13:23:33,356 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 13:23:33,362 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 13:23:33,421 [INFO] [main] Reading from public.databasechangelog
2023-02-20 13:23:33,450 [INFO] [main] Successfully released change log lock
2023-02-20 13:23:33,494 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 13:23:33,517 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 13:23:33,590 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 13:23:33,637 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 13:23:33,944 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 13:23:33,948 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 13:23:34,288 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 13:23:34,393 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2db82155, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@128d397c, org.springframework.security.web.context.SecurityContextPersistenceFilter@3458be63, org.springframework.security.web.header.HeaderWriterFilter@5aefdb9e, org.springframework.web.filter.CorsFilter@294ab038, org.springframework.security.web.authentication.logout.LogoutFilter@46df794e, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@477e5b69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5cb32140, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@139b3a29, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@395abe85, org.springframework.security.web.session.SessionManagementFilter@64e247e, org.springframework.security.web.access.ExceptionTranslationFilter@99f75e4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2df24f19]
2023-02-20 13:23:34,499 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 13:23:34,508 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 13:23:34,515 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.768 seconds (JVM running for 2.961)
2023-02-20 13:23:35,703 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 13:23:35,703 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 13:23:35,704 [INFO] [http-nio-8080-exec-2] Completed initialization in 0 ms
2023-02-20 13:23:35,736 [ERROR] [http-nio-8080-exec-2] JWT token is expired: JWT expired at 2023-02-20T13:06:52Z. Current time: 2023-02-20T13:23:35Z, a difference of 1003735 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:23:37,369 [ERROR] [http-nio-8080-exec-3] JWT token is expired: JWT expired at 2023-02-20T13:06:52Z. Current time: 2023-02-20T13:23:37Z, a difference of 1005369 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:23:39,364 [ERROR] [http-nio-8080-exec-4] JWT token is expired: JWT expired at 2023-02-20T13:06:52Z. Current time: 2023-02-20T13:23:39Z, a difference of 1007364 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:23:45,247 [ERROR] [http-nio-8080-exec-5] JWT token is expired: JWT expired at 2023-02-20T13:06:52Z. Current time: 2023-02-20T13:23:45Z, a difference of 1013247 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:23:47,186 [ERROR] [http-nio-8080-exec-6] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:25:44,648 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 13:25:44,650 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 13:25:44,653 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 13:25:47,047 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 13:25:47,073 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 61722 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 13:25:47,073 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 13:25:47,444 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 13:25:47,475 [INFO] [main] Finished Spring Data repository scanning in 27 ms. Found 3 JPA repository interfaces.
2023-02-20 13:25:47,808 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 13:25:47,814 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 13:25:47,814 [INFO] [main] Starting service [Tomcat]
2023-02-20 13:25:47,814 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 13:25:47,866 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 13:25:47,866 [INFO] [main] Root WebApplicationContext: initialization completed in 764 ms
2023-02-20 13:25:47,991 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 13:25:48,174 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 13:25:48,247 [INFO] [main] Set default schema name to public
2023-02-20 13:25:48,314 [INFO] [main] Successfully acquired change log lock
2023-02-20 13:25:48,350 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 13:25:48,356 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 13:25:48,417 [INFO] [main] Reading from public.databasechangelog
2023-02-20 13:25:48,449 [INFO] [main] Successfully released change log lock
2023-02-20 13:25:48,491 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 13:25:48,514 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 13:25:48,589 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 13:25:48,640 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 13:25:48,959 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 13:25:48,962 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 13:25:49,286 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 13:25:49,387 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@54e3cba2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4f1aa2bc, org.springframework.security.web.context.SecurityContextPersistenceFilter@3ad9fea, org.springframework.security.web.header.HeaderWriterFilter@3458be63, org.springframework.web.filter.CorsFilter@13e5c53c, org.springframework.security.web.authentication.logout.LogoutFilter@22bca04e, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@2b9bbaa8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f5df012, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@38f3dbbf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d03df76, org.springframework.security.web.session.SessionManagementFilter@2e6f1f48, org.springframework.security.web.access.ExceptionTranslationFilter@66df362c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4f2a9903]
2023-02-20 13:25:49,496 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 13:25:49,504 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 13:25:49,511 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.742 seconds (JVM running for 2.956)
2023-02-20 13:26:19,320 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 13:26:19,321 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 13:26:19,325 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 13:26:21,467 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 13:26:21,497 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 61897 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 13:26:21,498 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 13:26:21,873 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 13:26:21,905 [INFO] [main] Finished Spring Data repository scanning in 27 ms. Found 3 JPA repository interfaces.
2023-02-20 13:26:22,234 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 13:26:22,241 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 13:26:22,242 [INFO] [main] Starting service [Tomcat]
2023-02-20 13:26:22,242 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 13:26:22,294 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 13:26:22,294 [INFO] [main] Root WebApplicationContext: initialization completed in 762 ms
2023-02-20 13:26:22,414 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 13:26:22,602 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 13:26:22,669 [INFO] [main] Set default schema name to public
2023-02-20 13:26:22,720 [INFO] [main] Successfully acquired change log lock
2023-02-20 13:26:22,754 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 13:26:22,759 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 13:26:22,817 [INFO] [main] Reading from public.databasechangelog
2023-02-20 13:26:22,847 [INFO] [main] Successfully released change log lock
2023-02-20 13:26:22,895 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 13:26:22,915 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 13:26:22,987 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 13:26:23,035 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 13:26:23,350 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 13:26:23,354 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 13:26:23,716 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 13:26:23,808 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3ecc9baa, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4f2a9903, org.springframework.security.web.context.SecurityContextPersistenceFilter@64e247e, org.springframework.security.web.header.HeaderWriterFilter@da5b46f, org.springframework.web.filter.CorsFilter@294ebdae, org.springframework.security.web.authentication.logout.LogoutFilter@1ec09a68, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@7e58b0f6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@125ba798, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3458be63, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e280006, org.springframework.security.web.session.SessionManagementFilter@356ab368, org.springframework.security.web.access.ExceptionTranslationFilter@11267e87, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@55849272]
2023-02-20 13:26:23,924 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 13:26:23,932 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 13:26:23,939 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.759 seconds (JVM running for 2.967)
2023-02-20 13:26:24,373 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 13:26:24,373 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 13:26:24,373 [INFO] [http-nio-8080-exec-1] Completed initialization in 0 ms
2023-02-20 13:26:24,404 [ERROR] [http-nio-8080-exec-1] JWT token is expired: JWT expired at 2023-02-20T13:24:47Z. Current time: 2023-02-20T13:26:24Z, a difference of 97404 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:26:25,789 [ERROR] [http-nio-8080-exec-3] JWT token is expired: JWT expired at 2023-02-20T13:24:47Z. Current time: 2023-02-20T13:26:25Z, a difference of 98788 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:26:27,323 [ERROR] [http-nio-8080-exec-4] JWT token is expired: JWT expired at 2023-02-20T13:24:47Z. Current time: 2023-02-20T13:26:27Z, a difference of 100323 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:26:28,309 [ERROR] [http-nio-8080-exec-5] JWT token is expired: JWT expired at 2023-02-20T13:24:47Z. Current time: 2023-02-20T13:26:28Z, a difference of 101309 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:26:29,430 [ERROR] [http-nio-8080-exec-6] JWT token is expired: JWT expired at 2023-02-20T13:24:47Z. Current time: 2023-02-20T13:26:29Z, a difference of 102430 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:26:30,728 [ERROR] [http-nio-8080-exec-7] JWT token is expired: JWT expired at 2023-02-20T13:24:47Z. Current time: 2023-02-20T13:26:30Z, a difference of 103728 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:26:31,808 [ERROR] [http-nio-8080-exec-8] JWT token is expired: JWT expired at 2023-02-20T13:24:47Z. Current time: 2023-02-20T13:26:31Z, a difference of 104808 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:26:32,982 [ERROR] [http-nio-8080-exec-9] JWT token is expired: JWT expired at 2023-02-20T13:24:47Z. Current time: 2023-02-20T13:26:32Z, a difference of 105982 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:26:34,049 [ERROR] [http-nio-8080-exec-10] JWT token is expired: JWT expired at 2023-02-20T13:24:47Z. Current time: 2023-02-20T13:26:34Z, a difference of 107048 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:26:35,137 [ERROR] [http-nio-8080-exec-2] JWT token is expired: JWT expired at 2023-02-20T13:24:47Z. Current time: 2023-02-20T13:26:35Z, a difference of 108136 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:26:55,509 [ERROR] [http-nio-8080-exec-1] JWT token is expired: JWT expired at 2023-02-20T13:24:47Z. Current time: 2023-02-20T13:26:55Z, a difference of 128509 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:27:31,541 [ERROR] [http-nio-8080-exec-3] JWT token is expired: JWT expired at 2023-02-20T13:24:47Z. Current time: 2023-02-20T13:27:31Z, a difference of 164541 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:27:33,867 [ERROR] [http-nio-8080-exec-4] JWT token is expired: JWT expired at 2023-02-20T13:24:47Z. Current time: 2023-02-20T13:27:33Z, a difference of 166867 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:27:47,166 [ERROR] [http-nio-8080-exec-5] JWT token is expired: JWT expired at 2023-02-20T13:24:47Z. Current time: 2023-02-20T13:27:47Z, a difference of 180166 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:27:47,816 [ERROR] [http-nio-8080-exec-6] JWT token is expired: JWT expired at 2023-02-20T13:24:47Z. Current time: 2023-02-20T13:27:47Z, a difference of 180816 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:27:49,996 [ERROR] [http-nio-8080-exec-7] JWT token is expired: JWT expired at 2023-02-20T13:24:47Z. Current time: 2023-02-20T13:27:49Z, a difference of 182996 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:27:50,645 [ERROR] [http-nio-8080-exec-8] JWT token is expired: JWT expired at 2023-02-20T13:24:47Z. Current time: 2023-02-20T13:27:50Z, a difference of 183645 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:27:58,479 [ERROR] [http-nio-8080-exec-9] JWT token is expired: JWT expired at 2023-02-20T13:24:47Z. Current time: 2023-02-20T13:27:58Z, a difference of 191479 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:28:07,246 [ERROR] [http-nio-8080-exec-10] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:28:12,817 [ERROR] [http-nio-8080-exec-2] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:28:34,669 [ERROR] [http-nio-8080-exec-2] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:32:00,884 [ERROR] [http-nio-8080-exec-3] JWT token is expired: JWT expired at 2023-02-20T13:29:34Z. Current time: 2023-02-20T13:32:00Z, a difference of 146884 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:32:03,655 [ERROR] [http-nio-8080-exec-5] JWT token is expired: JWT expired at 2023-02-20T13:29:34Z. Current time: 2023-02-20T13:32:03Z, a difference of 149655 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:32:04,554 [ERROR] [http-nio-8080-exec-6] JWT token is expired: JWT expired at 2023-02-20T13:29:34Z. Current time: 2023-02-20T13:32:04Z, a difference of 150554 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:32:05,469 [ERROR] [http-nio-8080-exec-7] JWT token is expired: JWT expired at 2023-02-20T13:29:34Z. Current time: 2023-02-20T13:32:05Z, a difference of 151469 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:32:53,046 [ERROR] [http-nio-8080-exec-8] JWT token is expired: JWT expired at 2023-02-20T13:29:34Z. Current time: 2023-02-20T13:32:53Z, a difference of 199046 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:33:48,984 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 13:33:48,985 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 13:33:48,989 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 13:33:51,444 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 13:33:51,466 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 62831 (/home/max/Рабочий стол/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/SpringBoot-security-jwt)
2023-02-20 13:33:51,467 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 13:33:51,835 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 13:33:51,867 [INFO] [main] Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.
2023-02-20 13:33:52,215 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 13:33:52,222 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 13:33:52,222 [INFO] [main] Starting service [Tomcat]
2023-02-20 13:33:52,223 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 13:33:52,276 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 13:33:52,276 [INFO] [main] Root WebApplicationContext: initialization completed in 780 ms
2023-02-20 13:33:52,398 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 13:33:52,577 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 13:33:52,650 [INFO] [main] Set default schema name to public
2023-02-20 13:33:52,723 [INFO] [main] Successfully acquired change log lock
2023-02-20 13:33:52,768 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 13:33:52,775 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 13:33:52,848 [INFO] [main] Reading from public.databasechangelog
2023-02-20 13:33:52,886 [INFO] [main] Successfully released change log lock
2023-02-20 13:33:52,930 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 13:33:52,954 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 13:33:53,026 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 13:33:53,072 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 13:33:53,375 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 13:33:53,378 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 13:33:53,716 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 13:33:53,814 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@54e3cba2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4f1aa2bc, org.springframework.security.web.context.SecurityContextPersistenceFilter@3ad9fea, org.springframework.security.web.header.HeaderWriterFilter@3458be63, org.springframework.web.filter.CorsFilter@13e5c53c, org.springframework.security.web.authentication.logout.LogoutFilter@22bca04e, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@2b9bbaa8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f5df012, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@38f3dbbf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d03df76, org.springframework.security.web.session.SessionManagementFilter@2e6f1f48, org.springframework.security.web.access.ExceptionTranslationFilter@66df362c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4f2a9903]
2023-02-20 13:33:53,929 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 13:33:53,937 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 13:33:53,944 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.756 seconds (JVM running for 2.959)
2023-02-20 13:33:54,204 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 13:33:54,205 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 13:33:54,205 [INFO] [http-nio-8080-exec-2] Completed initialization in 0 ms
2023-02-20 13:33:54,235 [ERROR] [http-nio-8080-exec-2] JWT token is expired: JWT expired at 2023-02-20T13:29:34Z. Current time: 2023-02-20T13:33:54Z, a difference of 260235 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:33:55,344 [ERROR] [http-nio-8080-exec-3] JWT token is expired: JWT expired at 2023-02-20T13:29:34Z. Current time: 2023-02-20T13:33:55Z, a difference of 261344 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:33:56,095 [ERROR] [http-nio-8080-exec-4] JWT token is expired: JWT expired at 2023-02-20T13:29:34Z. Current time: 2023-02-20T13:33:56Z, a difference of 262095 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:33:58,878 [ERROR] [http-nio-8080-exec-5] JWT token is expired: JWT expired at 2023-02-20T13:29:34Z. Current time: 2023-02-20T13:33:58Z, a difference of 264878 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:34:02,195 [ERROR] [http-nio-8080-exec-6] JWT token is expired: JWT expired at 2023-02-20T13:29:34Z. Current time: 2023-02-20T13:34:02Z, a difference of 268195 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:34:33,167 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 13:34:33,168 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 13:34:33,171 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 13:40:38,625 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 13:40:38,648 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 64550 (/home/max/Рабочий стол/test/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/test/SpringBoot-security-jwt)
2023-02-20 13:40:38,649 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 13:40:39,033 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 13:40:39,071 [INFO] [main] Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
2023-02-20 13:40:39,449 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 13:40:39,460 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 13:40:39,460 [INFO] [main] Starting service [Tomcat]
2023-02-20 13:40:39,461 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 13:40:39,518 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 13:40:39,518 [INFO] [main] Root WebApplicationContext: initialization completed in 839 ms
2023-02-20 13:40:39,652 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 13:40:39,834 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 13:40:39,906 [INFO] [main] Set default schema name to public
2023-02-20 13:40:39,975 [INFO] [main] Successfully acquired change log lock
2023-02-20 13:40:40,010 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 13:40:40,017 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 13:40:40,086 [INFO] [main] Reading from public.databasechangelog
2023-02-20 13:40:40,130 [INFO] [main] Successfully released change log lock
2023-02-20 13:40:40,179 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 13:40:40,202 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 13:40:40,280 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 13:40:40,326 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 13:40:40,623 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 13:40:40,626 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 13:40:40,991 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 13:40:41,130 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4cf1bd4a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26619e5, org.springframework.security.web.context.SecurityContextPersistenceFilter@118c1faa, org.springframework.security.web.header.HeaderWriterFilter@4ac0fdc7, org.springframework.web.filter.CorsFilter@445f6aa7, org.springframework.security.web.authentication.logout.LogoutFilter@5ed88e31, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@37f7ce20, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@99f75e4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b6ff016, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6a4238ff, org.springframework.security.web.session.SessionManagementFilter@2e564c78, org.springframework.security.web.access.ExceptionTranslationFilter@1c24639e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@30bfdcc5]
2023-02-20 13:40:41,285 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 13:40:41,295 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 13:40:41,302 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.955 seconds (JVM running for 3.163)
2023-02-20 13:40:42,647 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 13:40:42,647 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 13:40:42,648 [INFO] [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-02-20 13:40:42,678 [ERROR] [http-nio-8080-exec-1] JWT token is expired: JWT expired at 2023-02-20T13:35:05Z. Current time: 2023-02-20T13:40:42Z, a difference of 337678 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:40:44,869 [ERROR] [http-nio-8080-exec-3] JWT token is expired: JWT expired at 2023-02-20T13:35:05Z. Current time: 2023-02-20T13:40:44Z, a difference of 339869 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:40:46,240 [ERROR] [http-nio-8080-exec-4] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:40:47,644 [ERROR] [http-nio-8080-exec-5] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:40:50,375 [ERROR] [http-nio-8080-exec-6] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:40:53,757 [ERROR] [http-nio-8080-exec-7] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:40:55,894 [ERROR] [http-nio-8080-exec-8] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:41:14,831 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 13:41:14,832 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 13:41:14,836 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 13:41:17,139 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 13:41:17,167 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 64792 (/home/max/Рабочий стол/test/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/test/SpringBoot-security-jwt)
2023-02-20 13:41:17,169 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 13:41:17,583 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 13:41:17,623 [INFO] [main] Finished Spring Data repository scanning in 36 ms. Found 3 JPA repository interfaces.
2023-02-20 13:41:17,982 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 13:41:17,989 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 13:41:17,990 [INFO] [main] Starting service [Tomcat]
2023-02-20 13:41:17,990 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 13:41:18,047 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 13:41:18,048 [INFO] [main] Root WebApplicationContext: initialization completed in 848 ms
2023-02-20 13:41:18,178 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 13:41:18,352 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 13:41:18,422 [INFO] [main] Set default schema name to public
2023-02-20 13:41:18,478 [INFO] [main] Successfully acquired change log lock
2023-02-20 13:41:18,512 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 13:41:18,518 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 13:41:18,579 [INFO] [main] Reading from public.databasechangelog
2023-02-20 13:41:18,613 [INFO] [main] Successfully released change log lock
2023-02-20 13:41:18,652 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 13:41:18,677 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 13:41:18,756 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 13:41:18,806 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 13:41:19,126 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 13:41:19,130 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 13:41:19,554 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 13:41:19,658 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@e280006, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54e3cba2, org.springframework.security.web.context.SecurityContextPersistenceFilter@574413bd, org.springframework.security.web.header.HeaderWriterFilter@125ba798, org.springframework.web.filter.CorsFilter@4f1aa2bc, org.springframework.security.web.authentication.logout.LogoutFilter@22ba30b0, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@2b9bbaa8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@556e4588, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f5df012, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@13e5c53c, org.springframework.security.web.session.SessionManagementFilter@78e59b04, org.springframework.security.web.access.ExceptionTranslationFilter@64e247e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3ecc9baa]
2023-02-20 13:41:19,779 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 13:41:19,787 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 13:41:19,794 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.981 seconds (JVM running for 3.194)
2023-02-20 13:41:25,210 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 13:41:25,210 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 13:41:25,211 [INFO] [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-02-20 13:45:41,886 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 13:45:41,887 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 13:45:41,890 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 13:45:44,095 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 13:45:44,135 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 65571 (/home/max/Рабочий стол/test/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/test/SpringBoot-security-jwt)
2023-02-20 13:45:44,136 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 13:45:44,562 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 13:45:44,594 [INFO] [main] Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.
2023-02-20 13:45:44,943 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 13:45:44,950 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 13:45:44,950 [INFO] [main] Starting service [Tomcat]
2023-02-20 13:45:44,950 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 13:45:45,007 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 13:45:45,007 [INFO] [main] Root WebApplicationContext: initialization completed in 837 ms
2023-02-20 13:45:45,138 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 13:45:45,325 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 13:45:45,409 [INFO] [main] Set default schema name to public
2023-02-20 13:45:45,474 [INFO] [main] Successfully acquired change log lock
2023-02-20 13:45:45,514 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 13:45:45,520 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 13:45:45,589 [INFO] [main] Reading from public.databasechangelog
2023-02-20 13:45:45,623 [INFO] [main] Successfully released change log lock
2023-02-20 13:45:45,666 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 13:45:45,688 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 13:45:45,761 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 13:45:45,813 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 13:45:46,118 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 13:45:46,122 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 13:45:46,454 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 13:45:46,560 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1e9b0c92, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5bfeb9ba, org.springframework.security.web.context.SecurityContextPersistenceFilter@118c1faa, org.springframework.security.web.header.HeaderWriterFilter@4ac0fdc7, org.springframework.web.filter.CorsFilter@4cf1bd4a, org.springframework.security.web.authentication.logout.LogoutFilter@5ed88e31, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@37f7ce20, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@99f75e4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b6ff016, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@26619e5, org.springframework.security.web.session.SessionManagementFilter@2e564c78, org.springframework.security.web.access.ExceptionTranslationFilter@1c24639e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7e577eed]
2023-02-20 13:45:46,682 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 13:45:46,690 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 13:45:46,697 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.866 seconds (JVM running for 3.073)
2023-02-20 13:45:50,613 [INFO] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 13:45:50,613 [INFO] [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-02-20 13:45:50,614 [INFO] [http-nio-8080-exec-2] Completed initialization in 0 ms
2023-02-20 13:45:50,645 [ERROR] [http-nio-8080-exec-2] JWT token is expired: JWT expired at 2023-02-20T13:42:26Z. Current time: 2023-02-20T13:45:50Z, a difference of 204644 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:45:55,672 [ERROR] [http-nio-8080-exec-3] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:45:57,421 [ERROR] [http-nio-8080-exec-4] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:46:03,898 [ERROR] [http-nio-8080-exec-6] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:46:49,326 [ERROR] [http-nio-8080-exec-10] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:47:27,460 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 13:47:27,461 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 13:47:27,465 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 13:47:29,639 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 13:47:29,661 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 66114 (/home/max/Рабочий стол/test/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/test/SpringBoot-security-jwt)
2023-02-20 13:47:29,662 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 13:47:30,032 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 13:47:30,065 [INFO] [main] Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.
2023-02-20 13:47:30,400 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 13:47:30,407 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 13:47:30,407 [INFO] [main] Starting service [Tomcat]
2023-02-20 13:47:30,407 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 13:47:30,461 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 13:47:30,461 [INFO] [main] Root WebApplicationContext: initialization completed in 770 ms
2023-02-20 13:47:30,581 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 13:47:30,757 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 13:47:30,829 [INFO] [main] Set default schema name to public
2023-02-20 13:47:30,906 [INFO] [main] Successfully acquired change log lock
2023-02-20 13:47:30,952 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 13:47:30,959 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 13:47:31,029 [INFO] [main] Reading from public.databasechangelog
2023-02-20 13:47:31,066 [INFO] [main] Successfully released change log lock
2023-02-20 13:47:31,112 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 13:47:31,140 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 13:47:31,228 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 13:47:31,274 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 13:47:31,581 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 13:47:31,584 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 13:47:31,921 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 13:47:32,025 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@623bdc46, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@411576c7, org.springframework.security.web.context.SecurityContextPersistenceFilter@19d3f4fb, org.springframework.security.web.header.HeaderWriterFilter@22fe90df, org.springframework.web.filter.CorsFilter@332610ad, org.springframework.security.web.authentication.logout.LogoutFilter@53b9952f, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@477e5b69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5c1ea00, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@356ab368, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45bbb3e8, org.springframework.security.web.session.SessionManagementFilter@5c30decf, org.springframework.security.web.access.ExceptionTranslationFilter@22a1d77b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1196537d]
2023-02-20 13:47:32,135 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 13:47:32,144 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 13:47:32,151 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.819 seconds (JVM running for 3.076)
2023-02-20 13:47:37,652 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 13:47:37,652 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 13:47:37,653 [INFO] [http-nio-8080-exec-1] Completed initialization in 0 ms
2023-02-20 13:47:40,512 [ERROR] [http-nio-8080-exec-3] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:49:14,601 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 13:49:14,602 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 13:49:14,607 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 13:49:16,742 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 13:49:16,762 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 66389 (/home/max/Рабочий стол/test/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/test/SpringBoot-security-jwt)
2023-02-20 13:49:16,763 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 13:49:17,132 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 13:49:17,163 [INFO] [main] Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.
2023-02-20 13:49:17,497 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 13:49:17,503 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 13:49:17,504 [INFO] [main] Starting service [Tomcat]
2023-02-20 13:49:17,504 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 13:49:17,555 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 13:49:17,555 [INFO] [main] Root WebApplicationContext: initialization completed in 762 ms
2023-02-20 13:49:17,693 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 13:49:17,883 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 13:49:17,965 [INFO] [main] Set default schema name to public
2023-02-20 13:49:18,034 [INFO] [main] Successfully acquired change log lock
2023-02-20 13:49:18,073 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 13:49:18,081 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 13:49:18,154 [INFO] [main] Reading from public.databasechangelog
2023-02-20 13:49:18,188 [INFO] [main] Successfully released change log lock
2023-02-20 13:49:18,244 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 13:49:18,273 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 13:49:18,345 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 13:49:18,392 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 13:49:18,698 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 13:49:18,702 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 13:49:19,075 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 13:49:19,229 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@30259c61, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33d08a24, org.springframework.security.web.context.SecurityContextPersistenceFilter@118c1faa, org.springframework.security.web.header.HeaderWriterFilter@4ac0fdc7, org.springframework.web.filter.CorsFilter@255b84a9, org.springframework.security.web.authentication.logout.LogoutFilter@5ed88e31, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@37f7ce20, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@99f75e4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b6ff016, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a286095, org.springframework.security.web.session.SessionManagementFilter@2e564c78, org.springframework.security.web.access.ExceptionTranslationFilter@1c24639e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@19834eb7]
2023-02-20 13:49:19,355 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 13:49:19,363 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 13:49:19,371 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.888 seconds (JVM running for 3.085)
2023-02-20 13:49:19,973 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 13:49:19,973 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 13:49:19,974 [INFO] [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-02-20 13:49:20,003 [ERROR] [http-nio-8080-exec-1] JWT token is expired: JWT expired at 2023-02-20T13:48:45Z. Current time: 2023-02-20T13:49:20Z, a difference of 35003 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:49:20,689 [ERROR] [http-nio-8080-exec-3] JWT token is expired: JWT expired at 2023-02-20T13:48:45Z. Current time: 2023-02-20T13:49:20Z, a difference of 35688 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:49:22,278 [ERROR] [http-nio-8080-exec-4] JWT token is expired: JWT expired at 2023-02-20T13:48:45Z. Current time: 2023-02-20T13:49:22Z, a difference of 37278 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:49:24,042 [ERROR] [http-nio-8080-exec-5] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:49:24,701 [ERROR] [http-nio-8080-exec-6] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:49:25,404 [ERROR] [http-nio-8080-exec-7] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:49:26,276 [ERROR] [http-nio-8080-exec-8] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:49:28,870 [ERROR] [http-nio-8080-exec-9] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:50:36,441 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 13:50:36,442 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 13:50:36,446 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-02-20 13:50:38,467 [INFO] [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2023-02-20 13:50:38,489 [INFO] [main] Starting SpringBootSecurityJwtApplication using Java 18.0.2-ea on max with PID 66686 (/home/max/Рабочий стол/test/SpringBoot-security-jwt/target/classes started by max in /home/max/Рабочий стол/test/SpringBoot-security-jwt)
2023-02-20 13:50:38,491 [INFO] [main] No active profile set, falling back to 1 default profile: "default"
2023-02-20 13:50:38,871 [INFO] [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-20 13:50:38,903 [INFO] [main] Finished Spring Data repository scanning in 27 ms. Found 3 JPA repository interfaces.
2023-02-20 13:50:39,233 [INFO] [main] Tomcat initialized with port(s): 8080 (http)
2023-02-20 13:50:39,239 [INFO] [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-20 13:50:39,239 [INFO] [main] Starting service [Tomcat]
2023-02-20 13:50:39,240 [INFO] [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-02-20 13:50:39,292 [INFO] [main] Initializing Spring embedded WebApplicationContext
2023-02-20 13:50:39,292 [INFO] [main] Root WebApplicationContext: initialization completed in 771 ms
2023-02-20 13:50:39,416 [INFO] [main] HikariPool-1 - Starting...
2023-02-20 13:50:39,595 [INFO] [main] HikariPool-1 - Start completed.
2023-02-20 13:50:39,671 [INFO] [main] Set default schema name to public
2023-02-20 13:50:39,724 [INFO] [main] Successfully acquired change log lock
2023-02-20 13:50:39,759 [INFO] [main] Reading resource: db/changelog/changes/v0001.sql
2023-02-20 13:50:39,764 [INFO] [main] Reading resource: db/changelog/changes/v0002.sql
2023-02-20 13:50:39,827 [INFO] [main] Reading from public.databasechangelog
2023-02-20 13:50:39,864 [INFO] [main] Successfully released change log lock
2023-02-20 13:50:39,917 [INFO] [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-20 13:50:39,945 [INFO] [main] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-20 13:50:40,014 [INFO] [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-20 13:50:40,065 [INFO] [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-02-20 13:50:40,363 [INFO] [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-20 13:50:40,367 [INFO] [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 13:50:40,724 [WARN] [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-20 13:50:40,824 [INFO] [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@54e3cba2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4f1aa2bc, org.springframework.security.web.context.SecurityContextPersistenceFilter@3ad9fea, org.springframework.security.web.header.HeaderWriterFilter@3458be63, org.springframework.web.filter.CorsFilter@13e5c53c, org.springframework.security.web.authentication.logout.LogoutFilter@22bca04e, ru.bogdanov.SpringBootsecurityjwt.security.jwt.AuthTokenFilter@2b9bbaa8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f5df012, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@38f3dbbf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d03df76, org.springframework.security.web.session.SessionManagementFilter@2e6f1f48, org.springframework.security.web.access.ExceptionTranslationFilter@66df362c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4f2a9903]
2023-02-20 13:50:40,948 [INFO] [main] Starting ProtocolHandler ["http-nio-8080"]
2023-02-20 13:50:40,958 [INFO] [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-20 13:50:40,965 [INFO] [main] Started SpringBootSecurityJwtApplication in 2.752 seconds (JVM running for 2.954)
2023-02-20 13:50:42,723 [INFO] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-20 13:50:42,723 [INFO] [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-02-20 13:50:42,724 [INFO] [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-02-20 13:50:42,753 [ERROR] [http-nio-8080-exec-1] JWT token is expired: JWT expired at 2023-02-20T13:50:30Z. Current time: 2023-02-20T13:50:42Z, a difference of 12753 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:51:21,665 [ERROR] [http-nio-8080-exec-2] JWT claims string is empty: JWT String argument cannot be null or empty.
2023-02-20 13:52:39,889 [ERROR] [http-nio-8080-exec-5] JWT token is expired: JWT expired at 2023-02-20T13:52:30Z. Current time: 2023-02-20T13:52:39Z, a difference of 9889 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:52:39,895 [ERROR] [http-nio-8080-exec-5] Unauthorized error: Full authentication is required to access this resource
2023-02-20 13:52:40,848 [ERROR] [http-nio-8080-exec-6] JWT token is expired: JWT expired at 2023-02-20T13:52:30Z. Current time: 2023-02-20T13:52:40Z, a difference of 10848 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:52:40,849 [ERROR] [http-nio-8080-exec-6] Unauthorized error: Full authentication is required to access this resource
2023-02-20 13:52:41,716 [ERROR] [http-nio-8080-exec-7] JWT token is expired: JWT expired at 2023-02-20T13:52:30Z. Current time: 2023-02-20T13:52:41Z, a difference of 11716 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:52:41,717 [ERROR] [http-nio-8080-exec-7] Unauthorized error: Full authentication is required to access this resource
2023-02-20 13:52:42,570 [ERROR] [http-nio-8080-exec-8] JWT token is expired: JWT expired at 2023-02-20T13:52:30Z. Current time: 2023-02-20T13:52:42Z, a difference of 12569 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:52:42,570 [ERROR] [http-nio-8080-exec-8] Unauthorized error: Full authentication is required to access this resource
2023-02-20 13:52:44,641 [ERROR] [http-nio-8080-exec-9] JWT token is expired: JWT expired at 2023-02-20T13:52:30Z. Current time: 2023-02-20T13:52:44Z, a difference of 14641 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-02-20 13:53:39,365 [INFO] [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-20 13:53:39,366 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-02-20 13:53:39,370 [INFO] [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
